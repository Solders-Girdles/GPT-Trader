{
  "artifact": "guard_stack_map",
  "description": "Guard stack map (preflight checks vs runtime guards + monitoring).",
  "clusters": [
    {
      "id": "preflight",
      "label": "Preflight"
    },
    {
      "id": "runtime",
      "label": "Runtime Guards + Monitoring"
    }
  ],
  "nodes": [
    {
      "id": "preflight_entry",
      "label": "Preflight entrypoint",
      "type": "entrypoint",
      "path": "scripts/production_preflight.py",
      "cluster": "preflight"
    },
    {
      "id": "preflight_cli",
      "label": "Preflight CLI",
      "type": "cli",
      "path": "src/gpt_trader/preflight/cli.py",
      "cluster": "preflight"
    },
    {
      "id": "preflight_core",
      "label": "PreflightCheck",
      "type": "core",
      "path": "src/gpt_trader/preflight/core.py",
      "cluster": "preflight"
    },
    {
      "id": "preflight_checks",
      "label": "Preflight checks",
      "type": "checks",
      "path": "src/gpt_trader/preflight/checks/",
      "cluster": "preflight"
    },
    {
      "id": "preflight_report",
      "label": "Preflight report",
      "type": "report",
      "path": "src/gpt_trader/preflight/report.py",
      "cluster": "preflight"
    },
    {
      "id": "trading_engine",
      "label": "TradingEngine",
      "type": "runtime",
      "path": "src/gpt_trader/features/live_trade/engines/strategy.py",
      "cluster": "runtime"
    },
    {
      "id": "execution_guard_manager",
      "label": "GuardManager (execution)",
      "type": "runtime_guard",
      "path": "src/gpt_trader/features/live_trade/execution/guard_manager.py",
      "cluster": "runtime"
    },
    {
      "id": "execution_guards",
      "label": "Execution guards",
      "type": "guards",
      "path": "src/gpt_trader/features/live_trade/execution/guards/",
      "cluster": "runtime"
    },
    {
      "id": "monitoring_guard_manager",
      "label": "RuntimeGuardManager",
      "type": "monitoring",
      "path": "src/gpt_trader/monitoring/guards/manager.py",
      "cluster": "runtime"
    },
    {
      "id": "monitoring_guards",
      "label": "Monitoring guards",
      "type": "monitoring",
      "path": "src/gpt_trader/monitoring/guards/builtins.py",
      "cluster": "runtime"
    },
    {
      "id": "health_signals",
      "label": "Health signals",
      "type": "monitoring",
      "path": "src/gpt_trader/monitoring/health_signals.py",
      "cluster": "runtime"
    },
    {
      "id": "health_checks",
      "label": "Health checks",
      "type": "monitoring",
      "path": "src/gpt_trader/monitoring/health_checks.py",
      "cluster": "runtime"
    },
    {
      "id": "status_reporter",
      "label": "Status reporter",
      "type": "monitoring",
      "path": "src/gpt_trader/monitoring/status_reporter.py",
      "cluster": "runtime"
    }
  ],
  "edges": [
    {
      "from": "preflight_entry",
      "to": "preflight_cli",
      "label": "delegate CLI"
    },
    {
      "from": "preflight_cli",
      "to": "preflight_core",
      "label": "create PreflightCheck"
    },
    {
      "from": "preflight_core",
      "to": "preflight_checks",
      "label": "run checks"
    },
    {
      "from": "preflight_core",
      "to": "preflight_report",
      "label": "generate report"
    },
    {
      "from": "trading_engine",
      "to": "execution_guard_manager",
      "label": "runtime guard sweep"
    },
    {
      "from": "execution_guard_manager",
      "to": "execution_guards",
      "label": "execute runtime guards"
    },
    {
      "from": "trading_engine",
      "to": "execution_guards",
      "label": "pre-trade guard stack"
    },
    {
      "from": "trading_engine",
      "to": "monitoring_guard_manager",
      "label": "emit guard events"
    },
    {
      "from": "monitoring_guard_manager",
      "to": "monitoring_guards",
      "label": "evaluate guards"
    },
    {
      "from": "monitoring_guards",
      "to": "health_signals",
      "label": "emit health signals"
    },
    {
      "from": "health_signals",
      "to": "health_checks",
      "label": "evaluate thresholds"
    },
    {
      "from": "health_checks",
      "to": "status_reporter",
      "label": "report status"
    }
  ],
  "notes": [
    "Preflight checks run via the preflight CLI and PreflightCheck facade.",
    "Runtime guard sweep is owned by TradingEngine and GuardManager."
  ],
  "generated_at": "2026-01-18T01:50:49.709888+00:00"
}

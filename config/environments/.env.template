# =============================================================================
# GPT-TRADER ENVIRONMENT TEMPLATE (MINIMAL OPERATOR CONFIG)
# =============================================================================
# Copy this file to `.env` for local development.
#
# This template is intentionally small: only common "operator knobs" live here.
# For the complete, generated reference of every env var used by code, see:
# `var/agents/configuration/environment_variables.md`
# =============================================================================

# -----------------------------------------------------------------------------
# CORE
# -----------------------------------------------------------------------------
ENV=development
BROKER=coinbase
LOG_LEVEL=INFO
COINBASE_TRADER_DEBUG=0

# -----------------------------------------------------------------------------
# SAFETY (DEFAULTS ARE SAFE FOR LOCAL DEV)
# -----------------------------------------------------------------------------
MOCK_BROKER=1     # 1=mock/deterministic broker (no real API calls)
DRY_RUN=1         # 1=don't place real orders
PERPS_PAPER=1     # 1=paper trade perps (when perps are enabled)

# -----------------------------------------------------------------------------
# MARKET MODES
# -----------------------------------------------------------------------------
TRADING_MODES=spot          # "spot", "cfm", or "spot,cfm"
CFM_ENABLED=0               # 1=enable Coinbase Financial Markets futures
COINBASE_ENABLE_INTX_PERPS=0  # 1=enable INTX perpetuals (non-US account)

TRADING_SYMBOLS=BTC-USD,ETH-USD
COINBASE_DEFAULT_QUOTE=USD

# -----------------------------------------------------------------------------
# COINBASE API
# -----------------------------------------------------------------------------
COINBASE_API_MODE=advanced
COINBASE_SANDBOX=1

# Preferred: JSON key file
COINBASE_CREDENTIALS_FILE=
# Or set both env vars:
# COINBASE_CDP_API_KEY=
# COINBASE_CDP_PRIVATE_KEY=
# Production INTX credentials:
# COINBASE_PROD_CDP_API_KEY=
# COINBASE_PROD_CDP_PRIVATE_KEY=
# Legacy fallback (still supported):
# COINBASE_API_KEY_NAME=
# COINBASE_PRIVATE_KEY=

# -----------------------------------------------------------------------------
# BOT LOOP / STATUS
# -----------------------------------------------------------------------------
INTERVAL=60
STATUS_ENABLED=1
STATUS_FILE=var/data/status.json
STATUS_INTERVAL=60
WEBHOOK_URL=

# -----------------------------------------------------------------------------
# RISK (HIGH-LEVEL GUARDRAILS)
# -----------------------------------------------------------------------------
ORDER_PREVIEW_ENABLED=1
RISK_MAX_LEVERAGE=3
RISK_MAX_EXPOSURE_PCT=0.30
RISK_MAX_POSITION_PCT_PER_SYMBOL=0.10
RISK_DAILY_LOSS_LIMIT_PCT=0.05
RISK_KILL_SWITCH_ENABLED=0
RISK_REDUCE_ONLY_MODE=0

# -----------------------------------------------------------------------------
# STORAGE PATHS
# -----------------------------------------------------------------------------
GPT_TRADER_RUNTIME_ROOT=.
# EVENT_STORE_ROOT=  # Optional override; if unset, uses GPT_TRADER_RUNTIME_ROOT

# -----------------------------------------------------------------------------
# HEALTH / METRICS
# -----------------------------------------------------------------------------
GPT_TRADER_HEALTH_SERVER_ENABLED=0
GPT_TRADER_HEALTH_PORT=8080
GPT_TRADER_METRICS_ENDPOINT_ENABLED=0

# -----------------------------------------------------------------------------
# SECRETS (PRODUCTION)
# -----------------------------------------------------------------------------
GPT_TRADER_ENCRYPTION_KEY=
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=

{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "GPT-Trader Error Types",
  "description": "Error hierarchy for trading operations",
  "error_codes": {
    "TradingError": {
      "code": "TRADING_ERROR",
      "description": "Base class for all trading errors",
      "recoverable_default": true,
      "class_doc": "Base exception class for all trading-related errors"
    },
    "DataError": {
      "code": "DATA_ERROR",
      "description": "Issues with market data",
      "recoverable_default": true,
      "class_doc": "Raised when there are issues with market data"
    },
    "ConfigurationError": {
      "code": "CONFIG_ERROR",
      "description": "Configuration issues",
      "recoverable_default": false,
      "class_doc": "Raised when there are configuration issues"
    },
    "ValidationError": {
      "code": "VALIDATION_ERROR",
      "description": "Input validation failures",
      "recoverable_default": false,
      "class_doc": "Raised when input validation fails"
    },
    "ExecutionError": {
      "code": "EXECUTION_ERROR",
      "description": "Trade execution failures",
      "recoverable_default": true,
      "class_doc": "Raised when trade execution fails"
    },
    "NetworkError": {
      "code": "NETWORK_ERROR",
      "description": "Network/API failures",
      "recoverable_default": true,
      "class_doc": "Raised when network/API calls fail"
    },
    "InsufficientFundsError": {
      "code": "INSUFFICIENT_FUNDS",
      "description": "Not enough balance for operation",
      "recoverable_default": false,
      "class_doc": "Raised when there are insufficient funds for a trade"
    },
    "StrategyError": {
      "code": "STRATEGY_ERROR",
      "description": "Strategy execution failures",
      "recoverable_default": true,
      "class_doc": "Raised when strategy execution fails"
    },
    "BacktestError": {
      "code": "BACKTEST_ERROR",
      "description": "Backtesting failures",
      "recoverable_default": true,
      "class_doc": "Raised when backtesting fails"
    },
    "OptimizationError": {
      "code": "OPTIMIZATION_ERROR",
      "description": "Optimization failures",
      "recoverable_default": true,
      "class_doc": "Raised when optimization fails"
    },
    "RiskLimitExceeded": {
      "code": "RISK_LIMIT_EXCEEDED",
      "description": "Risk limits breached",
      "recoverable_default": false,
      "class_doc": "Raised when risk limits are exceeded"
    },
    "TimeoutError": {
      "code": "TIMEOUT_ERROR",
      "description": "Operation timed out",
      "recoverable_default": true,
      "class_doc": "Raised when an operation times out."
    },
    "SliceIsolationError": {
      "code": "SLICE_ISOLATION_ERROR",
      "description": "Feature slice isolation violated",
      "recoverable_default": false,
      "class_doc": "Raised when slice isolation is violated"
    },
    "AggregateError": {
      "code": "AGGREGATE_ERROR",
      "description": "Multiple errors occurred",
      "recoverable_default": true,
      "class_doc": "Container for multiple errors"
    }
  },
  "recovery_guide": {
    "TRADING_ERROR": [
      "Check error context",
      "Retry operation if transient"
    ],
    "DATA_ERROR": [
      "Verify symbol is valid",
      "Check data source availability",
      "Retry with backoff"
    ],
    "CONFIG_ERROR": [
      "Check config file syntax",
      "Verify required fields",
      "Compare with schema"
    ],
    "VALIDATION_ERROR": [
      "Check field value against schema",
      "Verify data types",
      "Check constraints"
    ],
    "EXECUTION_ERROR": [
      "Check order status",
      "Verify account balance",
      "Retry if transient"
    ],
    "NETWORK_ERROR": [
      "Retry with exponential backoff",
      "Check API status",
      "Verify credentials"
    ],
    "INSUFFICIENT_FUNDS": [
      "Reduce order size",
      "Deposit funds",
      "Close existing positions"
    ],
    "STRATEGY_ERROR": [
      "Check strategy parameters",
      "Verify data inputs",
      "Review strategy logic"
    ],
    "BACKTEST_ERROR": [
      "Check date range",
      "Verify data availability",
      "Reduce backtest scope"
    ],
    "OPTIMIZATION_ERROR": [
      "Check parameter bounds",
      "Reduce trial count",
      "Verify objective function"
    ],
    "RISK_LIMIT_EXCEEDED": [
      "Reduce position size",
      "Close positions to reduce exposure",
      "Adjust risk parameters"
    ],
    "TIMEOUT_ERROR": [
      "Increase timeout",
      "Retry operation",
      "Check system resources"
    ],
    "SLICE_ISOLATION_ERROR": [
      "Review import dependencies",
      "Check slice boundaries",
      "Refactor to use proper interfaces"
    ],
    "AGGREGATE_ERROR": [
      "Process each contained error",
      "Fix errors in order of severity"
    ]
  },
  "base_error_schema": {
    "type": "object",
    "properties": {
      "error_code": {
        "type": "string",
        "description": "Machine-readable error code"
      },
      "message": {
        "type": "string",
        "description": "Human-readable error message"
      },
      "context": {
        "type": "object",
        "description": "Additional error context"
      },
      "recoverable": {
        "type": "boolean",
        "description": "Whether error is recoverable"
      },
      "timestamp": {
        "type": "string",
        "format": "date-time"
      },
      "traceback": {
        "type": "string",
        "description": "Stack trace if available"
      }
    },
    "required": [
      "error_code",
      "message"
    ]
  },
  "cli_error_codes": {
    "UNKNOWN_ERROR": "UNKNOWN_ERROR",
    "VALIDATION_ERROR": "VALIDATION_ERROR",
    "INTERNAL_ERROR": "INTERNAL_ERROR",
    "RUN_NOT_FOUND": "RUN_NOT_FOUND",
    "FILE_NOT_FOUND": "FILE_NOT_FOUND",
    "CONFIG_NOT_FOUND": "CONFIG_NOT_FOUND",
    "CONFIG_INVALID": "CONFIG_INVALID",
    "STUDY_NOT_FOUND": "STUDY_NOT_FOUND",
    "INSUFFICIENT_RUNS": "INSUFFICIENT_RUNS",
    "STUDY_INCOMPLETE": "STUDY_INCOMPLETE",
    "NO_BEST_PARAMS": "NO_BEST_PARAMS",
    "OPERATION_FAILED": "OPERATION_FAILED",
    "API_ERROR": "API_ERROR",
    "AUTHENTICATION_FAILED": "AUTHENTICATION_FAILED",
    "NETWORK_ERROR": "NETWORK_ERROR",
    "RATE_LIMITED": "RATE_LIMITED",
    "INVALID_ARGUMENT": "INVALID_ARGUMENT",
    "MISSING_ARGUMENT": "MISSING_ARGUMENT"
  }
}

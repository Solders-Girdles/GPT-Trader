/* ========================================================================== */
/* FOCUS INDICATORS (Accessibility)                                           */
/* ========================================================================== */

/* Global focus indicator - subtle accent */
*:focus {
    border-left: wide $accent;
}

/* DataTable focus - highlight selected row */
DataTable:focus {
    border-left: wide $accent;
}

DataTable > .datatable--cursor {
    background: $overlay-focus;  /* Subtle highlight for cursor row */
}

DataTable:focus > .datatable--cursor {
    background: rgba(212, 116, 79, 0.3);  /* Stronger highlight when focused */
    color: $text-primary;
}

/* TabbedContent focus - highlight active tab */
TabbedContent:focus Tab.-active {
    border: none;
    border-left: wide $accent;
    text-style: bold;
}

/* Input/Select focus - subtle left accent */
Input:focus, Select:focus {
    border-left: wide $accent;
}

/* ========================================================================== */
/* TILE FOCUS - 2D Grid Navigation                                            */
/* ========================================================================== */

/* === Focus Ring for Bento Tiles === */

/* Focused tile - clean left accent only */
.bento-tile.tile-focused {
    border: none;
    border-left: wide $accent;
    background: $elevation-2;
}

/* Focused tile header gets accent color */
.bento-tile.tile-focused .widget-header {
    color: $accent;
    border-left: wide $accent;
}

/* Hero tile gets extra emphasis when focused */
#tile-hero.tile-focused {
    border: none;
    border-left: wide $accent;
    background: $elevation-2;
}

/* === Focus Navigation Hints === */

/* Arrow indicators showing navigation direction
 * Note: Textual uses dock-based positioning, not absolute.
 */
.focus-nav-hint {
    color: $accent;
    text-style: bold;
    width: auto;
    height: auto;
}

.focus-nav-up { dock: top; }
.focus-nav-down { dock: bottom; }
.focus-nav-left { dock: left; }
.focus-nav-right { dock: right; }

/* === Actions Hint Row === */

/* Container for tile actions - shown at bottom of focused tiles */
.tile-actions-hint {
    height: 1;
    width: 100%;
    background: $accent-subtle;
    color: $text-secondary;
    padding: 0 1;
    layout: horizontal;
    align: left middle;
    border: none;
    display: none;
}

/* Show actions hint only when tile is focused */
.bento-tile.tile-focused .tile-actions-hint {
    display: block;
}

/* Tile-specific action hint styling - slightly more prominent */
.tile-actions-hint .action-hint {
    padding: 0 2;
    color: $text-secondary;
}

/* === Focus Indicator Badge === */

/* Numbered badge showing current tile position */
.focus-indicator {
    background: $accent;
    color: $bg-primary;
    padding: 0 1;
    text-style: bold;
    display: none;
    min-width: 3;
    text-align: center;
}

.bento-tile.tile-focused .focus-indicator {
    display: block;
}

/* === Focus Position Label === */

/* Shows "1/4" style position indicator */
.focus-position {
    color: $text-muted;
    padding: 0 1;
    text-align: right;
    display: none;
}

.bento-tile.tile-focused .focus-position {
    display: block;
}

/* === Keyboard Shortcut Overlay === */

/* Enter key hint shown on focused tile */
.focus-enter-hint {
    color: $accent;
    text-style: bold;
    padding: 0 1;
    background: $accent-subtle;
    display: none;
}

.bento-tile.tile-focused .focus-enter-hint {
    display: block;
}

/* === Unfocused Tile Styling === */

/* Note: Textual doesn't support :not() pseudo-class.
 * Unfocused tile dimming is handled by the focused tile's
 * elevated background creating visual contrast instead.
 */

/* === Focus Ring Animation (Terminal-safe) === */

/* Pulsing indicator class - toggled by Python */
.focus-pulse {
    border-left: wide $accent;
}

/* Core Component Styles
 *
 * This module defines styling for core UI components used throughout the TUI:
 * - Headers and Footers
 * - Buttons
 * - DataTables
 * - Widget Headers
 * - Empty States
 *
 * All components use the warm Claude Code palette defined in _theme.tcss
 */

/* === Headers & Footers === */

Header {
    dock: top;
    height: 1;
    background: $bg-secondary;
    color: $text-primary;
}

Footer {
    dock: bottom;
    height: 1;
    background: $bg-secondary;
    color: $text-primary;
}

/* === Widget Headers === */

.header {
    color: $accent;
    text-style: bold;
    text-align: left;              /* Left-aligned editorial style */
    background: $bg-elevated;
    padding: $spacing-xs $spacing-md;
    border-bottom: thick $accent-muted;
    height: 3;
}

.header-icon {
    color: $accent;
    margin-right: $spacing-xs;
}

/* === Buttons === */

Button {
    min-width: 12;
    margin: 0 $spacing-xs;
    border: solid $border-emphasis;
    padding: $spacing-xs $spacing-md;
    background: $bg-elevated;
    color: $text-primary;
    transition: background 200ms ease, border 200ms ease, transform 100ms ease;
}

Button:hover {
    text-style: bold;
    border: solid $accent;
    background: $accent-muted;
    color: $text-primary;
    transform: scale(1.02);  /* Subtle grow on hover */
}

Button:active {
    transform: scale(0.98);  /* Subtle shrink on click */
}

Button:focus {
    border: double $accent;
    box-shadow: 0 0 0 1 $accent;
}

Button.-disabled {
    opacity: 0.4;
    color: $text-muted;
}

Button.-disabled:hover {
    transform: none;  /* No hover effect when disabled */
}

/* === DataTable === */

DataTable {
    background: $bg-primary;
    color: $text-primary;
    border: none;
    padding: 0 $spacing-md;        /* Generous horizontal padding */
    height: 1fr;
}

DataTable > .datatable--header {
    background: $bg-elevated;
    color: $accent;
    text-style: bold;
    padding: $spacing-xs $spacing-md;
    border-bottom: solid $accent-muted;
}

DataTable > .datatable--cursor {
    background: $accent-muted;
    color: $text-primary;
    text-style: bold;
    transition: background 150ms ease;
}

DataTable > .datatable--odd-row {
    background: $bg-primary;
}

DataTable > .datatable--even-row {
    background: rgba(58, 53, 48, 0.3);  /* Very subtle zebra striping */
}

DataTable:focus > .datatable--cursor {
    background: $accent;
    color: $bg-primary;
    text-style: bold;
}

/* Row hover effect */
DataTable > .datatable--hover {
    background: rgba(193, 95, 60, 0.15);  /* Subtle accent tint on hover */
    transition: background 150ms ease;
}

/* === Tabs === */

Tabs {
    background: $bg-secondary;
    color: $text-primary;
    dock: top;
    height: 3;
}

Tab {
    padding: $spacing-xs $spacing-md;
}

Tab.-active {
    background: $bg-elevated;
    color: $accent;
    text-style: bold;
    border-bottom: solid $accent;
}

/* === Content Areas === */

ContentSwitcher {
    background: $bg-primary;
    height: 1fr;
}

#dashboard-container, #market-container, #positions-container, #system-container {
    padding: $spacing-xs;
    height: 1fr;
}

/* === Empty States === */

.empty-state {
    color: $text-muted;
    text-style: italic;
    text-align: center;
    padding: $spacing-lg $spacing-md;
    background: rgba(58, 53, 48, 0.2);
    border: dashed $border-subtle;
    margin: $spacing-md;
    height: auto;
    display: none;  /* Hidden by default */
}

.empty-state-icon {
    color: $accent;
    text-style: bold;
    margin-bottom: $spacing-xs;
}

.empty-state-title {
    color: $text-secondary;
    text-style: bold;
}

.empty-state-hint {
    color: $text-muted;
    text-style: italic;
    margin-top: $spacing-xs;
}

/* === Log Widget === */

Log {
    background: $bg-secondary;
    color: $text-primary;
    border: solid $border-subtle;
    padding: 0 $spacing-xs;
}

/* === Typography Utilities === */

.text-success { color: $success; }
.text-error { color: $error; }
.text-warning { color: $warning; }
.text-info { color: $info; }
.text-muted { color: $text-muted; }

.bold { text-style: bold; }

/* === Accessibility === */

/* Focus indicators for keyboard navigation */
*:focus {
    border: solid $accent;
    outline: solid $accent;
}

Button:focus, DataTable:focus {
    border: double $accent;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    $text-primary: #FFFFFF;
    $text-secondary: #CCCCCC;
    $border-emphasis: #666666;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    * {
        transition: none !important;
        animation: none !important;
    }
}

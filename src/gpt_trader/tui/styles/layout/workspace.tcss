/* ========================================================================== */
/* MAIN WORKSPACE - BENTO GRID LAYOUT                                         */
/* High-Fidelity Dashboard                                                    */
/* ========================================================================== */

#main-workspace {
    layout: vertical;
    height: 1fr;
    background: $bg-primary;
}

/* === Top Header === */
#header-bar {
    height: 3; /* Fixed height for header */
    dock: top;
    background: $elevation-2;
    border-bottom: solid $border-emphasis;  /* Refined: solid instead of double */
}

/* === Bento Grid System === */

/* === Bento Grid System === */

#bento-grid {
    layout: grid;
    height: 1fr; /* CRITICAL: Ensure grid fills available space */
    grid-size: 4 4; /* 4 columns, 4 rows */
    
    /* 
       Grid Template:
       Row 1: Hero (2col), Account (2col)
       Row 2: Market (3col), System (1col)
       Row 3+4: Logs (4col)
    */
    grid-columns: 1fr 1fr 1fr 1fr;
    grid-rows: 2fr 2fr 1fr 1fr;  /* More space for top tiles */
    
    grid-gutter: 2;        /* Increased: more breathing room */
    padding: 1 2;          /* Uniform padding */
    background: $bg-primary;
}

/* --- Area Definitions --- */

/* Hero: Active Position (Top Left) - Primary emphasis */
#tile-hero {
    column-span: 2;
    background: $elevation-2;
    border: solid $border-accent;  /* Refined: subtle but present */
    border-title-color: $accent;
}

/* Account: (Top Right) - Standard elevation */
#tile-account {
    column-span: 2;
    background: $elevation-1;
    border: solid $border-subtle;  /* Refined: simpler border */
}

/* Market Pulse: (Middle Left/Center) - Standard elevation */
#tile-market {
    column-span: 3;
    background: $elevation-1;
    border: solid $border-subtle;
}

/* System Monitor: (Middle Right) - Standard elevation */
#tile-system {
    column-span: 1;
    background: $elevation-1;
    border: solid $border-subtle;
}

/* Logs: (Bottom, spans all) - Base elevation with accent top */
#tile-logs {
    column-span: 4;
    row-span: 2;
    background: $elevation-0;
    border: solid $border-subtle;
    border-top: solid $border-accent;  /* Refined: subtle separator */
}


/* === Bento Tile Styling - Professional Elevation === */
.bento-tile {
    padding: $tile-padding;
    height: 100%;  /* CRITICAL: Ensure tiles fill their grid cells */
    layout: vertical;  /* Allow children to expand */
    background: $elevation-1; /* Default elevation */
}

/* Focused tile state - enhanced visibility */
.bento-tile:focus-within {
    border: thick $accent;
    background: $elevation-2;
    border-left: wide $accent; /* Accent border on focus */
}

/* === Widget Specific Overrides within Tiles === */

/* Log Widget adjustments */
#dash-logs {
    background: $bg-primary;
    border: none; /* Tile has the border */
}

.logs-panel {
    background: transparent;
    border: none;
}

/* Hero Widget Styling */
#dash-position {
    align: center middle;
}

/* Account Widget Styling */
#dash-account {
    padding: 0 1;
}

/* ========================================================================== */
/* RESPONSIVE VARIANTS                                                         */
/* Applied via JavaScript class toggling based on ResponsiveState             */
/* ========================================================================== */

/* === Compact Mode (<120 cols) === */
/* Tighter spacing, reduced gutter */
#bento-grid.compact {
    grid-gutter: 1;
    padding: 0 1;
    grid-rows: 2fr 2fr 1fr 1fr;
}

/* === Standard Mode (120-139 cols) === */
/* Default styles above, no additional class needed */
#bento-grid.standard {
    /* Uses base #bento-grid styles */
}

/* === Comfortable Mode (140-159 cols) === */
/* More breathing room */
#bento-grid.comfortable {
    grid-gutter: 3;
    padding: 1 3;
}

/* === Wide Mode (160+ cols) === */
/* Luxurious spacing, taller hero */
#bento-grid.wide {
    grid-gutter: 4;
    padding: 2 4;
    grid-rows: 2fr 2fr 1fr 1fr;
}

/* === Hover States for Bento Tiles === */
/* Professional hover effect */
.bento-tile:hover {
    border: solid $accent-muted;
    background: $elevation-2; /* Slight elevation on hover */
    border-left: solid $accent-muted; /* Subtle accent on hover */
}

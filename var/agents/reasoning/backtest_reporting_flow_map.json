{
  "artifact": "backtest_reporting_flow_map",
  "generated_at": "2026-01-15T05:17:14.753297+00:00",
  "description": "Backtest reporting flow (broker \u2192 metrics \u2192 report outputs).",
  "clusters": [
    {
      "id": "broker",
      "label": "Simulation Broker"
    },
    {
      "id": "metrics",
      "label": "Metrics"
    },
    {
      "id": "report",
      "label": "Reporter"
    },
    {
      "id": "output",
      "label": "Outputs"
    }
  ],
  "nodes": [
    {
      "id": "simulated_broker",
      "label": "SimulatedBroker",
      "type": "source",
      "path": "src/gpt_trader/backtesting/simulation/broker.py",
      "cluster": "broker"
    },
    {
      "id": "broker_stats",
      "label": "SimulatedBroker.get_statistics",
      "type": "source",
      "path": "src/gpt_trader/backtesting/simulation/broker.py",
      "cluster": "broker"
    },
    {
      "id": "trade_stats_compute",
      "label": "calculate_trade_statistics",
      "type": "metrics",
      "path": "src/gpt_trader/backtesting/metrics/statistics.py",
      "cluster": "metrics"
    },
    {
      "id": "trade_stats",
      "label": "TradeStatistics",
      "type": "data",
      "path": "src/gpt_trader/backtesting/metrics/statistics.py",
      "cluster": "metrics"
    },
    {
      "id": "risk_metrics_compute",
      "label": "calculate_risk_metrics",
      "type": "metrics",
      "path": "src/gpt_trader/backtesting/metrics/risk.py",
      "cluster": "metrics"
    },
    {
      "id": "risk_metrics",
      "label": "RiskMetrics",
      "type": "data",
      "path": "src/gpt_trader/backtesting/metrics/risk.py",
      "cluster": "metrics"
    },
    {
      "id": "backtest_reporter",
      "label": "BacktestReporter.generate_result",
      "type": "reporter",
      "path": "src/gpt_trader/backtesting/metrics/report.py",
      "cluster": "report"
    },
    {
      "id": "generate_backtest_report",
      "label": "generate_backtest_report",
      "type": "reporter",
      "path": "src/gpt_trader/backtesting/metrics/report.py",
      "cluster": "report"
    },
    {
      "id": "backtest_result_report",
      "label": "BacktestResult",
      "type": "output",
      "path": "src/gpt_trader/backtesting/types.py",
      "cluster": "output"
    },
    {
      "id": "report_summary",
      "label": "BacktestReporter.generate_summary",
      "type": "output",
      "path": "src/gpt_trader/backtesting/metrics/report.py",
      "cluster": "output"
    },
    {
      "id": "report_csv",
      "label": "BacktestReporter.generate_csv_row",
      "type": "output",
      "path": "src/gpt_trader/backtesting/metrics/report.py",
      "cluster": "output"
    }
  ],
  "edges": [
    {
      "from": "simulated_broker",
      "to": "trade_stats_compute",
      "label": "trade history"
    },
    {
      "from": "trade_stats_compute",
      "to": "trade_stats",
      "label": "build stats"
    },
    {
      "from": "simulated_broker",
      "to": "risk_metrics_compute",
      "label": "equity curve"
    },
    {
      "from": "risk_metrics_compute",
      "to": "risk_metrics",
      "label": "build metrics"
    },
    {
      "from": "simulated_broker",
      "to": "broker_stats",
      "label": "broker stats"
    },
    {
      "from": "trade_stats",
      "to": "backtest_reporter",
      "label": "trade statistics"
    },
    {
      "from": "risk_metrics",
      "to": "backtest_reporter",
      "label": "risk metrics"
    },
    {
      "from": "broker_stats",
      "to": "backtest_reporter",
      "label": "summary stats"
    },
    {
      "from": "backtest_reporter",
      "to": "backtest_result_report",
      "label": "BacktestResult"
    },
    {
      "from": "backtest_reporter",
      "to": "report_summary",
      "label": "summary text"
    },
    {
      "from": "backtest_reporter",
      "to": "report_csv",
      "label": "csv row"
    },
    {
      "from": "simulated_broker",
      "to": "generate_backtest_report",
      "label": "input broker"
    },
    {
      "from": "generate_backtest_report",
      "to": "backtest_reporter",
      "label": "construct reporter"
    },
    {
      "from": "generate_backtest_report",
      "to": "backtest_result_report",
      "label": "return result"
    }
  ],
  "notes": [
    "BacktestReporter lazily computes TradeStatistics and RiskMetrics from the broker.",
    "generate_backtest_report is a convenience wrapper returning BacktestResult."
  ]
}

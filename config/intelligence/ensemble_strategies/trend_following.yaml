# Trend Following Ensemble Strategy Profile
# Prioritizes trend signals with order flow confirmation

name: trend_following
version: "1.0"
description: Trend-following ensemble with order flow confirmation

signals:
  - name: trend
    enabled: true
    parameters:
      fast_period: 10
      slow_period: 30

  - name: momentum
    enabled: true
    parameters:
      period: 14
      oversold: 30
      overbought: 70

  - name: order_flow
    enabled: true
    parameters:
      aggressor_threshold_bullish: 0.60
      aggressor_threshold_bearish: 0.40
      min_trades: 12
      volume_weight: true

  # Mean reversion disabled for pure trend following
  - name: mean_reversion
    enabled: false

  # VWAP disabled - we want to ride trends, not mean revert
  - name: vwap
    enabled: false

combiner:
  adx_period: 14
  trending_threshold: 22  # Slightly lower to catch trends early
  ranging_threshold: 18

  trending_weights:
    TREND: 1.2           # Extra weight on trend
    MEAN_REVERSION: 0.0
    VOLATILITY: 0.4
    ORDER_FLOW: 0.9      # Strong confirmation weight
    MICROSTRUCTURE: 0.4

  # In ranging markets, reduce activity significantly
  ranging_weights:
    TREND: 0.3
    MEAN_REVERSION: 0.0  # Still no mean reversion
    VOLATILITY: 0.5
    ORDER_FLOW: 0.4
    MICROSTRUCTURE: 0.6

decision:
  buy_threshold: 0.22
  sell_threshold: -0.22
  close_threshold: 0.12
  stop_loss_pct: 0.025    # Wider stop for trend trades
  take_profit_pct: 0.08   # Let winners run

tags:
  - trend-following
  - momentum
  - directional

/* ========================================================================== */
/* STATUS BAR (BotStatusWidget) - Flattened Layout                            */
/* ========================================================================== */

#bot-status-header {
    height: 4;
    background: $bg-secondary;
    color: $text-primary;
    border-bottom: solid $accent;
    padding: 0;
}

/* Main status bar container - all children are direct */
#status-bar-container {
    height: 100%;
    width: 100%;
    align-vertical: middle;
    padding: 0 1;
}

/* All direct children of status bar - let them size naturally */
#status-bar-container > * {
    content-align: center middle;
}

/* Visual separators between sections */
.separator {
    width: 1;
    color: $border-subtle;
    margin: 0 1;
}

/* Hidden class for responsive toggling */
.hidden {
    display: none;
}

/* Mode controls - let them auto-size vertically */
#mode-indicator {
    width: auto;
    margin-right: 1;
}

#mode-selector {
    min-width: 34;
    width: 36;
}

/* Disabled mode selector - clearer visual feedback */
#mode-selector Select.-disabled {
    opacity: 0.6;
    color: $text-muted;
    background: $bg-secondary;
}

/* Loading indicator in mode selector */
ModeSelector .loading-indicator {
    color: $accent;
    text-style: bold;
    margin-left: 1;
}

/* Buttons - need height: 3 to display text with borders */
#start-btn {
    width: auto;
    min-width: 8;
    height: 3;
    margin: 0 1;
    background: $success;
    color: $bg-primary;
}

#start-btn:hover {
    background: $success;
    text-style: bold;
}

#stop-btn {
    width: auto;
    min-width: 8;
    height: 3;
    margin: 0 1;
    background: $error;
    color: $bg-primary;
}

#stop-btn:hover {
    background: $error;
    text-style: bold;
}

#start-btn.-disabled,
#stop-btn.-disabled {
    opacity: 0.5;
    background: $bg-elevated;
    color: $text-muted;
}

/* Status labels and values */
.status-label {
    width: auto;
    color: $text-secondary;
    margin-right: 1;
}

.status-value {
    width: auto;
    min-width: 6;
    color: $text-primary;
    text-style: bold;
    margin-right: 1;
}

/* Specific value widths for alignment */
#equity-value {
    min-width: 10;
}

#pnl-value {
    min-width: 10;
}

#uptime-value {
    min-width: 8;
}

#margin-value {
    min-width: 6;
}

#sys-latency {
    min-width: 5;
}

#sys-cpu {
    min-width: 4;
}

#sys-rate-limit {
    min-width: 4;
}

/* Connection indicator */
#sys-conn-indicator {
    width: 2;
    margin-right: 1;
}

/* Heartbeat indicator */
#heartbeat-indicator {
    width: 2;
    margin: 0 1;
}

/* ========================================================================== */
/* CONTEXTUAL FOOTER - Polished Keybinding Display                            */
/* ========================================================================== */

ContextualFooter {
    dock: bottom;
    height: 1;
    min-height: 1;
    background: $elevation-2;
    border-top: solid $border-subtle;
}

#contextual-footer {
    layout: horizontal;
    height: 100%;
    width: 100%;
    align-vertical: middle;
    padding: 0 1;
}

.footer-group {
    layout: horizontal;
    height: 100%;
    width: auto;
    align-vertical: middle;
    margin: 0;
}

.footer-group-left {
    margin-left: 0;
}

.footer-group-right {
    dock: right;
    margin-right: 0;
}

/* Key badge - pill style */
.footer-key {
    height: 1;
    width: auto;
    color: $elevation-0;
    background: $accent;
    text-style: bold;
    padding: 0 1;
    margin-right: 0;
}

/* Key label with increased spacing */
.footer-label {
    height: 1;
    width: auto;
    color: $text-secondary;
    margin-right: 2;
    padding: 0 1;
}

/* Group separator - more visible */
.footer-separator {
    height: 1;
    width: 1;
    color: $accent-muted;
    margin: 0 1;
    padding: 0;
}

/* Data source badge - prominent */
.footer-data-source {
    color: $text-bright;
    text-style: bold;
    background: $accent-muted;
    padding: 0 2;
    margin-right: 2;
}

/* ========================================================================== */
/* SLIM STATUS BAR (SlimStatusWidget) - Enhanced Visual Hierarchy             */
/* ========================================================================== */

#slim-status {
    height: 4;         /* 3 content + 1 for border */
    min-height: 4;
    layout: vertical;  /* Explicit layout for proper child sizing */
    background: $bg-elevated;
    color: $text-primary;
    border-bottom: thick $accent;
    padding: 0;
}

#slim-status-bar {
    height: 100%;  /* Fill parent, don't use fixed height */
    width: 100%;
    align-vertical: middle;
    padding: 0 2;
}

#slim-status-bar > * {
    content-align: center middle;
}

/* === Enhanced Slim Separators === */
.slim-separator {
    width: 1;
    color: $accent;
    margin: 0 2;
}

/* === Status Indicator Group === */
.status-indicator {
    width: 2;
    text-style: bold;
}

.status-indicator.status-running {
    color: $success;
}

.status-indicator.status-stopped {
    color: $error;
}

/* Status text with solid background pill */
.status-text {
    width: auto;
    min-width: 9;
    text-style: bold;
    padding: 0 2;
}

.status-text.status-running {
    color: $bg-primary;
    background: $success;
}

.status-text.status-stopped {
    color: $text-bright;
    background: $error;
}

/* === Slim Typography Hierarchy === */
.slim-label {
    width: auto;
    color: $text-muted;
    margin-right: 1;
    text-style: italic;
}

.slim-value {
    width: auto;
    min-width: 9;
    color: $text-bright;
    text-style: bold;
    background: $bg-elevated;
    border-left: tall $accent-muted;
    padding: 0 2;
}

.slim-value.pnl-positive {
    color: $bg-primary;
    background: $success;
}

.slim-value.pnl-negative {
    color: $text-bright;
    background: $error;
}

.slim-value.pnl-neutral {
    color: $text-primary;
    background: $bg-elevated;
}

/* === Position Count === */
.positions-count {
    width: auto;
    min-width: 7;
    color: $text-secondary;
    background: $bg-secondary;
    padding: 0 1;
}

.positions-count.has-positions {
    color: $accent-glow;
    background: $accent-subtle;
    text-style: bold;
}

/* === Uptime === */
.uptime {
    width: auto;
    min-width: 9;
    color: $text-secondary;
    background: $bg-secondary;
    padding: 0 1;
    text-style: bold;
}

/* === Slim Buttons - Enhanced with accent glow on hover === */
.slim-btn {
    width: auto;
    min-width: 9;
    height: 3;
    padding: 0 2;
    margin: 0 1;
    text-style: bold;
}

#slim-start-btn {
    background: $success;
    color: $bg-primary;
    border: solid $success;
}

#slim-start-btn:hover {
    background: $success;
    border: solid $success;
    text-style: bold;
}

#slim-stop-btn {
    background: $error;
    color: $bg-primary;
    border: solid $error;
}

#slim-stop-btn:hover {
    background: $error;
    border: solid $error;
    text-style: bold;
}

#slim-start-btn.-disabled,
#slim-stop-btn.-disabled {
    opacity: 0.4;
    background: $bg-secondary;
    color: $text-muted;
    border: solid $border-subtle;
}

/* === Slim Mode Selector === */
#slim-mode-select {
    width: auto;
    min-width: 15;
    height: 3;
    background: $bg-secondary;
    border: solid $border-accent;
}

#slim-mode-select:hover {
    border: solid $accent;
}

#slim-mode-select Select {
    height: 3;
}

/* === Error Badge === */
.error-badge {
    background: $error;
    color: $bg-primary;
    padding: 0 2;
    text-style: bold;
    margin-left: 2;
}

.error-badge.hidden {
    display: none;
}

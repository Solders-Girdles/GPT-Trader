/* ============================================================================ */
/* GENERATED FILE - DO NOT EDIT DIRECTLY                                        */
/* ============================================================================ */
/*                                                                              */
/* This file is auto-generated by scripts/build_tui_css.py                     */
/* Edit the source modules in styles/ subdirectories instead:                   */
/*   - theme/       : Theme variables and colors                                */
/*   - layout/      : Screen and workspace layout                               */
/*   - components/  : Reusable UI components                                    */
/*   - widgets/     : Widget-specific styles                                    */
/*   - screens/     : Screen-specific styles                                    */
/*                                                                              */
/* To regenerate: python scripts/build_tui_css.py                               */
/*                                                                              */
/* ============================================================================ */


/* ---------------------------------------------------------------------------- */
/* THEME: Variables                                                           */
/* Source: styles/theme/variables.tcss                                         */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* THEME VARIABLES - Claude Code Palette                                     */
/* ========================================================================== */

/* === Backgrounds === */
$bg-primary: #1A1815;      /* Deep warm brown "coffee stain" - main background */
$bg-secondary: #2A2520;    /* Lighter warm brown - containers */
$bg-elevated: #3D3833;     /* Elevated surfaces */

/* === Accents === */
$accent: #D4744F;          /* Brighter rust-orange */
$accent-hover: #E08A6A;    /* Lighter rust - hover states */
$accent-muted: #9B5338;    /* Darker rust */

/* === Text Colors === */
$text-primary: #F0EDE9;    /* High brightness for readability */
$text-secondary: #B8B5B2;  /* Increased contrast */
$text-muted: #7A7672;      /* Slightly lighter muted text */

/* === Semantic Colors === */
$success: #85B77F;         /* Brighter green */
$warning: #E0B366;         /* More vibrant amber */
$error: #E08580;           /* Brighter coral-red */
$info: #7FB8D4;            /* Brighter blue-grey */

/* === Borders === */
$border-subtle: #3D3833;   /* Match bg-elevated */

/* === Spacing Scale === */
$spacing-xs: 1;            /* Extra small spacing - tight elements */
$spacing-sm: 2;            /* Small spacing - compact layouts */
$spacing-md: 3;            /* Medium spacing - standard padding */
$spacing-lg: 4;            /* Large spacing - generous padding */

/* === Semantic Spacing Tokens (8-cell grid) === */
$gutter-tight: 1;          /* Column/panel gaps in compact mode */
$gutter-standard: 2;       /* Default column/panel gutters */
$gutter-comfortable: 4;    /* Wide mode gutters */
$content-padding: 2;       /* Padding inside panels/widgets */
$section-gap: 4;           /* Spacing between major UI sections */

/* === Interactive State Overlays === */
$overlay-hover: rgba(193, 95, 60, 0.1);    /* 10% accent on hover */
$overlay-focus: rgba(193, 95, 60, 0.2);    /* 20% accent on focus */
$overlay-disabled: rgba(58, 53, 48, 0.5);  /* 50% muted for disabled */

/* === Panel Tokens === */
$panel-bg-default: $bg-secondary;
$panel-bg-elevated: $bg-elevated;
$panel-border-default: $border-subtle;
$panel-border-emphasis: $accent;

/* === Interactive State Tokens === */
$interactive-default: $bg-elevated;
$interactive-hover: $accent-muted;
$interactive-active: $accent;
$interactive-disabled: $bg-secondary;

/* === Border Style Tokens === */
$border-default: solid $border-subtle;
$border-emphasis: thick $accent;


/* ---------------------------------------------------------------------------- */
/* LAYOUT: Screen                                                             */
/* Source: styles/layout/screen.tcss                                           */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* SCREEN & GLOBAL LAYOUT                                                     */
/* ========================================================================== */

Screen {
    layout: vertical;
    background: $bg-primary;
    color: $text-primary;
}

Label {
    color: $text-primary;
}


/* ---------------------------------------------------------------------------- */
/* LAYOUT: Workspace                                                          */
/* Source: styles/layout/workspace.tcss                                        */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* MAIN WORKSPACE - LOG-CENTRIC VERTICAL LAYOUT                               */
/* ========================================================================== */

#main-workspace {
    layout: vertical;
    height: 1fr;       /* Fill remaining space beneath headers/footers */
    min-height: 0;     /* Allow rows inside to shrink on shorter screens */
}

/* === Strategy Panel (Top) === */

#dash-strategy {
    height: auto;          /* Shrink to content */
    min-height: 4;         /* Minimum 4 lines (header + 3 rows) */
    max-height: 8;         /* Cap at 8 lines to leave room for logs */
    border-bottom: solid $border-subtle;
}

.strategy-panel {
    layout: vertical;
    background: $bg-secondary;
    border-left: thick $accent;  /* Visual emphasis */
}

.strategy-panel .header {
    background: $accent;
    color: $bg-primary;
    text-style: bold;
}

/* === Logs Panel (Primary View) === */

#dash-logs {
    width: 100%;
    height: 1fr;  /* Fill remaining space - primary view */
    min-height: 10;
}

.logs-panel {
    layout: vertical;
    background: $bg-secondary;
}

/* ========================================================================== */
/* LEGACY T-LAYOUT SUPPORT (for backward compatibility)                       */
/* These styles support the old layout if needed                              */
/* ========================================================================== */

#content-row {
    layout: horizontal;
    height: 3fr;
    min-height: 12;
    border-bottom: solid $border-subtle;
}

#market-strategy-column {
    width: 35%;
    height: 100%;
    layout: vertical;
    border-right: solid $border-subtle;
}

#dash-market {
    height: 1fr;
}

#portfolio-column {
    width: 65%;
    height: 100%;
    layout: vertical;
}

#dash-portfolio {
    height: 1fr;
    min-height: 12;
}

#logs-row {
    layout: vertical;
    height: 2fr;
    min-height: 8;
}

/* ========================================================================== */
/* RESPONSIVE LAYOUT ADJUSTMENTS                                              */
/* ========================================================================== */

/* Compact (0-119 cols): Wider left for more ticker visibility */
.workspace--compact #market-strategy-column {
    width: 40%;
}

.workspace--compact #portfolio-column {
    width: 60%;
}

.workspace--compact #content-row {
    height: 11fr;  /* Less vertical space for tables (~55%) */
}

.workspace--compact #logs-row {
    height: 9fr;  /* More space for logs (critical for debugging, ~45%) */
}

/* Standard (120-139 cols): Balanced split */
.workspace--standard #market-strategy-column {
    width: 37%;
}

.workspace--standard #portfolio-column {
    width: 63%;
}

.workspace--standard #content-row {
    height: 29fr;  /* ~58% */
}

.workspace--standard #logs-row {
    height: 21fr;  /* ~42% */
}

/* Comfortable (140-159 cols): Default balanced split */
.workspace--comfortable #market-strategy-column {
    width: 35%;
}

.workspace--comfortable #portfolio-column {
    width: 65%;
}

.workspace--comfortable #content-row {
    height: 3fr;  /* ~60% */
}

.workspace--comfortable #logs-row {
    height: 2fr;  /* ~40% */
}

/* Wide (160+ cols): More space for portfolio tables */
.workspace--wide #market-strategy-column {
    width: 30%;
}

.workspace--wide #portfolio-column {
    width: 70%;
}

.workspace--wide #content-row {
    height: 31fr;  /* ~62% */
}

.workspace--wide #logs-row {
    height: 19fr;  /* ~38% */
}

/* ========================================================================== */
/* DASHBOARD ITEMS                                                            */
/* ========================================================================== */

.dashboard-item {
    layout: vertical;
    /* height controlled by specific ID selectors above */
    border: none;                      /* REMOVED: full border */
    border-top: solid $border-subtle;  /* Only top border for separation */
    background: $bg-secondary;
    padding: 0;  /* Remove padding to prevent header clipping */
    margin: 0;   /* REMOVED: horizontal margin */
}

.dashboard-item-elevated {
    background: $bg-elevated;
}

/* === Full-Width Logs Styling === */

.full-width-logs {
    /* Expanded log display with horizontal space */
    /* Note: max_lines is configured in LogWidget Python code, not CSS */
}

.log-expand-hint {
    color: $text-muted;
    text-style: italic;
    text-align: center;
    padding: 0 $spacing-xs;
}

/* === Panel Style === */

.panel {
    background: $bg-secondary;
    border: round $border-subtle;
    padding: $spacing-md;
    margin: $spacing-xs;
}

/* === Content Areas === */

ContentSwitcher {
    background: $bg-primary;
    height: 1fr;
}

#dashboard-container, #market-container, #positions-container, #system-container {
    padding: $spacing-xs;
    height: 1fr;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Focus                                                          */
/* Source: styles/components/focus.tcss                                        */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* FOCUS INDICATORS (Accessibility)                                           */
/* ========================================================================== */

/* Global focus indicator - bright accent border */
*:focus {
    border: thick $accent;
    border-title-color: $accent;
}

/* DataTable focus - highlight selected row */
DataTable:focus {
    border: thick $accent;
}

DataTable > .datatable--cursor {
    background: $overlay-focus;  /* Subtle highlight for cursor row */
}

DataTable:focus > .datatable--cursor {
    background: rgba(212, 116, 79, 0.3);  /* Stronger highlight when focused */
    color: $text-primary;
}

/* TabbedContent focus - highlight active tab */
TabbedContent:focus Tab.-active {
    border: solid $accent;
    text-style: bold;
}

/* Input/Select focus - bright border */
Input:focus, Select:focus {
    border: thick $accent;
}

/* === Accessibility === */

/* Focus indicators for keyboard navigation */
*:focus {
    border: solid $accent;
    outline: solid $accent;
}

DataTable:focus {
    border: solid $accent;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Headers                                                        */
/* Source: styles/components/headers.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* HEADERS & FOOTERS                                                          */
/* ========================================================================== */

Header {
    dock: top;
    height: 1;
    background: $bg-secondary;
    color: $text-primary;
}

/* Enhanced app header styling */
Header.app-header {
    height: 3;
    background: $bg-elevated;
    border-bottom: thick $accent;
    color: $text-primary;
    text-style: bold;
    padding: 0 $spacing-md;
}

/* Compact sub-header for main screen */
Header.sub-header {
    dock: top;
    height: 3;
    background: $bg-elevated;
    color: $text-primary;
    border-bottom: solid $accent;
    text-style: bold;
}

Header.sub-header HeaderIcon {
    width: 5;
    height: 3;
    content-align: center middle;
    color: $accent;
    background: transparent;
}

Header.sub-header HeaderTitle {
    height: 3;
    color: $text-primary;
    text-style: bold;
    content-align: center middle;
    width: 1fr;
}

Header.sub-header HeaderClock {
    dock: right;
    height: 3;
    width: 14;
    min-width: 14;
    background: $bg-secondary;
    color: $text-primary;
    border-left: solid $accent;
    padding: 0 2;
    text-style: bold;
    content-align: center middle;
}

Header.app-header HeaderIcon {
    width: 9;
    height: 3;
    padding: 0 $spacing-md;
    content-align: center middle;
    color: $bg-primary;
    background: $accent;
    border: none;
    text-style: bold;
}

Header.app-header HeaderIcon:hover {
    background: $accent-hover;
    color: $bg-primary;
}

Header.app-header HeaderTitle {
    height: 3;
    color: $text-primary;
    text-style: bold;
    content-align: center middle;
    width: 1fr;
}

Header.app-header HeaderClock {
    height: 3;
    min-width: 12;
    background: $bg-secondary;
    color: $text-primary;
    border-left: thick $accent;
    padding: 0 $spacing-md;
    text-style: bold;
    content-align: center middle;
}


Footer {
    dock: bottom;
    height: 1;
    background: $bg-secondary;
    color: $text-primary;
}

/* === Widget Headers === */

.header {
    color: #FFFFFF;                    /* Pure white for maximum contrast */
    text-style: bold;                  /* Bold for emphasis and readability */
    text-align: left;                  /* Left-aligned editorial style */
    background: $bg-elevated;          /* Elevated surface for separation */
    padding: 0 2;                      /* Compact horizontal padding */
    border-left: thick $accent;        /* Accent left border for visual hierarchy */
    border-bottom: none;               /* No bottom border */
    height: 1;                         /* Single line */
    content-align: left middle;        /* Vertically center the text */
}

.header-icon {
    color: $accent;
    margin-right: $spacing-xs;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Buttons                                                        */
/* Source: styles/components/buttons.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* BUTTONS                                                                    */
/* ========================================================================== */

Button {
    min-width: 10;  /* Compact width */
    height: 3;      /* Restored from 1 to 3 for readability */
    margin: 0 $spacing-xs;
    border: $border-default;  /* Restored border for visual separation */
    padding: 0 $spacing-md;
    background: $bg-elevated;
    color: $text-primary;
    text-style: bold;
}

Button:hover {
    border: solid $accent;  /* Restored border for hover state */
    background: $accent-muted;
    color: $text-primary;
}

Button:focus {
    border: solid $accent;  /* Restored border for focus state */
    background: $accent;
    color: $bg-primary;
}

Button.-disabled {
    opacity: 0.5;
    color: $text-muted;
    border: solid $border-subtle;
}

/* === Control Buttons (Start/Stop) === */

#start-btn {
    background: $success;
    color: $bg-primary;
    border-left: wide $success;
}

#start-btn:hover {
    background: $success;
    color: $bg-primary;
    border: solid $success;
    text-style: bold;
}

#stop-btn {
    background: $error;
    color: $bg-primary;
    border-left: wide $error;
}

#stop-btn:hover {
    background: $error;
    color: $bg-primary;
    border: solid $error;
    text-style: bold;
}

/* === Button Group === */

.button-group {
    align-vertical: middle;
    height: 100%;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Tables                                                         */
/* Source: styles/components/tables.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* DATATABLE                                                                  */
/* ========================================================================== */

DataTable {
    background: $bg-primary;
    color: $text-primary;
    border: none;
    padding: 0 1;                  /* REDUCED from $spacing-md - tighter padding */
    /* height controlled by individual widgets via DEFAULT_CSS */
}

DataTable > .datatable--header {
    background: $bg-elevated;
    color: #FFFFFF;                /* Pure white for maximum contrast */
    text-style: bold;              /* Bold headers for emphasis */
    padding: $spacing-xs $content-padding;
    border-bottom: $border-default;
}

/* Column separators for better readability */
/* Note: Textual doesn't support :last-child, so all columns get separators */
DataTable > .datatable--header-cell {
    border-right: $border-default;
}

DataTable > .datatable--cell {
    border-right: $border-default;
    padding: 0 $content-padding;
    overflow: hidden;
    /* Note: Textual doesn't support text-overflow: ellipsis */
}

DataTable > .datatable--cursor {
    background: $accent-muted;
    color: $text-primary;
    text-style: bold;
}

DataTable > .datatable--odd-row {
    background: $bg-primary;
}

DataTable > .datatable--even-row {
    background: rgba(58, 53, 48, 0.15);  /* 0.15 - more subtle zebra striping */
}

DataTable:focus > .datatable--cursor {
    background: $accent;
    color: $bg-primary;
    text-style: bold;
}

/* Row hover effect */
DataTable > .datatable--hover {
    background: rgba(193, 95, 60, 0.15);  /* Subtle accent tint on hover */
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Tabs                                                           */
/* Source: styles/components/tabs.tcss                                         */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* TABS                                                                       */
/* ========================================================================== */

Tabs {
    background: $bg-secondary;
    color: $text-primary;
    dock: top;
    height: 3;
}

Tab {
    padding: $spacing-xs $spacing-md;
}

Tab.-active {
    background: $bg-elevated;
    color: $accent;
    text-style: bold;
    border-bottom: solid $accent;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Select                                                         */
/* Source: styles/components/select.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* SELECT DROPDOWN STYLING                                                    */
/* ========================================================================== */

/* Base Select widget styling */
Select {
    width: auto;
    min-width: 20;
    height: 3;
    background: $bg-elevated;
    color: $text-primary;
    border: solid $border-subtle;
    padding: 0;
    content-align: left middle;
}

Select:hover {
    border: solid $accent;
}

Select:focus {
    border: thick $accent;
    background: $bg-elevated;
}

/* Select current value display */
Select > SelectCurrent {
    height: 100%;
    min-height: 3;
    background: $bg-elevated;
    color: $text-primary;
    border: solid $border-subtle;
    padding: 0 1;
    content-align: left middle;
    text-style: bold;
}

/* Ensure label/arrow are visible in collapsed state */
Select > SelectCurrent > Static#label {
    width: 1fr;
    min-width: 12;
    height: 100%;
    color: $text-primary;
    background: transparent;
    content-align: left middle;
    text-style: bold;
    opacity: 1;
    display: block;
    padding: 0 1;
}

Select > SelectCurrent.-has-value Static#label {
    color: $text-primary;
}

Select > SelectCurrent > .arrow {
    color: $text-primary;
    padding-left: 1;
    opacity: 1;
}

Select.-disabled > SelectCurrent {
    color: $text-muted;
    border: solid $border-subtle;
    background: $bg-elevated;
}

/* Dropdown overlay - ensure proper layering and visibility */
SelectOverlay {
    /* Layer above other content */
    layer: overlay;

    /* Styling */
    background: $bg-elevated;
    border: solid $accent;
    padding: 0 1;

    /* Sizing */
    min-width: 22;
    max-height: 18;

    /* Shadow effect for depth */
    border-top: none;
}

/* Individual options in dropdown */
SelectOverlay > OptionList {
    background: $bg-elevated;
    color: $text-primary;
    padding: 0;
    scrollbar-background: $bg-secondary;
    scrollbar-color: $accent-muted;
}

SelectOverlay > OptionList > .option-list--option {
    padding: 0 2;
    background: $bg-elevated;
    color: $text-primary;
}

SelectOverlay > OptionList > .option-list--option-highlighted {
    background: $accent-muted;
    color: $text-primary;
    text-style: bold;
}

SelectOverlay > OptionList > .option-list--option-hover {
    background: $overlay-hover;
}

/* Mode selector specific sizing */
#mode-selector Select {
    min-width: 28;
    width: 30;
}

#mode-selector SelectCurrent {
    background: $bg-elevated;
    border: solid $border-subtle;
    color: $text-primary;
}

#mode-selector SelectOverlay {
    min-width: 30;
    width: 32;
    max-height: 18;
}

/* Log level selector sizing to prevent truncation */
#log-level-select {
    min-width: 14;
    width: 16;
}

#log-level-select SelectCurrent {
    background: $bg-elevated;
    border: solid $border-subtle;
    color: $text-primary;
}

#log-level-select SelectOverlay {
    min-width: 16;
    width: 18;
    max-height: 12;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Utilities                                                      */
/* Source: styles/components/utilities.tcss                                    */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* UTILITY CLASSES                                                            */
/* ========================================================================== */

/* === Typography Utilities === */

.text-success { color: $success; }
.text-error { color: $error; }
.text-warning { color: $warning; }
.text-info { color: $info; }
.text-muted { color: $text-muted; }

.bold { text-style: bold; }

/* Numeric alignment for DataTable cells */
.text-numeric {
    text-align: right;
}

/* === Empty States === */

.empty-state {
    height: 1;              /* Single line */
    border: none;           /* No dashed border */
    background: transparent;
    padding: 0 2;
    margin: 0;
    color: $text-muted;
    text-style: italic;
    text-align: center;
    display: none;  /* Hidden by default */
}

/* === P&L Color Coding === */

.pnl-positive {
    color: $success;
}

.pnl-negative {
    color: $error;
}

.pnl-neutral {
    color: $text-secondary;
}

/* === Status Labels & Values === */

.status-label {
    color: $text-secondary;
    text-style: bold;
    margin-right: $spacing-xs;
}

.status-value {
    color: $text-primary;
    text-style: bold;
    margin-right: $spacing-md;
    background: $bg-elevated;
    padding: 0 $spacing-sm;
}

.status-running {
    color: $success;
    background: rgba(122, 168, 116, 0.2);
    padding: 0 $spacing-md;
    border: solid $success;
}

.status-stopped {
    color: $error;
    background: rgba(212, 115, 110, 0.2);
    padding: 0 $spacing-md;
    border: solid $error;
}

/* === Connection Status Indicators === */

.status-connected {
    color: $success;
}

.status-disconnected {
    color: $error;
}

.status-unknown {
    color: $warning;
}

/* === Heartbeat Indicator === */

.heartbeat-pulse {
    margin-left: $spacing-xs;
}

.heartbeat-bright {
    color: $success;
    text-style: bold;
}

.heartbeat-dim {
    color: $text-muted;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Animations                                                     */
/* Source: styles/components/animations.tcss                                   */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* ANIMATIONS & TRANSITIONS                                                   */
/* ========================================================================== */

/* Note: Textual has limited transition support
 * Animations are handled via Python update intervals
 */

/* === Loading Spinner === */

/* Note: Unicode Braille spinner is animated via Python interval,
 * not CSS animations, for reliable terminal rendering.
 */

LoadingSpinner {
    width: auto;
    height: auto;
    align-horizontal: center;
    align-vertical: middle;
}

#spinner-display {
    color: $accent;
    text-style: bold;
    text-align: center;
}

.loading-spinner {
    color: $accent;
    text-style: bold;
    text-align: center;
}

.loading-message {
    color: $text-secondary;
    text-align: center;
    margin-top: $spacing-xs;
}

.loading-container {
    padding: $spacing-lg;
    background: rgba(58, 53, 48, 0.2);
    border: solid $border-subtle;
    align-horizontal: center;
    align-vertical: middle;
}

/* Note: Textual doesn't support @keyframes or @media queries
 * Advanced animations and media queries must be implemented in Python
 */


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Status Bar                                                        */
/* Source: styles/widgets/status_bar.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* STATUS BAR (BotStatusWidget) - Flattened Layout                            */
/* ========================================================================== */

#bot-status-header {
    height: 4;
    background: $bg-secondary;
    color: $text-primary;
    border-bottom: solid $accent;
    padding: 0;
}

/* Main status bar container - all children are direct */
#status-bar-container {
    height: 100%;
    width: 100%;
    align-vertical: middle;
    padding: 0 1;
}

/* All direct children of status bar - let them size naturally */
#status-bar-container > * {
    content-align: center middle;
}

/* Visual separators between sections */
.separator {
    width: 1;
    color: $border-subtle;
    margin: 0 1;
}

/* Hidden class for responsive toggling */
.hidden {
    display: none;
}

/* Mode controls - let them auto-size vertically */
#mode-indicator {
    width: auto;
    margin-right: 1;
}

#mode-selector {
    min-width: 34;
    width: 36;
}

/* Disabled mode selector - clearer visual feedback */
#mode-selector Select.-disabled {
    opacity: 0.6;
    color: $text-muted;
    background: $bg-secondary;
}

/* Loading indicator in mode selector */
ModeSelector .loading-indicator {
    color: $accent;
    text-style: bold;
    margin-left: 1;
}

/* Buttons - need height: 3 to display text with borders */
#start-btn {
    width: auto;
    min-width: 8;
    height: 3;
    margin: 0 1;
    background: $success;
    color: $bg-primary;
}

#start-btn:hover {
    background: $success;
    text-style: bold;
}

#stop-btn {
    width: auto;
    min-width: 8;
    height: 3;
    margin: 0 1;
    background: $error;
    color: $bg-primary;
}

#stop-btn:hover {
    background: $error;
    text-style: bold;
}

#start-btn.-disabled,
#stop-btn.-disabled {
    opacity: 0.5;
    background: $bg-elevated;
    color: $text-muted;
}

/* Status labels and values */
.status-label {
    width: auto;
    color: $text-secondary;
    margin-right: 1;
}

.status-value {
    width: auto;
    min-width: 6;
    color: $text-primary;
    text-style: bold;
    margin-right: 1;
}

/* Specific value widths for alignment */
#equity-value {
    min-width: 10;
}

#pnl-value {
    min-width: 10;
}

#uptime-value {
    min-width: 8;
}

#margin-value {
    min-width: 6;
}

#sys-latency {
    min-width: 5;
}

#sys-cpu {
    min-width: 4;
}

#sys-rate-limit {
    min-width: 4;
}

/* Connection indicator */
#sys-conn-indicator {
    width: 2;
    margin-right: 1;
}

/* Heartbeat indicator */
#heartbeat-indicator {
    width: 2;
    margin: 0 1;
}

/* === Contextual Footer === */

ContextualFooter {
    dock: bottom;
    height: 2;        /* 1 content + 1 for border */
    min-height: 2;
    background: $bg-secondary;
    border-top: solid $accent;
}

#contextual-footer {
    height: 100%;     /* Fill parent */
    min-height: 1;
    align-vertical: middle;
    padding: 0 $spacing-md;
}

.footer-group {
    margin-right: $spacing-md;
    align-vertical: middle;
}

.footer-group-right {
    dock: right;
}

.footer-key {
    color: $bg-primary;
    text-style: bold;
    background: $accent;
    padding: 0 $spacing-md;
    margin-right: $spacing-xs;
}

.footer-label {
    color: $text-primary;
    margin-right: $spacing-md;
}

.footer-separator {
    color: $border-subtle;
    margin: 0 $spacing-xs;
}

/* ========================================================================== */
/* SLIM STATUS BAR (SlimStatusWidget) - Compact 3-Line Layout                 */
/* ========================================================================== */

#slim-status {
    height: 4;         /* 3 content + 1 for border */
    min-height: 4;
    layout: vertical;  /* Explicit layout for proper child sizing */
    background: $bg-secondary;
    color: $text-primary;
    border-bottom: solid $accent;
    padding: 0;
}

#slim-status-bar {
    height: 100%;  /* Fill parent, don't use fixed height */
    width: 100%;
    align-vertical: middle;
    padding: 0 1;
}

#slim-status-bar > * {
    content-align: center middle;
}

/* Slim separators */
.slim-separator {
    width: 1;
    color: $border-subtle;
    margin: 0 1;
}

/* Status indicator dot */
.status-indicator {
    width: 2;
    text-style: bold;
}

.status-indicator.status-running {
    color: $success;
}

.status-indicator.status-stopped {
    color: $error;
}

/* Status text */
.status-text {
    width: auto;
    min-width: 7;
    text-style: bold;
}

.status-text.status-running {
    color: $success;
}

.status-text.status-stopped {
    color: $error;
}

/* Slim typography hierarchy */
.slim-label {
    width: auto;
    color: $text-muted;
    margin-right: 1;
}

.slim-value {
    width: auto;
    min-width: 6;
    color: $text-primary;
    text-style: bold;
}

.slim-value.pnl-positive {
    color: $success;
}

.slim-value.pnl-negative {
    color: $error;
}

.slim-value.pnl-neutral {
    color: $text-primary;
}

/* Position count */
.positions-count {
    width: auto;
    min-width: 6;
    color: $text-secondary;
}

.positions-count.has-positions {
    color: $accent;
    text-style: bold;
}

/* Uptime */
.uptime {
    width: auto;
    min-width: 8;
    color: $text-secondary;
}

/* Slim buttons - need height 3 for proper rendering */
.slim-btn {
    width: auto;
    min-width: 8;
    height: 3;
    padding: 0 1;
    margin: 0;
}

#slim-start-btn {
    background: $success;
    color: $bg-primary;
}

#slim-stop-btn {
    background: $error;
    color: $bg-primary;
}

#slim-start-btn.-disabled,
#slim-stop-btn.-disabled {
    opacity: 0.5;
    background: $bg-elevated;
    color: $text-muted;
}

/* Slim mode selector */
#slim-mode-select {
    width: auto;
    min-width: 14;
    height: 3;
}

#slim-mode-select Select {
    height: 3;
}

/* Error badge */
.error-badge {
    background: $error;
    color: $bg-primary;
    padding: 0 1;
    text-style: bold;
    margin-left: 1;
}

.error-badge.hidden {
    display: none;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Account                                                           */
/* Source: styles/widgets/account.tcss                                         */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* ACCOUNT WIDGET                                                             */
/* ========================================================================== */

AccountWidget {
    layout: vertical;
    padding: $spacing-xs;
    /* height controlled by widget DEFAULT_CSS */
}

.account-metric {
    background: $bg-elevated;
    border: solid $border-subtle;
    padding: $spacing-xs $spacing-md;
    margin: $spacing-xs;
    height: auto;
}

.account-metric-label {
    color: $text-secondary;
    text-style: bold;
}

.account-metric-value {
    color: $text-primary;
    text-style: bold;
    text-align: right;
}

.portfolio-summary-row {
    margin-bottom: $spacing-sm;
}

.portfolio-metric {
    background: $bg-elevated;
    border: solid $border-subtle;
    padding: $spacing-xs $spacing-md;
    margin: $spacing-xs;
}

.portfolio-metric-label {
    color: $text-secondary;
    text-style: bold;
}

.portfolio-metric-value {
    color: $text-primary;
    text-style: bold;
}

.account-metrics-row {
    margin-bottom: $spacing-sm;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Portfolio                                                         */
/* Source: styles/widgets/portfolio.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* PORTFOLIO WIDGET (Tabbed Layout)                                           */
/* ========================================================================== */

PortfolioWidget {
    layout: vertical;
    height: 1fr;
}

PortfolioWidget TabbedContent {
    height: 1fr;
    border: none;
}

PortfolioWidget TabPane {
    padding: 0;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Market                                                            */
/* Source: styles/widgets/market.tcss                                          */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* MARKET WIDGET                                                              */
/* ========================================================================== */

/* Market widget uses standard dashboard-item styling from layout/workspace.tcss */
/* and DataTable styling from components/tables.tcss */

#dash-market {
    height: 1fr;           /* Flex-grow to fill available space */
}



/* ---------------------------------------------------------------------------- */
/* WIDGETS: Logs                                                              */
/* Source: styles/widgets/logs.tcss                                            */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* LOGS WIDGET                                                                */
/* ========================================================================== */

/* === Log Container === */

#dash-logs {
    width: 100%;
    height: 1fr;  /* Fill logs-row */
}

/* === Compact Log Header === */

LogWidget .log-header {
    background: $bg-elevated;
    border-left: thick $accent;
}

LogWidget .log-title {
    color: $text-primary;
}

LogWidget .log-sep {
    color: $border-subtle;
}

/* === Inline Statistics === */

LogWidget .stat-error { color: $error; }
LogWidget .stat-warning { color: $warning; }
LogWidget .stat-info { color: $success; }

/* === RichLog Display === */

LogWidget RichLog {
    border: solid $border-subtle;
    background: $bg-secondary;
}

/* === Log Component (legacy) === */

Log {
    background: $bg-secondary;
    color: $text-primary;
    border: solid $border-subtle;
    padding: 0 $spacing-xs;
}

/* === Full-Width Logs Styling === */

.full-width-logs {
    /* Expanded log display with horizontal space */
    /* Note: max_lines is configured in LogWidget Python code, not CSS */
}

.log-expand-hint {
    color: $text-muted;
    text-style: italic;
    text-align: center;
    padding: 0 $spacing-xs;
}



/* ---------------------------------------------------------------------------- */
/* WIDGETS: Modals                                                            */
/* Source: styles/widgets/modals.tcss                                          */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* MODALS AND DIALOGS                                                         */
/* ========================================================================== */

/* Modal containers use standard panel styling from layout/workspace.tcss */
/* Additional modal-specific overrides can be added here as needed */

/* === Config Modal === */

/* Config modal uses standard panel styles with accent border */

/* === Confirmation Dialogs === */

/* Dialog buttons are styled via components/buttons.tcss */



/* ---------------------------------------------------------------------------- */
/* WIDGETS: Execution                                                         */
/* Source: styles/widgets/execution.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* EXECUTION WIDGET (Strategy View)                                           */
/* ========================================================================== */

/* Execution widget uses standard dashboard-item styling */
/* and DataTable styling from components/tables.tcss */

#dash-strategy {
    height: auto;          /* Shrink to content */
    max-height: 30%;       /* Cap at 30% to prevent domination */
    min-height: 5;         /* Minimum 5 lines (header + empty state) */
}



/* ---------------------------------------------------------------------------- */
/* WIDGETS: Error Indicator                                                   */
/* Source: styles/widgets/error_indicator.tcss                                 */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* ERROR INDICATOR WIDGET                                                     */
/* ========================================================================== */

/* Error indicator uses semantic colors from theme/variables.tcss */
/* Widget-specific styling is handled via DEFAULT_CSS in Python */

/* Error tracking display inherits from status indicators in utilities.tcss */



/* ---------------------------------------------------------------------------- */
/* SCREENS: Mode Selection                                                    */
/* Source: styles/screens/mode_selection.tcss                                  */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* MODE SELECTION SCREEN                                                      */
/* ========================================================================== */

ModeSelectionScreen {
    align: center middle;
    background: $bg-primary;
}

#mode-selection-container {
    width: 80;
    height: auto;
    background: $bg-secondary;
    border: solid $accent;
    padding: 2;
    align: center middle;
}

#selection-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    width: 100%;
    margin-bottom: 2;
}

#selection-subtitle {
    text-align: center;
    color: $text-secondary;
    width: 100%;
    margin-bottom: 3;
}

.mode-option {
    width: 100%;
    height: auto;
    background: $bg-elevated;
    border: solid $border-subtle;
    padding: 1 2;
    margin: 1 0;
}

.mode-option:hover {
    border: solid $accent;
    background: $accent-muted;
}

.mode-option-header {
    text-style: bold;
    color: $text-primary;
    margin-bottom: 1;
}

.mode-option-description {
    color: $text-secondary;
    margin-left: 2;
}

.mode-demo {
    border-left: wide $info;
}

.mode-paper {
    border-left: wide $success;
}

.mode-observe {
    border-left: wide $warning;
}

.mode-live {
    border-left: wide $error;
}

#quit-button {
    width: 100%;
    margin-top: 2;
}

{
  "version": "1.0",
  "description": "Validation rules registry for GPT-Trader",
  "rules": {
    "base": {
      "BaseValidationRule": {
        "name": "BaseValidationRule",
        "module": "gpt_trader.validation.rules.base",
        "docstring": "Base helper to make rules callable.",
        "parameters": {
          "args": {
            "required": true
          },
          "kwargs": {
            "required": true
          }
        },
        "description": "Base class for validation rules"
      },
      "RuleChain": {
        "name": "RuleChain",
        "module": "gpt_trader.validation.rules.base",
        "docstring": "Compose multiple rules executed sequentially.",
        "parameters": {
          "rules": {
            "required": true,
            "type": "BaseValidationRule | Callable[[Any, str], Any]"
          }
        },
        "description": "Chains multiple rules for sequential validation",
        "usage": "RuleChain([StripStringRule(), SymbolRule()])"
      }
    },
    "type_rules": {
      "BooleanRule": {
        "name": "BooleanRule",
        "module": "gpt_trader.validation.rules.boolean",
        "docstring": "Parse boolean-like values using common token conventions.",
        "parameters": {
          "default": {
            "required": false,
            "default": null,
            "type": "bool | None"
          },
          "true_tokens": {
            "required": false,
            "default": null,
            "type": "Iterable[str] | None"
          },
          "false_tokens": {
            "required": false,
            "default": null,
            "type": "Iterable[str] | None"
          }
        },
        "description": "Validates and coerces to boolean",
        "accepts": [
          "true",
          "false",
          "yes",
          "no",
          "1",
          "0",
          "<class 'bool'>"
        ],
        "usage": "BooleanRule()"
      },
      "IntegerRule": {
        "name": "IntegerRule",
        "module": "gpt_trader.validation.rules.numbers",
        "docstring": "Coerce values to integers.",
        "parameters": {
          "allow_none": {
            "required": false,
            "default": false,
            "type": "bool"
          }
        },
        "description": "Validates and coerces to integer",
        "usage": "IntegerRule(min_value=0, max_value=100)"
      },
      "FloatRule": {
        "name": "FloatRule",
        "module": "gpt_trader.validation.rules.numbers",
        "docstring": "Coerce numeric inputs to floats with optional defaults.",
        "parameters": {
          "default": {
            "required": false,
            "default": null,
            "type": "float | None"
          },
          "allow_none": {
            "required": false,
            "default": false,
            "type": "bool"
          },
          "treat_blank_as_none": {
            "required": false,
            "default": true,
            "type": "bool"
          }
        },
        "description": "Validates and coerces to float",
        "usage": "FloatRule(min_value=0.0)"
      },
      "DecimalRule": {
        "name": "DecimalRule",
        "module": "gpt_trader.validation.rules.numbers",
        "docstring": "Coerce inputs into ``Decimal`` instances.",
        "parameters": {
          "default": {
            "required": false,
            "default": null,
            "type": "Decimal | None"
          },
          "allow_none": {
            "required": false,
            "default": false,
            "type": "bool"
          },
          "strip_strings": {
            "required": false,
            "default": true,
            "type": "bool"
          }
        },
        "description": "Validates and coerces to Decimal for precision",
        "usage": "DecimalRule(min_value=Decimal('0'), precision=8)"
      }
    },
    "string_rules": {
      "StripStringRule": {
        "name": "StripStringRule",
        "module": "gpt_trader.validation.rules.strings",
        "docstring": "Normalize strings and apply a fallback default when empty.",
        "parameters": {
          "default": {
            "required": false,
            "default": null,
            "type": "str | None"
          }
        },
        "description": "Strips whitespace from strings",
        "usage": "StripStringRule()"
      }
    },
    "domain_rules": {
      "SymbolRule": {
        "name": "SymbolRule",
        "module": "gpt_trader.validation.rules.strings",
        "docstring": "Validate and normalise trading symbols.",
        "parameters": {
          "uppercase": {
            "required": false,
            "default": true,
            "type": "bool"
          }
        },
        "description": "Validates trading symbol format",
        "pattern": "BASE-QUOTE (e.g., BTC-USD)",
        "usage": "SymbolRule()"
      },
      "PercentageRule": {
        "name": "PercentageRule",
        "module": "gpt_trader.validation.rules.numbers",
        "docstring": "Ensure values fall within the inclusive [0, 1] range.",
        "parameters": {
          "allow_none": {
            "required": false,
            "default": false,
            "type": "bool"
          }
        },
        "description": "Validates percentage values",
        "accepts": "0-1 as decimal or 0-100 as percentage",
        "usage": "PercentageRule(as_decimal=True)"
      },
      "TimeOfDayRule": {
        "name": "TimeOfDayRule",
        "module": "gpt_trader.validation.rules.strings",
        "docstring": "Validate HH:MM (24h) formatted strings.",
        "parameters": {
          "allow_none": {
            "required": false,
            "default": true,
            "type": "bool"
          }
        },
        "description": "Validates time of day format",
        "format": "HH:MM",
        "usage": "TimeOfDayRule()"
      }
    },
    "collection_rules": {
      "ListRule": {
        "name": "ListRule",
        "module": "gpt_trader.validation.rules.collections",
        "docstring": "Parse delimited lists or iterables.",
        "parameters": {
          "item_converter": {
            "required": false,
            "default": null,
            "type": "Callable[[Any], Any] | None"
          },
          "item_rule": {
            "required": false,
            "default": null,
            "type": "BaseValidationRule | Callable[[Any, str], Any] | None"
          },
          "allow_none": {
            "required": false,
            "default": true,
            "type": "bool"
          },
          "allow_blank_items": {
            "required": false,
            "default": true,
            "type": "bool"
          },
          "separator": {
            "required": false,
            "default": ",",
            "type": "str"
          }
        },
        "description": "Validates list with optional item rule",
        "usage": "ListRule(item_rule=SymbolRule(), min_length=1)"
      },
      "MappingRule": {
        "name": "MappingRule",
        "module": "gpt_trader.validation.rules.collections",
        "docstring": "Parse mappings either from dict-like inputs or comma-separated strings.",
        "parameters": {
          "value_converter": {
            "required": false,
            "default": null,
            "type": "Callable[[Any], Any] | None"
          },
          "value_rule": {
            "required": false,
            "default": null,
            "type": "BaseValidationRule | Callable[[Any, str], Any] | None"
          },
          "allow_none": {
            "required": false,
            "default": true,
            "type": "bool"
          },
          "item_separator": {
            "required": false,
            "default": ",",
            "type": "str"
          },
          "kv_separator": {
            "required": false,
            "default": ":",
            "type": "str"
          },
          "allow_blank_items": {
            "required": false,
            "default": true,
            "type": "bool"
          }
        },
        "description": "Validates dictionary/mapping with key/value rules",
        "usage": "MappingRule(key_rule=StripStringRule(), value_rule=DecimalRule())"
      }
    }
  },
  "error_handling": {
    "exception": "RuleError",
    "fields": [
      "message",
      "field",
      "value",
      "rule_name"
    ]
  }
}

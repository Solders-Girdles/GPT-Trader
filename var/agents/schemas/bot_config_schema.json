{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "BotConfig",
  "type": "object",
  "properties": {
    "strategy": {
      "default": "PerpsStrategyConfig(short_ma_period=5, long_ma_period=20, rsi_period=14, rsi_overbought=70, rsi_oversold=30, stop_loss_pct=0.02, take_profit_pct=0.05, trailing_stop_pct=None, min_confidence=0.5, crossover_weight=0.4, rsi_weight=0.3, trend_weight=0.3, kill_switch_enabled=False, force_entry_on_trend=False, position_fraction=None, target_leverage=5, enable_shorts=True, max_leverage=10)"
    },
    "risk": {
      "type": "string",
      "description": "Type: <class 'gpt_trader.app.config.bot_config.BotRiskConfig'>",
      "default": "BotRiskConfig(target_leverage=1, max_leverage=5, position_fraction=Decimal('0.1'), max_position_size=Decimal('1000'), stop_loss_pct=Decimal('0.02'), take_profit_pct=Decimal('0.04'), trailing_stop_pct=Decimal('0.01'), max_drawdown_pct=None, reduce_only_threshold=None, dry_run_equity_usd=None, daily_loss_limit_pct=0.05)"
    },
    "mean_reversion": {
      "type": "string",
      "description": "Type: <class 'gpt_trader.app.config.bot_config.MeanReversionConfig'>",
      "default": "MeanReversionConfig(z_score_entry_threshold=2.0, z_score_exit_threshold=0.5, lookback_window=20, target_daily_volatility=0.02, max_position_pct=0.25, stop_loss_pct=0.03, take_profit_pct=0.06, enable_shorts=True, kill_switch_enabled=False, cooldown_bars=0, trend_filter_enabled=False, trend_window=50, trend_threshold_pct=0.01, trend_override_z_score=None)"
    },
    "health_thresholds": {
      "type": "string",
      "description": "Type: <class 'gpt_trader.app.config.bot_config.HealthThresholdsConfig'>",
      "default": "HealthThresholdsConfig(order_error_rate_warn=0.05, order_error_rate_crit=0.15, order_retry_rate_warn=0.1, order_retry_rate_crit=0.25, broker_latency_ms_warn=1000.0, broker_latency_ms_crit=3000.0, ws_staleness_seconds_warn=30.0, ws_staleness_seconds_crit=60.0, guard_trip_count_warn=3, guard_trip_count_crit=10)"
    },
    "regime_config": {},
    "ensemble_config": {},
    "strategy_type": {
      "type": "string",
      "description": "Type: typing.Literal['baseline', 'mean_reversion', 'ensemble', 'regime_switcher']",
      "default": "baseline"
    },
    "regime_switcher_trend_mode": {
      "type": "string",
      "description": "Type: typing.Literal['delegate', 'regime_follow']",
      "default": "delegate"
    },
    "symbols": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "default": [
        "BTC-USD",
        "ETH-USD"
      ],
      "description": "List of trading symbols (e.g., ['BTC-USD', 'ETH-USD'])"
    },
    "interval": {
      "type": "integer",
      "default": 60,
      "description": "Trading interval in seconds"
    },
    "max_cycles": {
      "type": "integer",
      "nullable": true
    },
    "derivatives_enabled": {
      "type": "boolean",
      "default": false,
      "description": "Enable perpetual futures trading"
    },
    "enable_shorts": {
      "type": "boolean",
      "default": false,
      "description": "Allow short positions"
    },
    "reduce_only_mode": {
      "type": "boolean",
      "default": false,
      "description": "Only allow position-reducing orders"
    },
    "time_in_force": {
      "type": "string",
      "default": "GTC",
      "description": "Order time-in-force: GTC, IOC, FOK"
    },
    "enable_order_preview": {
      "type": "boolean",
      "default": false,
      "description": "Enable order preview before submission"
    },
    "use_limit_orders": {
      "type": "boolean",
      "default": false
    },
    "market_order_fallback": {
      "type": "boolean",
      "default": true
    },
    "order_submission_retries_enabled": {
      "type": "boolean",
      "default": false
    },
    "account_telemetry_interval": {
      "type": "integer",
      "nullable": true,
      "description": "Account snapshot interval in seconds (null to disable)"
    },
    "broker_calls_use_dedicated_executor": {
      "type": "boolean",
      "default": false
    },
    "log_level": {
      "type": "string",
      "default": "INFO",
      "description": "Logging level: DEBUG, INFO, WARNING, ERROR"
    },
    "dry_run": {
      "type": "boolean",
      "default": false,
      "description": "Simulate trades without execution"
    },
    "mock_broker": {
      "type": "boolean",
      "default": false,
      "description": "Use mock broker for testing"
    },
    "paper_fills": {
      "type": "boolean",
      "default": false
    },
    "profile": {
      "description": "Trading profile name or enum"
    },
    "webhook_url": {
      "type": "string",
      "nullable": true
    },
    "status_file": {
      "type": "string",
      "default": "var/data/status.json"
    },
    "status_interval": {
      "type": "integer",
      "default": 60
    },
    "status_enabled": {
      "type": "boolean",
      "default": true
    },
    "coinbase_default_quote": {
      "type": "string",
      "default": "USD"
    },
    "coinbase_us_futures_enabled": {
      "type": "boolean",
      "default": false
    },
    "coinbase_intx_perpetuals_enabled": {
      "type": "boolean",
      "default": false
    },
    "coinbase_derivatives_type": {
      "type": "string",
      "default": "intx_perps"
    },
    "coinbase_sandbox_enabled": {
      "type": "boolean",
      "default": false
    },
    "coinbase_api_mode": {
      "type": "string",
      "default": "advanced"
    },
    "coinbase_intx_portfolio_uuid": {
      "type": "string",
      "nullable": true
    },
    "broker_hint": {
      "type": "string",
      "nullable": true
    },
    "trading_modes": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "default": [
        "spot"
      ]
    },
    "cfm_enabled": {
      "type": "boolean",
      "default": false
    },
    "cfm_max_leverage": {
      "type": "integer",
      "default": 5
    },
    "cfm_symbols": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "default": []
    },
    "cfm_margin_window": {
      "type": "string",
      "default": "STANDARD"
    },
    "perps_enable_streaming": {
      "type": "boolean",
      "default": false
    },
    "perps_stream_level": {
      "type": "integer",
      "default": 1
    },
    "perps_paper_trading": {
      "type": "boolean",
      "default": false
    },
    "perps_skip_startup_reconcile": {
      "type": "boolean",
      "default": false
    },
    "perps_position_fraction": {
      "type": "number",
      "nullable": true,
      "description": "Fraction of balance to use for perps positions"
    },
    "runtime_root": {
      "type": "string",
      "default": "."
    },
    "event_store_root_override": {
      "type": "string",
      "nullable": true
    },
    "risk_config_path": {
      "type": "string",
      "nullable": true
    },
    "environment": {
      "type": "string",
      "nullable": true
    },
    "spot_force_live": {
      "type": "boolean",
      "default": false
    },
    "metadata": {
      "type": "object",
      "additionalProperties": {},
      "default": {},
      "description": "Additional metadata key-value pairs"
    }
  },
  "description": "Bot configuration with nested strategy and risk configs.\n\n    Supports nested access:\n    - Strategy: config.strategy.short_ma_period, config.strategy.long_ma_period, etc.\n    - Risk: config.risk.max_leverage, config.risk.position_fraction, etc."
}

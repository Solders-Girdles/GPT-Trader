warning: `VIRTUAL_ENV=/Users/rj/PycharmProjects/GPT-Trader/.venv` does not match the project environment path `.venv` and will be ignored; use `--active` to target the active environment instead
============================= test session starts ==============================
platform darwin -- Python 3.12.4, pytest-9.0.1, pluggy-1.6.0 -- /Users/rj/Projects/GPT-Trader/.venv/bin/python
cachedir: .pytest_cache
benchmark: 5.2.3 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
hypothesis profile 'default'
rootdir: /Users/rj/Projects/GPT-Trader
configfile: pytest.ini
plugins: benchmark-5.2.3, mock-3.15.1, xdist-3.8.0, asyncio-1.3.0, textual-snapshot-1.0.0, hypothesis-6.148.3, Faker-37.12.0, cov-7.0.0, syrupy-5.0.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... /Users/rj/Projects/GPT-Trader/.venv/lib/python3.12/site-packages/_hypothesis_pytestplugin.py:469: UserWarning: Skipping collection of '.hypothesis' directory - this usually means you've explicitly set the `norecursedirs` pytest config option, replacing rather than extending the default ignores.
  warnings.warn(
collected 6649 items / 39 deselected / 6610 selected

tests/contract/test_coinbase_api_contract.py::test_list_balances_contract PASSED [  0%]
tests/contract/test_coinbase_api_contract.py::test_product_structure_contract PASSED [  0%]
tests/contract/test_coinbase_api_contract.py::test_order_lifecycle_contract PASSED [  0%]
tests/integration/test_boot_container_perps_bot.py::test_container_bot_boot_roundtrip PASSED [  0%]
tests/integration/test_boot_container_perps_bot.py::test_container_services PASSED [  0%]
tests/integration/test_config_migration.py::test_config_manager_basic_functionality PASSED [  0%]
tests/integration/test_crash_recovery.py::TestCrashRecovery::test_price_history_survives_restart PASSED [  0%]
tests/integration/test_crash_recovery.py::TestCrashRecovery::test_rehydration_filters_by_configured_symbols PASSED [  0%]
tests/integration/test_crash_recovery.py::TestCrashRecovery::test_rehydration_respects_max_history_size PASSED [  0%]
tests/integration/test_crash_recovery.py::TestCrashRecovery::test_in_memory_mode_no_persistence PASSED [  0%]
tests/integration/test_crash_recovery.py::TestCrashRecovery::test_no_event_store_graceful_degradation PASSED [  0%]
tests/integration/test_crash_recovery.py::TestCrashRecovery::test_multiple_restarts_accumulate_correctly PASSED [  0%]
tests/integration/test_database_engine.py::TestDatabaseEngine::test_initialize_creates_database PASSED [  0%]
tests/integration/test_database_engine.py::TestDatabaseEngine::test_write_and_read_event PASSED [  0%]
tests/integration/test_database_engine.py::TestDatabaseEngine::test_read_recent_events PASSED [  0%]
tests/integration/test_database_engine.py::TestDatabaseEngine::test_read_events_by_bot PASSED [  0%]
tests/integration/test_end_to_end_buy.py::test_end_to_end_buy_execution PASSED [  0%]
tests/integration/test_ensemble_strategy.py::TestEnsembleStrategy::test_initialization PASSED [  0%]
tests/integration/test_ensemble_strategy.py::TestEnsembleStrategy::test_trend_signal_bullish PASSED [  0%]
tests/integration/test_ensemble_strategy.py::TestEnsembleStrategy::test_mean_reversion_signal PASSED [  0%]
tests/integration/test_funding_pnl_integration.py::TestFundingPnLIntegration::test_long_position_pays_positive_funding PASSED [  0%]
tests/integration/test_funding_pnl_integration.py::TestFundingPnLIntegration::test_short_position_receives_positive_funding PASSED [  0%]
tests/integration/test_funding_pnl_integration.py::TestFundingPnLIntegration::test_funding_accumulates_over_time PASSED [  0%]
tests/integration/test_funding_pnl_integration.py::TestFundingPnLIntegration::test_no_position_no_funding PASSED [  0%]
tests/integration/test_funding_pnl_integration.py::TestFundingPnLIntegration::test_funding_affects_final_equity PASSED [  0%]
tests/integration/test_funding_pnl_integration.py::TestFundingWithSimulationConfig::test_config_funding_rates_passed_to_broker PASSED [  0%]
tests/integration/test_funding_pnl_integration.py::TestFundingWithSimulationConfig::test_funding_disabled_skips_processing PASSED [  0%]
tests/integration/test_funding_pnl_integration.py::TestFundingWithSimulationConfig::test_default_funding_settlement_is_8_hours PASSED [  0%]
tests/integration/test_optimize_feature.py::TestOptimizationEndToEnd::test_optimization_runs_multiple_trials PASSED [  0%]
tests/integration/test_optimize_feature.py::TestOptimizationEndToEnd::test_optimization_identifies_best_parameters PASSED [  0%]
tests/integration/test_optimize_feature.py::TestOptimizationEndToEnd::test_trial_result_contains_metrics PASSED [  0%]
tests/integration/test_optimize_feature.py::TestOptimizationEndToEnd::test_parameter_space_with_multiple_types PASSED [  0%]
tests/integration/test_optimize_feature.py::TestOptimizationFailures::test_trial_handles_strategy_error_gracefully PASSED [  0%]
tests/integration/test_order_flow.py::TestTradingEngineOrderFlow::test_happy_path_creates_trade_event PASSED [  0%]
tests/integration/test_order_flow.py::TestTradingEngineOrderFlow::test_multiple_orders_record_multiple_events PASSED [  0%]
tests/integration/test_order_flow.py::TestTradingEngineGuardStack::test_reduce_only_blocks_new_position PASSED [  0%]
tests/integration/test_order_flow.py::TestTradingEngineGuardStack::test_mark_staleness_blocks_order PASSED [  0%]
tests/integration/test_order_flow.py::TestOrderFlowMetrics::test_order_submission_metric_incremented_on_success PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_events_persist_across_restart PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_in_memory_mode_unchanged PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_get_recent_from_persistent_store PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_large_event_persistence PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_concurrent_writes PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_context_manager PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_cache_eviction PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_database_has_all_events_after_eviction PASSED [  0%]
tests/integration/test_persistence.py::TestEventStorePersistence::test_path_property_with_root PASSED [  0%]
tests/integration/test_persistence.py::TestEventStoreBackwardCompatibility::test_direct_events_access PASSED [  0%]
tests/integration/test_persistence.py::TestEventStoreBackwardCompatibility::test_len_events PASSED [  0%]
tests/integration/test_persistence.py::TestEventStoreBackwardCompatibility::test_events_list_equality PASSED [  0%]
tests/integration/test_persistence.py::TestEventStoreBackwardCompatibility::test_append_trade_both_signatures PASSED [  0%]
tests/integration/test_persistence.py::TestEventStoreBackwardCompatibility::test_bot_id_extraction PASSED [  0%]
tests/integration/test_reduce_only_backward_compatibility.py::TestReduceOnlyBackwardCompatibility::test_runtime_coordinator_without_state_manager SKIPPED [  0%]
tests/integration/test_reduce_only_backward_compatibility.py::TestReduceOnlyBackwardCompatibility::test_mixed_environment_compatibility SKIPPED [  0%]
tests/integration/test_tui_degraded_paths.py::TestTuiStatePartialUpdates::test_state_with_only_system_data PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestTuiStatePartialUpdates::test_state_with_only_account_data PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestTuiStatePartialUpdates::test_state_with_only_position_data PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestTuiStatePartialUpdates::test_state_with_null_resilience_data PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestTuiStatePartialUpdates::test_state_with_null_execution_data PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestStateRegistryBroadcast::test_broadcast_with_partial_state_no_crash PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestStateRegistryBroadcast::test_broadcast_handles_observer_exception PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestStateRegistryBroadcast::test_broadcast_with_degraded_state PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestStateUpdatePaths::test_state_update_with_missing_fields PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestStateUpdatePaths::test_state_update_with_resilience_data PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestStateUpdatePaths::test_state_update_with_execution_data PASSED [  0%]
tests/integration/test_tui_degraded_paths.py::TestStateUpdatePaths::test_state_transition_from_healthy_to_degraded PASSED [  0%]
tests/integration/test_validation_escalation.py::TestValidationEscalationFlow::test_escalation_flow_triggers_reduce_only_mode PASSED [  1%]
tests/integration/test_validation_escalation.py::TestValidationEscalationFlow::test_successful_validation_resets_failure_counter PASSED [  1%]
tests/integration/test_validation_escalation.py::TestValidationEscalationFlow::test_slippage_guard_failures_also_trigger_escalation PASSED [  1%]
tests/integration/test_validation_escalation.py::TestValidationEscalationFlow::test_different_check_types_have_independent_counters PASSED [  1%]
tests/integration/test_validation_escalation.py::TestValidationEscalationFlow::test_escalation_reason_is_correct PASSED [  1%]
tests/integration/test_validation_escalation.py::TestValidationEscalationWithMetrics::test_metrics_recorded_during_escalation PASSED [  1%]
tests/property/test_coinbase_invariants.py::test_quantize_size_never_exceeds_input PASSED [  1%]
tests/property/test_coinbase_invariants.py::test_quantize_price_respects_increment PASSED [  1%]
tests/property/test_coinbase_invariants.py::test_paginate_yields_all_items_in_order PASSED [  1%]
tests/property/test_coinbase_invariants.py::test_calculate_safe_position_size_invariants PASSED [  1%]
tests/property/test_coinbase_invariants.py::test_validate_order_invariants PASSED [  1%]
tests/property/test_coinbase_invariants.py::test_order_lifecycle_invariants PASSED [  1%]
tests/property/test_degradation_invariants.py::test_global_pause_is_active_during_duration PASSED [  1%]
tests/property/test_degradation_invariants.py::test_symbol_pause_is_isolated PASSED [  1%]
tests/property/test_degradation_invariants.py::test_global_pause_takes_precedence PASSED [  1%]
tests/property/test_degradation_invariants.py::test_pause_reason_returned_correctly PASSED [  1%]
tests/property/test_degradation_invariants.py::test_slippage_failure_escalation PASSED [  1%]
tests/property/test_degradation_invariants.py::test_broker_failure_escalation PASSED [  1%]
tests/property/test_degradation_invariants.py::test_slippage_counter_resets_on_success PASSED [  1%]
tests/property/test_degradation_invariants.py::test_broker_counter_resets_on_success PASSED [  1%]
tests/property/test_degradation_invariants.py::test_clear_all_removes_all_pauses PASSED [  1%]
tests/property/test_degradation_invariants.py::test_get_status_reflects_current_state PASSED [  1%]
tests/property/test_degradation_invariants.py::test_multiple_symbol_pauses_are_independent PASSED [  1%]
tests/property/test_degradation_invariants.py::test_reduce_only_consistency_global PASSED [  1%]
tests/property/test_degradation_invariants.py::test_reduce_only_consistency_symbol PASSED [  1%]
tests/property/test_fee_invariants.py::test_fee_non_negative PASSED      [  1%]
tests/property/test_fee_invariants.py::test_fee_proportional_to_notional PASSED [  1%]
tests/property/test_fee_invariants.py::test_maker_fee_leq_taker_fee PASSED [  1%]
tests/property/test_fee_invariants.py::test_fee_tiers_monotonically_decrease PASSED [  1%]
tests/property/test_fee_invariants.py::test_fee_formula_correctness PASSED [  1%]
tests/property/test_fee_invariants.py::test_volume_tracking_tier_upgrades PASSED [  1%]
tests/property/test_fee_invariants.py::test_rate_percentage_conversion PASSED [  1%]
tests/property/test_fee_invariants.py::test_volume_reset_clears_tracking PASSED [  1%]
tests/property/test_fee_invariants.py::test_zero_notional_zero_fee PASSED [  1%]
tests/property/test_fee_invariants.py::test_fee_additivity PASSED        [  1%]
tests/property/test_fee_invariants.py::TestFeePropertyBased::test_fee_tier_rates_consistency PASSED [  1%]
tests/property/test_fee_invariants.py::TestFeePropertyBased::test_highest_tier_lowest_rates PASSED [  1%]
tests/property/test_fee_invariants.py::TestFeePropertyBased::test_fee_calculation_example PASSED [  1%]
tests/property/test_fee_invariants.py::TestFeePropertyBased::test_volume_tracking_disabled_no_tier_change PASSED [  1%]
tests/property/test_liquidation_invariants.py::test_liquidation_price_invariants PASSED [  1%]
tests/property/test_liquidation_invariants.py::test_distance_calculation_invariants PASSED [  1%]
tests/property/test_liquidation_invariants.py::test_risk_level_invariants PASSED [  1%]
tests/property/test_liquidation_invariants.py::test_zero_position_is_always_safe PASSED [  1%]
tests/property/test_liquidation_invariants.py::test_liquidation_symmetry PASSED [  1%]
tests/property/test_liquidation_invariants.py::test_higher_leverage_closer_liquidation PASSED [  1%]
tests/property/test_liquidation_invariants.py::TestLiquidationPropertyBased::test_liquidation_price_formula_documented PASSED [  1%]
tests/property/test_margin_invariants.py::test_margin_utilization_bounded PASSED [  1%]
tests/property/test_margin_invariants.py::test_leverage_calculation_consistency PASSED [  1%]
tests/property/test_margin_invariants.py::test_margin_requirements_scale_with_positions PASSED [  1%]
tests/property/test_margin_invariants.py::test_zero_positions_zero_margin PASSED [  1%]
tests/property/test_margin_invariants.py::test_margin_window_deterministic PASSED [  1%]
tests/property/test_margin_invariants.py::test_margin_window_coverage PASSED [  1%]
tests/property/test_margin_invariants.py::test_margin_requirements_ordering PASSED [  1%]
tests/property/test_margin_invariants.py::test_margin_available_consistency PASSED [  1%]
tests/property/test_margin_invariants.py::test_margin_call_trigger_consistency PASSED [  1%]
tests/property/test_margin_invariants.py::test_margin_requirement_consistency PASSED [  1%]
tests/property/test_margin_invariants.py::TestMarginPropertyBased::test_margin_window_pre_funding_times PASSED [  1%]
tests/property/test_margin_invariants.py::TestMarginPropertyBased::test_overnight_window_hours PASSED [  1%]
tests/property/test_pnl_invariants.py::test_total_pnl_is_sum_of_components PASSED [  1%]
tests/property/test_pnl_invariants.py::test_pnl_components_correctly_extracted PASSED [  1%]
tests/property/test_pnl_invariants.py::test_win_rate_bounded PASSED      [  1%]
tests/property/test_pnl_invariants.py::test_win_rate_calculation PASSED  [  1%]
tests/property/test_pnl_invariants.py::test_profit_factor_non_negative PASSED [  1%]
tests/property/test_pnl_invariants.py::test_profit_factor_calculation PASSED [  1%]
tests/property/test_pnl_invariants.py::test_max_drawdown_non_negative PASSED [  1%]
tests/property/test_pnl_invariants.py::test_trade_counts_correct PASSED  [  1%]
tests/property/test_pnl_invariants.py::test_all_wins_profit_factor_handling PASSED [  2%]
tests/property/test_pnl_invariants.py::test_all_losses_win_rate_zero PASSED [  2%]
tests/property/test_pnl_invariants.py::test_average_win_loss_calculation PASSED [  2%]
tests/property/test_pnl_invariants.py::test_largest_win_loss_calculation PASSED [  2%]
tests/property/test_pnl_invariants.py::test_equity_change_percentage PASSED [  2%]
tests/property/test_pnl_invariants.py::test_fees_accumulation PASSED     [  2%]
tests/property/test_pnl_invariants.py::TestPnLPropertyBased::test_empty_events_returns_defaults PASSED [  2%]
tests/property/test_pnl_invariants.py::TestPnLPropertyBased::test_empty_events_trade_metrics PASSED [  2%]
tests/property/test_pnl_invariants.py::TestPnLPropertyBased::test_sharpe_ratio_requires_variance PASSED [  2%]
tests/property/test_pnl_invariants.py::TestPnLPropertyBased::test_max_drawdown_sequence PASSED [  2%]
tests/property/test_validation_invariants.py::test_failure_counter_increments PASSED [  2%]
tests/property/test_validation_invariants.py::test_success_resets_counter PASSED [  2%]
tests/property/test_validation_invariants.py::test_escalation_triggers_at_threshold PASSED [  2%]
tests/property/test_validation_invariants.py::test_escalation_callback_called PASSED [  2%]
tests/property/test_validation_invariants.py::test_check_types_are_independent PASSED [  2%]
tests/property/test_validation_invariants.py::test_get_failure_count_is_readonly PASSED [  2%]
tests/property/test_validation_invariants.py::test_reset_allows_new_escalation PASSED [  2%]
tests/property/test_validation_invariants.py::test_initial_failure_count_is_zero PASSED [  2%]
tests/property/test_validation_invariants.py::test_escalation_does_not_trigger_below_threshold PASSED [  2%]
tests/property/test_validation_invariants.py::test_interleaved_operations_consistency PASSED [  2%]
tests/property/test_validation_invariants.py::test_callback_exception_does_not_break_tracking PASSED [  2%]
tests/property/test_validation_invariants.py::test_no_callback_still_returns_true PASSED [  2%]
tests/system/test_ensemble_execution.py::TestEnsembleSystemExecution::test_ensemble_initialization_and_execution PASSED [  2%]
tests/test_simple_start.py::test_bot_startup_shutdown PASSED             [  2%]
tests/tui/test_app_integration.py::test_app_startup PASSED               [  2%]
tests/tui/test_app_integration.py::test_tui_receives_status_update PASSED [  2%]
tests/tui/test_app_integration.py::test_toggle_bot PASSED                [  2%]
tests/tui/test_data_fidelity.py::test_data_flow_from_reporter_to_state PASSED [  2%]
tests/tui/test_decoupling.py::TestStateRegistryPriority::test_observers_receive_updates_in_priority_order PASSED [  2%]
tests/tui/test_decoupling.py::TestStateRegistryPriority::test_observer_without_priority_defaults_to_zero PASSED [  2%]
tests/tui/test_decoupling.py::TestStateRegistryPriority::test_all_observers_receive_update PASSED [  2%]
tests/tui/test_decoupling.py::TestUICoordinatorDecoupling::test_update_main_screen_works_without_screens_mounted PASSED [  2%]
tests/tui/test_decoupling.py::TestUICoordinatorDecoupling::test_update_main_screen_broadcasts_to_registry PASSED [  2%]
tests/tui/test_decoupling.py::TestUICoordinatorDecoupling::test_update_main_screen_handles_missing_registry PASSED [  2%]
tests/tui/test_decoupling.py::TestScreenObserverRegistration::test_main_screen_has_observer_priority PASSED [  2%]
tests/tui/test_decoupling.py::TestScreenObserverRegistration::test_system_details_screen_has_observer_priority PASSED [  2%]
tests/tui/test_decoupling.py::TestScreenObserverRegistration::test_main_screen_has_on_state_updated PASSED [  2%]
tests/tui/test_decoupling.py::TestScreenObserverRegistration::test_system_details_screen_has_on_state_updated PASSED [  2%]
tests/tui/test_phase4.py::test_flatten_and_stop PASSED                   [  2%]
tests/tui/test_phase4.py::test_config_modal_save PASSED                  [  2%]
tests/tui/test_state_logic.py::test_update_market_data PASSED            [  2%]
tests/tui/test_state_logic.py::test_update_position_data_dict PASSED     [  2%]
tests/tui/test_state_logic.py::test_update_order_data PASSED             [  2%]
tests/tui/test_state_logic.py::test_update_trade_data PASSED             [  2%]
tests/tui/test_state_logic.py::test_update_account_data PASSED           [  2%]
tests/tui/test_state_logic.py::test_update_strategy_data PASSED          [  2%]
tests/tui/test_state_logic.py::test_update_risk_data PASSED              [  2%]
tests/tui/test_state_logic.py::test_update_system_data PASSED            [  2%]
tests/tui/test_state_logic.py::test_malformed_data_handling PASSED       [  2%]
tests/tui/test_state_logic.py::test_partial_update PASSED                [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_container_initialization PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_config_controller_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_event_store_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_orders_store_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_market_data_service_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_product_catalog_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_broker_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_create_bot PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_create_bot_includes_notification_service PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_reset_broker PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_reset_config PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_validation_failure_tracker_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_profile_loader_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_health_state_creation PASSED [  2%]
tests/unit/app/test_container.py::TestApplicationContainer::test_secrets_manager_creation PASSED [  2%]
tests/unit/app/test_container.py::TestCreateApplicationContainer::test_create_application_container PASSED [  2%]
tests/unit/app/test_container.py::TestContainerRegistry::test_get_returns_none_when_not_set PASSED [  3%]
tests/unit/app/test_container.py::TestContainerRegistry::test_set_and_get_container PASSED [  3%]
tests/unit/app/test_container.py::TestContainerRegistry::test_clear_container PASSED [  3%]
tests/unit/app/test_container.py::TestContainerRegistry::test_service_resolution_via_registry PASSED [  3%]
tests/unit/cli/test_services.py::TestInstantiateBot::test_sets_container_when_none_present PASSED [  3%]
tests/unit/cli/test_services.py::TestInstantiateBot::test_uses_existing_container PASSED [  3%]
tests/unit/cli/test_services.py::TestRunBotCleanup::test_clears_container_on_shutdown PASSED [  3%]
tests/unit/cli/test_services.py::TestRunBotCleanup::test_clears_container_even_on_exception PASSED [  3%]
tests/unit/core/math/test_incremental.py::TestIncrementalStats::test_initial_state PASSED [  3%]
tests/unit/core/math/test_incremental.py::TestIncrementalStats::test_single_value PASSED [  3%]
tests/unit/core/math/test_incremental.py::TestIncrementalStats::test_multiple_values_accuracy PASSED [  3%]
tests/unit/core/math/test_incremental.py::TestIncrementalStats::test_decimal_support PASSED [  3%]
tests/unit/core/math/test_incremental.py::TestIncrementalStats::test_reset PASSED [  3%]
tests/unit/core/math/test_incremental.py::TestIncrementalStats::test_numerical_stability PASSED [  3%]
tests/unit/core/math/test_rolling.py::TestRollingStats::test_initial_state PASSED [  3%]
tests/unit/core/math/test_rolling.py::TestRollingStats::test_window_filling PASSED [  3%]
tests/unit/core/math/test_rolling.py::TestRollingStats::test_sliding_window PASSED [  3%]
tests/unit/core/math/test_rolling.py::TestRollingStats::test_accuracy_vs_statistics PASSED [  3%]
tests/unit/core/math/test_rolling.py::TestRollingStats::test_decimal_support PASSED [  3%]
tests/unit/core/math/test_rolling.py::TestRollingStats::test_clear PASSED [  3%]
tests/unit/core/math/test_rolling.py::TestRollingStats::test_invalid_window_size PASSED [  3%]
tests/unit/features/live_trade/combiners/test_regime_combiner.py::TestRegimeAwareCombiner::test_neutral_regime_no_candles PASSED [  3%]
tests/unit/features/live_trade/combiners/test_regime_combiner.py::TestRegimeAwareCombiner::test_trending_regime PASSED [  3%]
tests/unit/features/live_trade/combiners/test_regime_combiner.py::TestRegimeAwareCombiner::test_ranging_regime PASSED [  3%]
tests/unit/features/live_trade/signals/test_signals.py::TestTrendSignal::test_insufficient_data PASSED [  3%]
tests/unit/features/live_trade/signals/test_signals.py::TestTrendSignal::test_bullish_trend PASSED [  3%]
tests/unit/features/live_trade/signals/test_signals.py::TestTrendSignal::test_bearish_trend PASSED [  3%]
tests/unit/features/live_trade/signals/test_signals.py::TestMeanReversionSignal::test_oversold PASSED [  3%]
tests/unit/features/live_trade/signals/test_signals.py::TestMeanReversionSignal::test_overbought PASSED [  3%]
tests/unit/features/live_trade/signals/test_signals.py::TestMomentumSignal::test_rsi_oversold PASSED [  3%]
tests/unit/features/live_trade/strategies/test_stateful.py::TestStatefulStrategy::test_initialization PASSED [  3%]
tests/unit/features/live_trade/strategies/test_stateful.py::TestStatefulStrategy::test_update_stats PASSED [  3%]
tests/unit/features/live_trade/strategies/test_stateful.py::TestStatefulStrategy::test_rehydrate PASSED [  3%]
tests/unit/features/live_trade/strategies/test_stateful.py::TestStatefulStrategy::test_decide_updates_stats PASSED [  3%]
tests/unit/gpt_trader/agents/test_agents_import.py::TestAgentsModuleImport::test_agents_module_imports PASSED [  3%]
tests/unit/gpt_trader/agents/test_agents_import.py::TestAgentsModuleImport::test_agents_cli_imports PASSED [  3%]
tests/unit/gpt_trader/agents/test_agents_import.py::TestAgentsModuleImport::test_agents_has_docstring PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_get_scripts_dir_points_to_agents_scripts PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_run_script_missing_returns_one_and_stderr PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_run_script_forwards_args_and_sets_cwd PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_entrypoints_call_run_script[check-quality_gate.py] PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_entrypoints_call_run_script[impact-change_impact.py] PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_entrypoints_call_run_script[map_deps-dependency_graph.py] PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_entrypoints_call_run_script[tests-generate_test_inventory.py] PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_entrypoints_call_run_script[risk-query_risk_config.py] PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_entrypoints_call_run_script[naming-naming_inventory.py] PASSED [  3%]
tests/unit/gpt_trader/agents/test_cli_edges.py::test_entrypoints_call_run_script[regenerate-regenerate_all.py] PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestEnableShortsCanonical::test_active_enable_shorts_from_baseline_strategy PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestEnableShortsCanonical::test_active_enable_shorts_from_mean_reversion PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestEnableShortsCanonical::test_sync_warning_on_mismatch PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestEnableShortsCanonical::test_no_warning_when_synced PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestEnableShortsCanonical::test_warning_only_once_per_process PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestMockBrokerEnvParsing::test_mock_broker_env_true PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestMockBrokerEnvParsing::test_mock_broker_env_default_false PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestReduceOnlyModeEnvParsing::test_risk_prefixed_enabled PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config.py::TestReduceOnlyModeEnvParsing::test_default_false PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config_loading.py::test_load_paper_profile PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config_loading.py::test_validate_paper_profile PASSED [  3%]
tests/unit/gpt_trader/app/config/test_bot_config_loading.py::test_validation_errors PASSED [  3%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigDefaults::test_trading_modes_default PASSED [  3%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigDefaults::test_cfm_enabled_default PASSED [  3%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigDefaults::test_cfm_max_leverage_default PASSED [  3%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigDefaults::test_cfm_symbols_default PASSED [  3%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigDefaults::test_cfm_margin_window_default PASSED [  3%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestTradingModeProperties::test_is_spot_only_default PASSED [  3%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestTradingModeProperties::test_is_cfm_only PASSED [  3%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestTradingModeProperties::test_is_hybrid_mode PASSED [  4%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestTradingModeProperties::test_hybrid_mode_order_independent PASSED [  4%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestTradingModeProperties::test_empty_trading_modes PASSED [  4%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigValues::test_cfm_enabled PASSED [  4%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigValues::test_cfm_max_leverage PASSED [  4%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigValues::test_cfm_symbols PASSED [  4%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigValues::test_cfm_margin_window_intraday PASSED [  4%]
tests/unit/gpt_trader/app/config/test_cfm_config.py::TestCFMConfigValues::test_full_cfm_config PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestTopVolumeBases::test_is_list PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestTopVolumeBases::test_contains_btc PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestTopVolumeBases::test_contains_eth PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestTopVolumeBases::test_has_ten_bases PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestTopVolumeBases::test_btc_is_first PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestTopVolumeBases::test_eth_is_second PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotSymbols::test_is_list PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotSymbols::test_has_ten_symbols PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotSymbols::test_all_symbols_end_with_usd PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotSymbols::test_contains_btc_usd PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotSymbols::test_contains_eth_usd PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotSymbols::test_symbols_match_bases PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotRiskPath::test_is_path PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotRiskPath::test_ends_with_spot_top10_json PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotRiskPath::test_contains_config_in_path PASSED [  4%]
tests/unit/gpt_trader/app/config/test_defaults.py::TestDefaultSpotRiskPath::test_contains_risk_in_path PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileLoader::test_load_from_yaml_file PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileLoader::test_fallback_to_hardcoded_defaults PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileLoader::test_hardcoded_defaults_exist_for_all_profiles PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileSchema::test_from_yaml_minimal PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileSchema::test_from_yaml_full PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestBuildProfileConfig::test_dev_profile_sets_mock_broker PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestBuildProfileConfig::test_demo_profile_conservative_settings PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestBuildProfileConfig::test_production_profile_settings PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestBuildProfileConfig::test_canary_profile_reduce_only PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestBuildProfileConfig::test_spot_profile_no_shorts PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileMapping::test_all_profiles_return_config[Profile.DEV] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileMapping::test_all_profiles_return_config[Profile.DEMO] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileMapping::test_all_profiles_return_config[Profile.SPOT] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileMapping::test_all_profiles_return_config[Profile.CANARY] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileMapping::test_all_profiles_return_config[Profile.PROD] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestProfileMapping::test_all_profiles_return_config[Profile.TEST] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestLoadProfile::test_load_profile_returns_schema PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestLoadProfile::test_load_all_profiles[Profile.DEV] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestLoadProfile::test_load_all_profiles[Profile.DEMO] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestLoadProfile::test_load_all_profiles[Profile.PROD] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestLoadProfile::test_load_all_profiles[Profile.CANARY] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestLoadProfile::test_load_all_profiles[Profile.SPOT] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestLoadProfile::test_load_all_profiles[Profile.TEST] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_profile_loader.py::TestLoadProfile::test_load_all_profiles[Profile.PAPER] PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationError::test_stores_errors_list PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationError::test_message_joins_errors PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationError::test_empty_errors_default_message PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationError::test_single_error_message PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationError::test_is_exception_subclass PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationError::test_no_args_default_message PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationResult::test_valid_result_creation PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationResult::test_invalid_result_with_errors PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationResult::test_result_with_warnings PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationResult::test_has_errors_property_true PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationResult::test_has_errors_property_false PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationResult::test_has_warnings_property_true PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationResult::test_has_warnings_property_false PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestConfigValidationResult::test_both_errors_and_warnings PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestFormatValidationErrors::test_formats_single_field_error PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestFormatValidationErrors::test_formats_multiple_errors PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestFormatValidationErrors::test_field_path_included_in_message PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation.py::TestFormatValidationErrors::test_missing_field_error PASSED [  4%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestRuleInstances::test_int_rule_exists PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestRuleInstances::test_decimal_rule_exists PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestRuleInstances::test_float_rule_exists PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestRuleInstances::test_string_rule_exists PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestRuleInstances::test_symbol_rule_exists PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestRuleInstances::test_symbol_list_rule_exists PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestApplyRule::test_apply_int_rule_success PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestApplyRule::test_apply_decimal_rule_success PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestApplyRule::test_apply_float_rule_success PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestApplyRule::test_apply_string_rule_strips_whitespace PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestApplyRule::test_apply_symbol_rule_success PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestApplyRule::test_apply_rule_raises_pydantic_error_on_failure PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestEnsureCondition::test_does_not_raise_when_condition_is_false PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestEnsureCondition::test_raises_when_condition_is_true PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestEnsureCondition::test_error_code_is_preserved PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestSymbolListRule::test_valid_symbol_list PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestSymbolListRule::test_empty_list PASSED [  5%]
tests/unit/gpt_trader/app/config/test_validation_rules.py::TestSymbolListRule::test_single_symbol_list PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestRiskValidationContainer::test_initialization PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestRiskValidationContainer::test_risk_manager_lazy_creation PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestRiskValidationContainer::test_validation_failure_tracker_lazy_creation PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestRiskValidationContainer::test_reset_risk_manager PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestRiskValidationContainer::test_reset_validation_failure_tracker PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestRiskValidationContainer::test_risk_manager_uses_config_values PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestKillSwitchDerivation::test_baseline_strategy_uses_strategy_config PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestKillSwitchDerivation::test_mean_reversion_strategy_uses_mean_reversion_config PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestKillSwitchDerivation::test_ensemble_strategy_uses_strategy_config PASSED [  5%]
tests/unit/gpt_trader/app/containers/test_risk_validation.py::TestKillSwitchDerivation::test_reduce_only_mode_from_config PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestNormaliseSymbols::test_normalise_with_valid_symbols PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestNormaliseSymbols::test_normalise_empty_list_uses_fallback PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestNormaliseSymbols::test_normalise_none_uses_fallback PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestNormaliseSymbols::test_normalise_logs_are_bootstrap_log_records PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestResolveRuntimePaths::test_resolve_paths_returns_runtime_paths PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestResolveRuntimePaths::test_resolve_paths_creates_directories PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestResolveRuntimePaths::test_different_profiles_have_different_paths PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBuildBot::test_build_bot_returns_trading_bot PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBuildBot::test_build_bot_uses_container PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBuildBot::test_build_bot_with_webhook_logs_message PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBotFromProfile::test_bot_from_profile_dev PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBotFromProfile::test_bot_from_profile_test PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBotFromProfile::test_bot_from_profile_case_insensitive PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBotFromProfile::test_bot_from_profile_invalid_raises PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBotFromProfile::test_mock_broker_profiles_create_bot[dev] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBotFromProfile::test_mock_broker_profiles_create_bot[test] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBotFromProfile::test_non_mock_profiles_require_credentials PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBootstrapLogRecord::test_log_record_creation PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBootstrapLogRecord::test_log_record_default_args PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestBootstrapLogRecord::test_log_record_is_frozen PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestEnvironmentVariableHandling::test_config_respects_env_variables PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_from_profile_loads_yaml_config PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_from_profile_with_overrides PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_all_profiles_load_successfully[Profile.DEV] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_all_profiles_load_successfully[Profile.DEMO] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_all_profiles_load_successfully[Profile.PROD] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_all_profiles_load_successfully[Profile.CANARY] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_all_profiles_load_successfully[Profile.SPOT] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_all_profiles_load_successfully[Profile.TEST] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestProfileLoading::test_all_profiles_load_successfully[Profile.PAPER] PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestContainerInitialization::test_build_bot_creates_container PASSED [  5%]
tests/unit/gpt_trader/app/test_bootstrap.py::TestContainerInitialization::test_container_has_config PASSED [  5%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthState::test_initial_state PASSED [  5%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthState::test_set_ready PASSED [  5%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthState::test_set_live PASSED [  5%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthState::test_add_check_pass PASSED [  5%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthState::test_add_check_fail PASSED [  5%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthServerIntegration::test_server_starts_and_stops PASSED [  5%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthServerIntegration::test_health_endpoint_healthy PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthServerIntegration::test_health_endpoint_not_ready PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthServerIntegration::test_live_endpoint PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthServerIntegration::test_live_endpoint_not_live PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthServerIntegration::test_ready_endpoint PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthServerIntegration::test_ready_endpoint_not_ready PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthServerIntegration::test_not_found_endpoint PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthCheckFunctions::test_mark_ready PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthCheckFunctions::test_mark_live PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthCheckFunctions::test_add_health_check_success PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthCheckFunctions::test_add_health_check_failure PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::TestHealthCheckFunctions::test_add_health_check_exception PASSED [  6%]
tests/unit/gpt_trader/app/test_health_server.py::test_default_port_is_8080 PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestMissingCandles::test_default_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestMissingCandles::test_custom_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestMissingCandles::test_default_name PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestMissingCandles::test_custom_name PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestMissingCandles::test_enabled_by_default PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestStaleMarks::test_default_delay PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestStaleMarks::test_custom_delay PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestStaleMarks::test_default_name PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestStaleMarks::test_enabled_by_default PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestWideSpread::test_default_multiplier PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestWideSpread::test_custom_multiplier PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestWideSpread::test_default_name PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestChaoticOrderErrors::test_default_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestChaoticOrderErrors::test_custom_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestChaoticOrderErrors::test_default_name PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestChaoticPartialFills::test_default_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestChaoticPartialFills::test_default_fill_pct PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestChaoticPartialFills::test_custom_params PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestChaoticPartialFills::test_default_name PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestNetworkLatency::test_default_latency PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestNetworkLatency::test_custom_latency PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestNetworkLatency::test_default_name PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestVolatileMarketScenario::test_creates_scenario PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestVolatileMarketScenario::test_spread_multiplier PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestVolatileMarketScenario::test_partial_fill_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestVolatileMarketScenario::test_order_error_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestDegradedConnectivityScenario::test_creates_scenario PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestDegradedConnectivityScenario::test_missing_candles_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestDegradedConnectivityScenario::test_stale_marks_delay PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestDegradedConnectivityScenario::test_network_latency PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestFlashCrashScenario::test_creates_scenario PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestFlashCrashScenario::test_extreme_spread_multiplier PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestFlashCrashScenario::test_high_partial_fill_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestFlashCrashScenario::test_high_error_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestFlashCrashScenario::test_high_latency PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestNormalConditionsScenario::test_creates_scenario PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestNormalConditionsScenario::test_minimal_missing_candles PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestNormalConditionsScenario::test_normal_spread_multiplier PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestNormalConditionsScenario::test_low_partial_fill_probability PASSED [  6%]
tests/unit/gpt_trader/backtesting/chaos/test_scenarios.py::TestNormalConditionsScenario::test_low_latency PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestClockedBarRunnerInit::test_basic_initialization PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestClockedBarRunnerInit::test_default_clock_speed_is_instant PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestClockedBarRunnerInit::test_custom_clock_speed PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestClockedBarRunnerInit::test_multiple_symbols PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestParseGranularity::test_one_minute PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestParseGranularity::test_five_minute PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestParseGranularity::test_fifteen_minute PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestParseGranularity::test_one_hour PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestParseGranularity::test_one_day PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestParseGranularity::test_unsupported_granularity_raises_error PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarsToQuotes::test_converts_bar_to_quote PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarsToQuotes::test_spread_calculation PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarsToQuotes::test_multiple_symbols PASSED [  6%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerHooks::test_on_bar_start_adds_callback PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerHooks::test_on_bar_end_adds_callback PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerProgress::test_progress_starts_at_zero PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerProgress::test_progress_100_when_duration_zero PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerProgress::test_bars_remaining_initial PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerProgress::test_bars_remaining_zero_duration PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerRun::test_run_yields_bars_and_quotes PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerRun::test_run_skips_empty_bars PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerRun::test_run_triggers_hooks PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestBarRunnerRun::test_run_updates_bars_processed PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestIHistoricalDataProvider::test_interface_cannot_be_instantiated PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestConstantFundingRates::test_returns_rate_for_known_symbol PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestConstantFundingRates::test_returns_none_for_unknown_symbol PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestConstantFundingRates::test_ignores_time_parameter PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestConstantFundingRates::test_multiple_symbols PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_should_process_returns_true_for_new_symbol PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_should_process_returns_false_when_disabled PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_should_process_returns_false_before_interval PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_should_process_returns_true_after_interval PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_process_funding_calls_broker PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_process_funding_skips_unknown_symbols PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_process_funding_tracks_total PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_process_funding_respects_interval PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_reset_clears_state PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_bar_runner.py::TestFundingProcessor::test_process_funding_disabled_returns_zero PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockInit::test_default_speed_is_instant PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockInit::test_custom_speed PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockInit::test_default_start_time_is_now PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockInit::test_custom_start_time PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockInit::test_initializes_empty_callbacks PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAdvance::test_advance_updates_time PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAdvance::test_advance_triggers_callbacks PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAdvance::test_advance_triggers_multiple_callbacks PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAdvance::test_multiple_advances_accumulate PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAdvanceAsync::test_advance_async_updates_time PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAdvanceAsync::test_advance_async_triggers_callbacks PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockSetTime::test_set_time_updates_current_time PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockSetTime::test_set_time_can_go_backwards PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockElapsedTime::test_elapsed_sim_time_starts_at_zero PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockElapsedTime::test_elapsed_sim_time_after_advance PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockElapsedTime::test_elapsed_wall_time_is_non_negative PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockSpeedupRatio::test_speedup_ratio_inf_when_wall_time_is_zero PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockSpeedupRatio::test_speedup_ratio_zero_when_no_sim_advance PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockSpeedupRatio::test_speedup_ratio_after_advance PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockOnTick::test_on_tick_adds_callback PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockOnTick::test_multiple_callbacks_can_be_registered PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockDelays::test_instant_speed_no_delay PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockDelays::test_real_time_speed_full_delay PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockDelays::test_fast_10x_speed_reduced_delay PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockDelays::test_fast_100x_speed_minimal_delay PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAsyncDelays::test_instant_speed_no_async_delay PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAsyncDelays::test_real_time_speed_async_delay PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAsyncDelays::test_fast_10x_speed_async_delay PASSED [  7%]
tests/unit/gpt_trader/backtesting/engine/test_clock.py::TestSimulationClockAsyncDelays::test_fast_100x_speed_async_delay PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterInit::test_init_stores_broker PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterInit::test_init_stats_are_none PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterTradeStatistics::test_trade_statistics_lazy_loads PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterTradeStatistics::test_trade_statistics_caches_result PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterRiskMetrics::test_risk_metrics_lazy_loads PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterRiskMetrics::test_risk_metrics_caches_result PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateResult::test_generate_result_returns_backtest_result PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateResult::test_generate_result_populates_performance PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateResult::test_generate_result_populates_trade_stats PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateResult::test_generate_result_populates_risk_metrics PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateResult::test_generate_result_calculates_unrealized_pnl PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateSummary::test_generate_summary_returns_string PASSED [  7%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateSummary::test_generate_summary_includes_performance_section PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateSummary::test_generate_summary_includes_risk_metrics_section PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateSummary::test_generate_summary_includes_trade_statistics_section PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateSummary::test_generate_summary_includes_costs_section PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateSummary::test_generate_summary_handles_none_sharpe PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateCsvRow::test_generate_csv_row_returns_dict PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateCsvRow::test_generate_csv_row_includes_all_keys PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateCsvRow::test_generate_csv_row_values_are_numeric PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestBacktestReporterGenerateCsvRow::test_generate_csv_row_handles_none_sharpe PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_report.py::TestGenerateBacktestReportFunction::test_returns_backtest_result PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateReturns::test_empty_list_returns_empty PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateReturns::test_single_value_returns_empty PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateReturns::test_two_values_calculates_return PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateReturns::test_multiple_values PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateReturns::test_handles_zero_equity PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateReturns::test_steady_growth PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestStdDev::test_empty_list_returns_zero PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestStdDev::test_single_value_returns_zero PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestStdDev::test_two_identical_values PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestStdDev::test_simple_case PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestStdDev::test_negative_values PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestStdDev::test_sample_standard_deviation PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateVar::test_empty_returns_zero PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateVar::test_single_value PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateVar::test_all_positive_returns PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateVar::test_mixed_returns_95 PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateVar::test_var_99_more_conservative PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateDrawdownMetrics::test_empty_equities PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateDrawdownMetrics::test_no_drawdown_monotonic_increase PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateDrawdownMetrics::test_single_drawdown PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateDrawdownMetrics::test_multiple_drawdowns PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateDrawdownMetrics::test_still_in_drawdown_at_end PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestEmptyRiskMetrics::test_returns_valid_risk_metrics PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestEmptyRiskMetrics::test_all_values_are_zero_or_none PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestEmptyRiskMetrics::test_leverage_defaults_to_one PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateTimeInMarket::test_empty_equity_curve_returns_zero PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateTimeInMarket::test_single_point_returns_zero PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateTimeInMarket::test_no_positions_returns_zero PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateTimeInMarket::test_with_positions_returns_estimate PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_insufficient_data_returns_empty_metrics PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_single_equity_point_returns_empty PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_calculates_total_return PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_calculates_sharpe_ratio PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_calculates_volatility PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_calculates_var_metrics PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_calmar_ratio_when_drawdown_exists PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_calmar_ratio_none_when_no_drawdown PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_uses_custom_risk_free_rate PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetrics::test_handles_negative_returns PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestRiskMetricsDataclass::test_all_fields_accessible PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestRiskMetricsDataclass::test_optional_ratios_can_be_none PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetricsEdgeCases::test_zero_equity_returns_empty_metrics PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_risk.py::TestCalculateRiskMetricsEdgeCases::test_same_day_equity_curve PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculatePnlMetrics::test_empty_orders_returns_zeros PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculatePnlMetrics::test_orders_without_fill_price_skipped PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculatePnlMetrics::test_returns_structure_correct PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculatePositionMetrics::test_empty_orders_returns_defaults PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculatePositionMetrics::test_calculates_average_position_size PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculatePositionMetrics::test_extracts_leverage_from_position PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculatePositionMetrics::test_multiple_orders_different_leverage PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculatePositionMetrics::test_orders_without_fill_price_skipped PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTimingMetrics::test_empty_orders_returns_zeros PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTimingMetrics::test_orders_without_submitted_at_skipped PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTimingMetrics::test_order_with_none_submitted_at_explicitly_skipped PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTimingMetrics::test_calculates_hold_time_for_round_trip PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTimingMetrics::test_multiple_round_trips PASSED [  8%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTimingMetrics::test_different_symbols_tracked_separately PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateStreakMetrics::test_returns_zeros_placeholder PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateStreakMetrics::test_with_orders_returns_zeros PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTradeStatistics::test_calculates_win_rate PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTradeStatistics::test_calculates_breakeven_trades PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTradeStatistics::test_zero_trades_returns_zeros PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTradeStatistics::test_profit_factor_capped_when_no_losses PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTradeStatistics::test_counts_limit_orders PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTradeStatistics::test_limit_fill_rate_100_when_no_limit_orders PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTradeStatistics::test_calculates_avg_slippage PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestCalculateTradeStatistics::test_includes_total_fees PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestTradeStatisticsDataclass::test_all_fields_accessible PASSED [  9%]
tests/unit/gpt_trader/backtesting/metrics/test_statistics.py::TestTradeStatisticsDataclass::test_streak_can_be_negative PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_tier_rates_match_spec[FeeTier.TIER_0-expected_maker_bps0-expected_taker_bps0] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_tier_rates_match_spec[FeeTier.TIER_1-expected_maker_bps1-expected_taker_bps1] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_tier_rates_match_spec[FeeTier.TIER_2-expected_maker_bps2-expected_taker_bps2] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_tier_rates_match_spec[FeeTier.TIER_3-expected_maker_bps3-expected_taker_bps3] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_tier_rates_match_spec[FeeTier.TIER_4-expected_maker_bps4-expected_taker_bps4] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_tier_rates_match_spec[FeeTier.TIER_5-expected_maker_bps5-expected_taker_bps5] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_tier_rates_match_spec[FeeTier.TIER_6-expected_maker_bps6-expected_taker_bps6] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_tier_rates_match_spec[FeeTier.TIER_7-expected_maker_bps7-expected_taker_bps7] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_fee_calculation_accuracy[FeeTier.TIER_0-notional0-expected_maker_fee0-expected_taker_fee0] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_fee_calculation_accuracy[FeeTier.TIER_0-notional1-expected_maker_fee1-expected_taker_fee1] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_fee_calculation_accuracy[FeeTier.TIER_2-notional2-expected_maker_fee2-expected_taker_fee2] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_fee_calculation_accuracy[FeeTier.TIER_2-notional3-expected_maker_fee3-expected_taker_fee3] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorAllTiers::test_fee_calculation_accuracy[FeeTier.TIER_7-notional4-expected_maker_fee4-expected_taker_fee4] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorDecimalPrecision::test_fractional_notional PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorDecimalPrecision::test_small_notional PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorDecimalPrecision::test_very_large_notional PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorDecimalPrecision::test_zero_notional PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorRateConversion::test_get_rate_pct[FeeTier.TIER_0-expected_maker_pct0-expected_taker_pct0] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorRateConversion::test_get_rate_pct[FeeTier.TIER_2-expected_maker_pct1-expected_taker_pct1] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorRateConversion::test_get_rate_pct[FeeTier.TIER_7-expected_maker_pct2-expected_taker_pct2] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_volume_tracking_disabled_by_default PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_volume_tracking_enabled_accumulates PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_tier_upgrade_at_10k PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_tier_upgrade_at_50k PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_tier_upgrade_at_100k PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_tier_upgrade_at_1m PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_tier_upgrade_at_15m PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_tier_upgrade_at_75m PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_tier_upgrade_at_250m PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeTracking::test_tier_7_maker_fee_is_zero PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeReset::test_reset_volume_clears_accumulator PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeReset::test_reset_does_not_change_tier PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume0-FeeTier.TIER_0] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume1-FeeTier.TIER_0] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume2-FeeTier.TIER_1] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume3-FeeTier.TIER_1] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume4-FeeTier.TIER_2] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume5-FeeTier.TIER_2] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume6-FeeTier.TIER_3] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume7-FeeTier.TIER_3] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume8-FeeTier.TIER_4] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume9-FeeTier.TIER_4] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume10-FeeTier.TIER_5] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume11-FeeTier.TIER_5] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume12-FeeTier.TIER_6] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume13-FeeTier.TIER_6] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume14-FeeTier.TIER_7] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorVolumeBoundaries::test_volume_tier_boundaries[volume15-FeeTier.TIER_7] PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorInitialization::test_default_initialization PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorInitialization::test_custom_tier_initialization PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorInitialization::test_volume_tracking_initialization PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorEdgeCases::test_multiple_trades_same_tier PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorEdgeCases::test_rapid_tier_progression PASSED [  9%]
tests/unit/gpt_trader/backtesting/simulation/test_fee_calculator.py::TestFeeCalculatorEdgeCases::test_fee_rates_stay_consistent_after_update PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestFillResult::test_unfilled_result PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestFillResult::test_filled_result PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestMarketOrderFill::test_buy_market_order_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestMarketOrderFill::test_sell_market_order_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestMarketOrderFill::test_market_order_without_next_bar PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestMarketOrderFill::test_market_order_slippage_recorded PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderFill::test_buy_limit_price_touched_sufficient_volume PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderFill::test_buy_limit_price_not_touched PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderFill::test_sell_limit_price_touched PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderFill::test_sell_limit_price_not_touched PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderFill::test_limit_order_insufficient_volume PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderFill::test_limit_order_without_price_raises PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderQueuePriority::test_queue_priority_disabled_full_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderQueuePriority::test_queue_priority_high_volume_full_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderQueuePriority::test_queue_priority_partial_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestLimitOrderQueuePriority::test_queue_priority_very_low_fill_rejected PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopOrderFill::test_buy_stop_triggered PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopOrderFill::test_buy_stop_not_triggered PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopOrderFill::test_sell_stop_triggered PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopOrderFill::test_sell_stop_not_triggered PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopOrderFill::test_stop_order_without_stop_price_raises PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestSlippageCalculation::test_btc_slippage_default PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestSlippageCalculation::test_eth_slippage_default PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestSlippageCalculation::test_unknown_symbol_default PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestSlippageCalculation::test_custom_slippage_override PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestSlippageCalculation::test_btc_perp_uses_btc_default PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestPriceTouchLogic::test_buy_limit_touched_at_exact_low PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestPriceTouchLogic::test_buy_limit_touched_above_low PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestPriceTouchLogic::test_buy_limit_not_touched_below_low PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestPriceTouchLogic::test_sell_limit_touched_at_exact_high PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestPriceTouchLogic::test_sell_limit_touched_below_high PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestPriceTouchLogic::test_sell_limit_not_touched_above_high PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopTriggerLogic::test_buy_stop_triggered_at_exact_high PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopTriggerLogic::test_buy_stop_triggered_below_high PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopTriggerLogic::test_buy_stop_not_triggered_above_high PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopTriggerLogic::test_sell_stop_triggered_at_exact_low PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopTriggerLogic::test_sell_stop_triggered_above_low PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestStopTriggerLogic::test_sell_stop_not_triggered_below_low PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestVolumeThreshold::test_sufficient_volume PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestVolumeThreshold::test_exact_threshold_volume PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestVolumeThreshold::test_insufficient_volume PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestQueueFillEstimation::test_high_volume_ratio_full_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestQueueFillEstimation::test_medium_high_volume_80_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestQueueFillEstimation::test_medium_volume_50_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestQueueFillEstimation::test_low_volume_20_fill PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestSpreadImpact::test_zero_spread_impact PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_fill_model.py::TestSpreadImpact::test_full_spread_impact PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingPnLTrackerInitialization::test_default_initialization PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingPnLTrackerInitialization::test_custom_accrual_interval PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingPnLTrackerInitialization::test_custom_settlement_interval PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingPnLTrackerInitialization::test_both_custom_intervals PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_first_accrual_initializes_and_returns_zero PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_accrual_before_interval_returns_zero PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_accrual_after_interval_calculates_funding PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_long_position_positive_rate_pays_funding PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_short_position_positive_rate_receives_funding PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_long_position_negative_rate_receives_funding PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_short_position_negative_rate_pays_funding PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_multiple_accruals_accumulate PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_zero_position_size_no_funding PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrual::test_zero_funding_rate_no_funding PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingAccrualCustomIntervals::test_custom_accrual_interval_4_hours PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingSettlement::test_settle_unknown_symbol_returns_zero PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingSettlement::test_settle_resets_accrued_funding PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingSettlement::test_settle_before_interval_returns_zero PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingSettlement::test_settle_updates_total_paid PASSED [ 10%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingSettlement::test_settle_creates_funding_event PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingSettlementCustomInterval::test_custom_settlement_interval_24_hours PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestMultiSymbolTracking::test_independent_symbol_tracking PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestMultiSymbolTracking::test_independent_settlement PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestMultiSymbolTracking::test_total_funding_pnl_across_symbols PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestGetAccruedAndTotalPaid::test_get_accrued_unknown_symbol PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestGetAccruedAndTotalPaid::test_get_total_paid_unknown_symbol PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestGetAccruedAndTotalPaid::test_get_total_funding_pnl_empty PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestShouldSettle::test_should_settle_first_time PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestShouldSettle::test_should_settle_after_interval PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestShouldSettle::test_should_settle_before_interval PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEventFiltering::test_get_all_events PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEventFiltering::test_filter_by_symbol PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEventFiltering::test_filter_by_start_time PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEventFiltering::test_filter_by_end_time PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEventFiltering::test_filter_by_time_range PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEventFiltering::test_filter_by_symbol_and_time PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEventFiltering::test_filter_returns_empty_for_no_matches PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEvent::test_funding_event_creation PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEvent::test_funding_event_repr_paid PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestFundingEvent::test_funding_event_repr_received PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestEdgeCases::test_very_small_funding_rate PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestEdgeCases::test_very_large_position PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestEdgeCases::test_changing_position_size_between_accruals PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestEdgeCases::test_changing_mark_price_between_accruals PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_funding_tracker.py::TestEdgeCases::test_changing_funding_rate_between_accruals PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerInitialization::test_default_initialization PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerInitialization::test_custom_equity_initialization PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerInitialization::test_custom_fee_tier_initialization PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerInitialization::test_initial_balance_matches_equity PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerProductManagement::test_register_product PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerProductManagement::test_get_product_exists PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerProductManagement::test_get_product_not_exists PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerProductManagement::test_register_multiple_products PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerProductManagement::test_overwrite_product PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerConnection::test_initial_connection_state PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerConnection::test_connect PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerConnection::test_disconnect PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerConnection::test_connect_disconnect_cycle PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerConnection::test_get_account_id PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerConnection::test_get_account_id_consistent PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerAccountInfo::test_get_equity PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerAccountInfo::test_get_account_info PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerAccountInfo::test_list_balances_structure PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerPositions::test_list_positions_initially_empty PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerPositions::test_positions_dict_initially_empty PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerEdgeCases::test_zero_initial_equity PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerEdgeCases::test_very_large_equity PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerEdgeCases::test_fractional_equity PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_quote_no_data PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_quote_with_data PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_position_no_position PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_position_with_position PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_ticker_with_quote PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_ticker_with_bar PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_ticker_no_data PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_candles_empty PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_candles_with_history PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketData::test_get_candles_with_limit PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerEquityTracking::test_equity_curve_initially_empty PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerEquityTracking::test_get_equity_curve PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerEquityTracking::test_peak_equity_initialized PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerEquityTracking::test_max_drawdown_initially_zero PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerStatistics::test_total_fees_initially_zero PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerStatistics::test_trade_counters_initially_zero PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerStatistics::test_slippage_initially_zero PASSED [ 11%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarginCalculation::test_calculate_margin_used_no_positions PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarginCalculation::test_calculate_margin_used_with_position PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarginCalculation::test_calculate_margin_used_multiple_positions PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarginCalculation::test_calculate_margin_used_default_leverage PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerOrderCancellation::test_cancel_open_order PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerAccountInfoDetailed::test_get_account_info_all_fields PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerAccountInfoDetailed::test_get_account_info_with_unrealized_pnl PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarkPrice::test_get_mark_price_from_quote PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarkPrice::test_get_mark_price_from_bar PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarkPrice::test_get_mark_price_no_data PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketSnapshot::test_snapshot_with_quote PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketSnapshot::test_snapshot_with_bar PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerMarketSnapshot::test_snapshot_empty PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerPositionPnl::test_pnl_with_position PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerPositionPnl::test_pnl_no_position PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerPositionRisk::test_risk_with_long_position PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerPositionRisk::test_risk_no_position PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerPlaceOrder::test_place_order_requires_quantity PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerPlaceOrder::test_place_limit_order_submitted PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerCancelOrder::test_cancel_nonexistent_order PASSED [ 12%]
tests/unit/gpt_trader/backtesting/simulation/test_simulated_broker.py::TestSimulatedBrokerCancelOrder::test_cancel_open_order PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_coinbase_historical_fetcher_edges.py::test_fetch_candles_deduplicates_and_sorts_chunks PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_coinbase_historical_fetcher_edges.py::test_create_chunks_splits_over_limit PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_coinbase_historical_fetcher_edges.py::test_granularity_to_seconds_unknown_defaults PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_guarded_backtest_flow.py::test_guarded_executor_rejects_and_accepts PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_coverage_edges.py::test_identify_gaps_returns_full_range_when_no_coverage PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_coverage_edges.py::test_identify_gaps_returns_empty_when_range_covered PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_coverage_edges.py::test_load_coverage_index_invalid_json PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_coverage_edges.py::test_update_coverage_writes_index_file PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_edges.py::test_read_from_cache_invalid_json_returns_empty PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_edges.py::test_write_to_cache_deduplicates_and_sorts PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_edges.py::test_get_candles_returns_cached_without_fetch PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_quality_edges.py::test_reject_on_quality_failure_returns_empty PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_quality_edges.py::test_quality_failure_not_rejected_returns_candles PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_historical_data_manager_quality_edges.py::test_no_candles_skips_quality PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_simulation_basics.py::TestFeeCalculator::test_tier_2_fees PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_simulation_basics.py::TestFeeCalculator::test_tier_0_fees PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_simulation_basics.py::TestFundingPnLTracker::test_funding_accrual PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_simulation_basics.py::TestFundingPnLTracker::test_funding_settlement PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_simulation_basics.py::TestSimulatedBroker::test_initialization PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_simulation_basics.py::TestSimulatedBroker::test_product_registration PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_simulation_basics.py::TestSimulatedBroker::test_connection_methods PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_simulation_basics.py::TestSimulatedBroker::test_balances PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_types.py::TestSimulationConfigPostInit::test_sets_default_slippage_when_none PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_types.py::TestSimulationConfigPostInit::test_preserves_custom_slippage PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_types.py::TestValidationReportMatchRate::test_returns_100_when_no_decisions PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_types.py::TestValidationReportMatchRate::test_calculates_match_rate_with_decisions PASSED [ 12%]
tests/unit/gpt_trader/backtesting/test_types.py::TestValidationReportMatchRate::test_calculates_perfect_match_rate PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionCreate::test_create_generates_decision_id PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionCreate::test_create_sets_timestamp PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionCreate::test_create_preserves_parameters PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_market_data PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_market_data_partial PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_strategy PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_strategy_no_params PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_action PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_action_defaults PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_risk_result_passed PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_risk_result_failed PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionBuilderMethods::test_with_execution PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionSerialization::test_to_dict_converts_decimals PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionSerialization::test_to_dict_converts_datetime PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionSerialization::test_from_dict_restores_decimals PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionSerialization::test_from_dict_restores_timestamp PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestStrategyDecisionSerialization::test_roundtrip_serialization PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerInit::test_default_initialization PASSED [ 12%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerInit::test_with_storage_path PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerInit::test_with_custom_max_memory PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerInit::test_creates_storage_directory PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerCycles::test_start_cycle_generates_id PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerCycles::test_start_cycle_uses_provided_id PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerLogDecision::test_log_decision_increments_count PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerLogDecision::test_log_multiple_decisions PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerLogDecision::test_log_decision_trims_when_over_limit PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerLogDecision::test_log_decision_persists_to_storage PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerGetDecisions::test_get_all_decisions PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerGetDecisions::test_filter_by_cycle_id PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerGetDecisions::test_filter_by_symbol PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerGetDecisions::test_filter_by_start_time PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerGetDecisions::test_filter_by_end_time PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerGetDecisionById::test_get_existing_decision PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerGetDecisionById::test_get_nonexistent_decision PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerClear::test_clear_removes_all_decisions PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerExportImport::test_export_to_json PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerExportImport::test_import_from_json PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerProperties::test_current_cycle_id_initially_none PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerProperties::test_current_cycle_id_after_start PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_decision_logger.py::TestDecisionLoggerProperties::test_decision_count_reflects_logged_decisions PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_guarded_execution.py::test_guard_rejection_records_decision PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidationResult::test_matching_result PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidationResult::test_non_matching_result PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidationResult::test_result_with_details PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGoldenPathValidatorInit::test_default_tolerances PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGoldenPathValidatorInit::test_custom_tolerances PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGoldenPathValidatorInit::test_initial_state PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_exact_match PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_action_mismatch_strict PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_action_mismatch_non_strict PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_quantity_within_tolerance PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_quantity_outside_tolerance PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_price_within_tolerance PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_price_outside_tolerance PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_risk_check_mismatch PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_order_type_mismatch_warning PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestValidateDecision::test_hold_actions_skip_quantity_check PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestEstimateImpact::test_hold_vs_trade_full_impact PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestEstimateImpact::test_both_hold_zero_impact PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGetMatchRate::test_no_comparisons_returns_100 PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGetMatchRate::test_all_matches PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGetMatchRate::test_partial_matches PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGetDivergences::test_empty_divergences PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGetDivergences::test_filter_by_symbol PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGetDivergences::test_filter_by_min_impact PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestReset::test_reset_clears_state PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGenerateReport::test_generate_report_structure PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestGenerateReport::test_report_includes_divergences PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestProperties::test_total_comparisons_property PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestProperties::test_matching_comparisons_property PASSED [ 13%]
tests/unit/gpt_trader/backtesting/validation/test_validator.py::TestProperties::test_divergence_count_property PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestOptimizeSubcommandRegistration::test_run_register PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestOptimizeSubcommandRegistration::test_view_register PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestOptimizeSubcommandRegistration::test_list_register PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestOptimizeSubcommandRegistration::test_compare_register PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestOptimizeSubcommandRegistration::test_export_register PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestOptimizeSubcommandRegistration::test_resume_register PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestOptimizeSubcommandRegistration::test_apply_register PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestRunCommand::test_dry_run_returns_success PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestListCommand::test_execute_with_no_runs PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestListCommand::test_execute_with_runs PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestViewCommand::test_execute_with_missing_run PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestCompareCommand::test_execute_requires_two_runs PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestExportCommand::test_execute_with_missing_run PASSED [ 13%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestApplyCommand::test_execute_with_missing_run PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestArgumentParsing::test_run_parses_objective PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestArgumentParsing::test_run_parses_trials PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestArgumentParsing::test_run_parses_symbols PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestArgumentParsing::test_view_parses_run_id PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestArgumentParsing::test_list_parses_limit PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestArgumentParsing::test_compare_parses_run_ids PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestArgumentParsing::test_export_parses_format PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_commands.py::TestArgumentParsing::test_apply_parses_profile PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestLoadConfigFile::test_loads_valid_yaml PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestLoadConfigFile::test_raises_for_missing_file PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestLoadConfigFile::test_raises_for_invalid_yaml PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestParseConfig::test_parses_minimal_config PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestParseConfig::test_parses_full_config PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestParseConfig::test_raises_for_missing_study_name PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestMergeCliOverrides::test_overrides_trials PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestMergeCliOverrides::test_overrides_objective PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestMergeCliOverrides::test_overrides_symbols PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestCreateObjectiveFromPreset::test_creates_simple_objective PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestCreateObjectiveFromPreset::test_creates_composite_objective PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestCreateObjectiveFromPreset::test_passes_kwargs_to_factory PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestCreateObjectiveFromPreset::test_raises_for_unknown_preset PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestGetObjectiveDirection::test_maximize_presets PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestGetObjectiveDirection::test_minimize_presets PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestGetObjectiveDirection::test_raises_for_unknown_preset PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestBuildParameterSpaceFromConfig::test_includes_strategy_parameters PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestBuildParameterSpaceFromConfig::test_includes_risk_parameters PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestBuildParameterSpaceFromConfig::test_includes_all_groups PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestBuildOptimizationConfig::test_builds_valid_config PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestCreateDefaultConfig::test_creates_with_minimal_args PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestCreateDefaultConfig::test_creates_with_all_args PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestObjectivePresets::test_all_presets_have_direction PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_config_loader.py::TestObjectivePresets::test_all_presets_can_be_created PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryText::test_includes_study_name PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryText::test_includes_run_id PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryText::test_includes_best_value PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryText::test_includes_parameters PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryText::test_includes_trial_counts PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryJson::test_returns_valid_json PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryJson::test_includes_status PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryJson::test_includes_best_trial PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunSummaryJson::test_compact_mode PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatTrialsText::test_shows_limited_trials PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatTrialsText::test_empty_trials PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatTrialsText::test_shows_parameters_when_requested PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatTrialsCsv::test_returns_valid_csv PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatTrialsCsv::test_includes_header PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatTrialsCsv::test_empty_trials PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunListText::test_shows_runs PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunListText::test_empty_runs PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatRunListJson::test_returns_valid_json PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatComparisonText::test_shows_multiple_runs PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatComparisonText::test_single_run_shows_summary PASSED [ 14%]
tests/unit/gpt_trader/cli/commands/optimize/test_formatters.py::TestFormatComparisonJson::test_returns_valid_json PASSED [ 14%]
tests/unit/gpt_trader/cli/test_cli_unit.py::test_cli_run_defaults_to_run_subcommand PASSED [ 14%]
tests/unit/gpt_trader/cli/test_cli_unit.py::test_orders_preview_invokes_broker_preview PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_account_treasury.py::test_account_snapshot_prints_result PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_account_treasury.py::test_account_snapshot_raises_when_unavailable PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_account_treasury.py::test_treasury_convert_invokes_manager PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_account_treasury.py::test_treasury_move_invokes_manager PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_account_treasury.py::test_treasury_errors_when_manager_missing PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_build_order_payload_includes_optional_fields PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_build_order_payload_omits_optional_fields_when_missing PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_handle_preview_prints_json PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_handle_preview_errors_without_preview_support PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_handle_edit_preview_errors_without_support PASSED [ 14%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_handle_edit_preview_invokes_broker PASSED [ 15%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_handle_apply_edit_serializes_dataclass PASSED [ 15%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_handle_apply_edit_errors_without_support PASSED [ 15%]
tests/unit/gpt_trader/cli/test_commands_orders.py::test_handle_apply_edit_propagates_broker_errors PASSED [ 15%]
tests/unit/gpt_trader/cli/test_commands_run.py::test_execute_logs_specific_message_for_symbol_error PASSED [ 15%]
tests/unit/gpt_trader/cli/test_commands_run.py::test_execute_logs_generic_validation_error PASSED [ 15%]
tests/unit/gpt_trader/cli/test_commands_run.py::test_execute_invokes_run_bot PASSED [ 15%]
tests/unit/gpt_trader/cli/test_commands_run.py::test_run_bot_sets_signal_handlers_and_runs PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliError::test_to_dict_basic PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliError::test_to_dict_with_details PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliError::test_from_code PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_success_response_basic PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_success_response_with_warnings PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_success_response_with_noop PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_error_response_basic PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_error_response_with_details PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_to_dict_success PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_to_dict_error PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_to_json_compact PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_add_warning_fluent PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_add_error_fluent PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliResponse::test_exit_code_auto_set_on_failure PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliErrorCode::test_all_codes_are_strings PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestCliErrorCode::test_common_codes_exist PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestFormatResponse::test_json_format PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestFormatResponse::test_text_format_success_with_data PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestFormatResponse::test_text_format_success_no_data PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestFormatResponse::test_text_format_success_string_data PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestFormatResponse::test_text_format_error PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestEnvelopeContract::test_success_envelope_has_required_fields PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestEnvelopeContract::test_error_envelope_has_required_fields PASSED [ 15%]
tests/unit/gpt_trader/cli/test_response.py::TestEnvelopeContract::test_envelope_is_json_serializable PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestBotConfigEnvAliasing::test_risk_max_leverage_with_prefix PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestBotConfigEnvAliasing::test_risk_position_fraction_from_pct_per_symbol PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestBotConfigEnvAliasing::test_risk_daily_loss_limit_pct PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestBotConfigEnvAliasing::test_trading_symbols_alias PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestProfileStrategyHydration::test_profile_loader_builds_strategy_config PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestProfileStrategyHydration::test_profile_loader_builds_risk_config PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestProfileStrategyHydration::test_paper_profile_exists PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestProfileStrategyHydration::test_paper_profile_loads PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestProfileStrategyHydration::test_profile_daily_loss_limit_pct_from_yaml PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestReduceOnlyEnforcement::test_check_order_blocks_new_position_in_reduce_only PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestReduceOnlyEnforcement::test_check_order_allows_reduce_only_order PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestReduceOnlyEnforcement::test_daily_loss_triggers_reduce_only PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestMarkStalenessGuard::test_check_mark_staleness_returns_true_when_no_update PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestMarkStalenessGuard::test_check_mark_staleness_returns_false_when_fresh PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestMarkStalenessGuard::test_check_mark_staleness_returns_true_when_expired PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestPositionObjectHandling::test_position_object_long_sell_is_reducing PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestPositionObjectHandling::test_position_object_short_buy_is_reducing PASSED [ 15%]
tests/unit/gpt_trader/config/test_bot_config_env.py::TestPositionObjectHandling::test_position_object_long_buy_is_not_reducing PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_parse_list_env_success PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_parse_mapping_env_wraps_errors PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_numeric_env_helpers_handle_defaults PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_validate_required_env_raises_when_missing PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_validate_required_env_passes_when_present PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_parse_list_env_with_invalid_cast PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_parse_bool_env_with_invalid_value PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_parse_decimal_env_with_invalid_value PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_parse_int_env_with_invalid_value PASSED [ 15%]
tests/unit/gpt_trader/config/test_config_utilities.py::test_parse_float_env_with_invalid_value PASSED [ 15%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_mapping_success PASSED [ 15%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_mapping_uses_default PASSED [ 15%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_mapping_invalid_pair_raises PASSED [ 15%]
tests/unit/gpt_trader/config/test_env_utils.py::test_get_env_bool_accepts_various_truthy_values PASSED [ 15%]
tests/unit/gpt_trader/config/test_env_utils.py::test_get_env_bool_invalid_value PASSED [ 15%]
tests/unit/gpt_trader/config/test_env_utils.py::test_get_env_decimal PASSED [ 15%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_list PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_get_env_int_default PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_coerce_env_value_uses_default_when_missing PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_coerce_env_value_required_raises PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_require_env_value_returns_cast_result PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_list_disallows_empty_entries PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_list_cast_failure PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_mapping_disallows_empty_key PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_mapping_disallows_empty_value PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_mapping_required_missing PASSED [ 16%]
tests/unit/gpt_trader/config/test_env_utils.py::test_parse_env_mapping_skips_empty_entries_when_allowed PASSED [ 16%]
tests/unit/gpt_trader/core/test_account_edges.py::test_liquidation_buffer_pct_none_cases PASSED [ 16%]
tests/unit/gpt_trader/core/test_account_edges.py::test_liquidation_buffer_pct_long_and_short PASSED [ 16%]
tests/unit/gpt_trader/core/test_account_edges.py::test_position_is_futures_flag PASSED [ 16%]
tests/unit/gpt_trader/core/test_account_edges.py::test_cfm_balance_risk_and_utilization PASSED [ 16%]
tests/unit/gpt_trader/core/test_account_edges.py::test_unified_balance_has_cfm PASSED [ 16%]
tests/unit/gpt_trader/core/test_core_types.py::TestCoreModuleImport::test_all_exports_importable PASSED [ 16%]
tests/unit/gpt_trader/core/test_core_types.py::TestTradingEnums::test_order_side_values PASSED [ 16%]
tests/unit/gpt_trader/core/test_core_types.py::TestTradingEnums::test_order_type_values PASSED [ 16%]
tests/unit/gpt_trader/core/test_core_types.py::TestTradingEnums::test_market_type_values PASSED [ 16%]
tests/unit/gpt_trader/core/test_core_types.py::TestCoreErrors::test_brokerage_error_is_exception PASSED [ 16%]
tests/unit/gpt_trader/core/test_core_types.py::TestCoreErrors::test_insufficient_funds_is_exception PASSED [ 16%]
tests/unit/gpt_trader/core/test_core_types.py::TestCoreErrors::test_auth_error_is_exception PASSED [ 16%]
tests/unit/gpt_trader/core/test_core_types.py::TestCoreErrors::test_rate_limit_error_is_exception PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestTradingError::test_trading_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestTradingError::test_trading_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestTradingError::test_trading_error_creation_without_message PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestTradingError::test_trading_error_with_context PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestTradingError::test_trading_error_captures_stack_when_no_exception PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestValidationError::test_validation_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestValidationError::test_validation_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestValidationError::test_validation_error_with_field PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestExecutionError::test_execution_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestExecutionError::test_execution_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestExecutionError::test_execution_error_with_order_id PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestConfigurationError::test_configuration_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestConfigurationError::test_configuration_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestConfigurationError::test_configuration_error_with_config_key PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestRiskLimitExceeded::test_risk_limit_exceeded_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestRiskLimitExceeded::test_risk_limit_exceeded_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestRiskLimitExceeded::test_risk_limit_exceeded_with_risk_metrics PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestDataError::test_data_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestDataError::test_data_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestStrategyError::test_strategy_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestStrategyError::test_strategy_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestBacktestError::test_backtest_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestBacktestError::test_backtest_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestNetworkError::test_network_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestNetworkError::test_network_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestInsufficientFundsError::test_insufficient_funds_error_inheritance PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestInsufficientFundsError::test_insufficient_funds_error_creation PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestHandleError::test_handle_error_wraps_exception_with_traceback PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestErrorHierarchy::test_all_errors_inherit_from_trading_error PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestErrorHierarchy::test_error_catching_hierarchy PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestErrorHierarchy::test_specific_error_catching PASSED [ 16%]
tests/unit/gpt_trader/errors/test_base.py::TestErrorHierarchy::test_exception_chaining PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_error_context_swallow_logs_extra_context PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_error_context_reraise_for_matching_type PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_handle_errors_returns_default_for_swallowed_exception PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_handle_errors_reraises_specified_exception PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_safe_execute_respects_reraise PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_safe_execute_returns_default_when_swallowed PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_handle_async_errors_returns_default_and_logs PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_handle_async_errors_reraises_when_specified PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestErrorContextExtended::test_exit_no_exception PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestErrorContextExtended::test_reraise_tuple_matching PASSED [ 16%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestErrorContextExtended::test_reraise_tuple_non_matching PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestErrorContextExtended::test_log_level_below_error PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestHandleBrokerageErrors::test_returns_result_on_success PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestHandleOrderErrors::test_returns_result_on_success PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestHandleDataErrors::test_returns_result_on_success PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestHandleConfigErrors::test_returns_result_on_success PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestHandleAccountErrors::test_returns_result_on_success PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_handle_async_errors_with_extra_context PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_handle_async_errors_reraises_tuple PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_handle_async_errors_swallows_non_matching_tuple PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::test_handle_async_errors_low_log_level PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestRetryOnError::test_succeeds_without_retry PASSED [ 17%]
tests/unit/gpt_trader/errors/test_error_patterns.py::TestRetryOnError::test_retries_on_failure PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestCircuitBreaker::test_closed_to_open_transition PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestCircuitBreaker::test_open_to_half_open_after_timeout PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestCircuitBreaker::test_half_open_to_closed_recovery PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestCircuitBreaker::test_half_open_failure_reopens PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestCircuitBreaker::test_non_targeted_exceptions_ignored PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestRetryLogic::test_exponential_backoff_with_jitter PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestRetryLogic::test_max_attempts_enforced PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestRetryLogic::test_non_recoverable_errors_fail_fast PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestRetryLogic::test_fallback_handler_invoked PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestRecoveryStrategies::test_retry_strategy_eventually_succeeds PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestRecoveryStrategies::test_fail_fast_strategy PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestRecoveryStrategies::test_degrade_strategy_returns_none_and_records_error PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestErrorHistory::test_error_recording PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestErrorHistory::test_rolling_window_max_100 PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestErrorHistory::test_get_error_stats PASSED [ 17%]
tests/unit/gpt_trader/errors/test_handler.py::TestDecorator::test_with_error_handling_decorator PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_accounts_mixin.py::test_get_accounts_calls_endpoint PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_accounts_mixin.py::test_get_account_uses_account_uuid PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_accounts_mixin.py::test_get_time_calls_endpoint PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_accounts_mixin.py::test_get_key_permissions_calls_endpoint PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_accounts_mixin.py::test_get_fees_calls_endpoint PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_accounts_mixin.py::test_get_limits_calls_endpoint PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_accounts_mixin.py::test_get_transaction_summary_advanced PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_accounts_mixin.py::test_get_transaction_summary_exchange_raises PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_cache_prevents_duplicate_calls PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_circuit_breaker_trips_after_failures PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_circuit_breaker_recovers_in_half_open PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_priority_blocks_low_under_pressure PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_metrics_tracks_across_endpoints PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_full_request_flow_simulation PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_cache_invalidation_after_mutation PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_disabled_components_allow_all PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_error_handling_updates_metrics_and_circuit PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_api_resilience.py::TestAPIResilienceIntegration::test_rate_limit_tracking PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_client_init_default_params PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_client_init_custom_params PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_client_init_no_auth PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_client_init_disables_resilience_components PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_set_transport_for_testing PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_get_endpoint_path_advanced_mode PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_get_endpoint_path_exchange_mode PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_get_endpoint_path_missing_param_returns_template PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_get_endpoint_path_invalid_mode PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_get_endpoint_path_unknown_endpoint PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_get_endpoint_path_wrong_mode PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_make_url_with_full_url PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_make_url_with_path PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_build_path_with_params PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_normalize_path PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_build_auth_path_strips_query PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_public_market_endpoint_skips_auth PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_is_public_market_endpoint_exchange_mode PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_is_public_market_endpoint_normalizes_missing_slash PASSED [ 17%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_apply_auth_headers_strips_query PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_apply_auth_headers_uses_sign PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_apply_auth_headers_no_auth PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_convenience_methods PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_perform_request_uses_session PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_check_rate_limit_disabled PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_check_rate_limit_normal_usage PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_check_rate_limit_warning_threshold PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_check_rate_limit_exceeded PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_check_rate_limit_window_cleanup PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_success PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_with_body PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_no_auth PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_with_correlation_id PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_uses_cache PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_priority_deferred PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_circuit_open PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_4xx_error PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_4xx_invalid_json_uses_text PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_raise_client_error_forbidden PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_rate_limit_invalid_retry_after PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_rate_limit_exhausts_retries PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_5xx_error_with_retry PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_rate_limit_error_with_retry_after PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_network_error_with_retry PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_max_retries_exceeded PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_invalid_json_response PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_empty_response PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_request_caches_get_response PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_invalidate_cache_orders_and_positions PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_record_success_sets_span_and_breaker PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_record_request_metrics_records_metrics_and_span PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_paginate_success PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_paginate_custom_cursor_params PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_paginate_with_pagination_object PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_paginate_no_cursor PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_paginate_non_list_item_yields_single PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_paginate_non_dict_response_stops PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_paginate_empty_items PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_perform_http_request_http_error_invalid_json PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_perform_http_request_network_error_final_attempt PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_perform_http_request_records_failure_and_span PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_get_resilience_status_records_metrics PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_context_manager_closes PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_close_handles_session_error PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_base.py::TestCoinbaseClientBase::test_del_suppresses_close_errors PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_initial_state_is_closed PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_failures_trip_breaker PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_success_resets_failure_count PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_recovery_to_half_open PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_half_open_to_closed_on_success PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_half_open_to_open_on_failure PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_reset_returns_to_closed PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_get_status PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreaker::test_thread_safety PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_get_breaker_creates_new PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_same_category_shares_breaker PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_different_categories_different_breakers PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_can_proceed_delegates_to_breaker PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_disabled_registry_always_allows PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_get_all_status PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitBreakerRegistry::test_reset_all PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_circuit_breaker.py::TestCircuitOpenError::test_error_message PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_list_positions_filters_zero_and_maps_side PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_list_balances_warns_when_accounts_missing PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_list_balances_maps_totals PASSED [ 18%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_warn_public_market_fallback_only_once PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_get_ticker_auth_error_falls_back_to_public PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_get_ticker_invalid_request_falls_back_to_authenticated PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_get_ticker_normalizes_from_trades_and_best_bid_ask PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_get_ticker_auth_error_raises_in_non_advanced PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_get_candles_permission_denied_falls_back_to_public PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_coinbase_client.py::test_get_candles_permission_denied_raises_in_non_advanced PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin.py::test_get_products_appends_filters PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin.py::test_list_products_filters_payload_dict PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin.py::test_list_products_filters_payload_list PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin.py::test_list_products_handles_invalid_shape PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin.py::test_list_products_filters_contract_expiry PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_market_products_require_advanced_mode PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_ticker_builds_path PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_product_ticker_alias PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_candles_formats_time_range PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_product_builds_path PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_product_book_advanced_mode PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_product_book_exchange_mode PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_market_products_advanced_calls_request PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_market_product_advanced_calls_request PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_market_product_ticker_builds_path PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_market_product_candles_formats_time_range PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_market_product_book_aliases_product_book PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_best_bid_ask_builds_query PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_market_mixin_requests.py::test_get_best_bid_ask_exchange_mode_raises PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestEndpointMetrics::test_initial_values PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestEndpointMetrics::test_record_updates_metrics PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestEndpointMetrics::test_error_tracking PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestEndpointMetrics::test_percentile_calculations PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestEndpointMetrics::test_to_dict PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestAPIMetricsCollector::test_initial_state PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestAPIMetricsCollector::test_record_request PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestAPIMetricsCollector::test_endpoint_categorization PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestAPIMetricsCollector::test_error_and_rate_limit_tracking PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestAPIMetricsCollector::test_disabled_collector PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestAPIMetricsCollector::test_reset PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestAPIMetricsCollector::test_rate_limit_usage_display PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestAPIMetricsCollector::test_thread_safety PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestRequestTimer::test_timer_records_latency PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestRequestTimer::test_timer_context_manager_records PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestRequestTimer::test_timer_marks_error PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestRequestTimer::test_timer_marks_rate_limited PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics.py::TestRequestTimer::test_timer_records_on_exception PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics_edges.py::test_categorize_endpoint_case_insensitive PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_metrics_edges.py::test_endpoint_metrics_to_dict_zeroed_defaults PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_exchange_mode_rejects_order_calls[place_order-args0-kwargs0] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_exchange_mode_rejects_order_calls[preview_order-args1-kwargs1] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_exchange_mode_rejects_order_calls[edit_order_preview-args2-kwargs2] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_exchange_mode_rejects_order_calls[edit_order-args3-kwargs3] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_exchange_mode_rejects_order_calls[close_position-args4-kwargs4] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_exchange_mode_rejects_order_calls[list_orders_batch-args5-kwargs5] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_order_calls_dispatch_to_request[place_order-/orders-payload0] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_order_calls_dispatch_to_request[preview_order-/order_preview-payload1] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_order_calls_dispatch_to_request[edit_order_preview-/order_edit_preview-payload2] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_order_calls_dispatch_to_request[edit_order-/order_edit-payload3] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_order_calls_dispatch_to_request[close_position-/close_position-payload4] PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_falls_back_to_open_on_not_found PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_returns_empty_on_method_not_allowed PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_exchange_mode_uses_open_endpoint PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_batch_requires_ids PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_batch_builds_query PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_cancel_orders_dispatches_batch_cancel PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_get_order_historical_calls_order_endpoint PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_historical_uses_query PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_fallback_raises_non_method_not_allowed PASSED [ 19%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_exchange_mode_includes_query PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_orders_batch_filters_ids_and_limit_zero PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_orders_mixin.py::test_list_fills_builds_query PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[list_portfolios-args0] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[get_portfolio-args1] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[get_portfolio_breakdown-args2] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[move_funds-args3] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[list_payment_methods-args4] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[get_payment_method-args5] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[commit_convert_trade-args6] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[list_cfm_positions-args7] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[get_cfm_position-args8] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_exchange_mode_blocks_portfolio_methods[list_positions_raw-args9] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin.py::test_commit_convert_trade_defaults_to_empty_payload PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_aliases.py::test_list_positions_raw_aliases_cfm_positions PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_aliases.py::test_get_intx_portfolio_aliases_intx_portfolio PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_aliases.py::test_list_intx_positions_aliases_intx_positions PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_aliases.py::test_get_intx_position_aliases_intx_position PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_aliases.py::test_get_intx_multi_asset_collateral_aliases_method PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[list_portfolios-args0-GET-/api/v3/brokerage/portfolios-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[get_portfolio-args1-GET-/api/v3/brokerage/portfolios/pf-1-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[get_portfolio_breakdown-args2-GET-/api/v3/brokerage/portfolios/pf-1/breakdown-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[move_funds-args3-POST-/api/v3/brokerage/portfolios/move_funds-expected_payload3] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[convert_quote-args4-POST-/api/v3/brokerage/convert/quote-expected_payload4] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[get_convert_trade-args5-GET-/api/v3/brokerage/convert/trade/trade-1-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[list_payment_methods-args6-GET-/api/v3/brokerage/payment_methods-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[get_payment_method-args7-GET-/api/v3/brokerage/payment_methods/pm-1-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[list_cfm_positions-args8-GET-/api/v3/brokerage/cfm/positions-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[get_cfm_position-args9-GET-/api/v3/brokerage/cfm/positions/BTC-USD-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[intx_allocate-args10-POST-/api/v3/brokerage/intx/allocate-expected_payload10] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[intx_balances-args11-GET-/api/v3/brokerage/intx/balances/pf-1-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[intx_portfolio-args12-GET-/api/v3/brokerage/intx/portfolio/pf-1-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[intx_positions-args13-GET-/api/v3/brokerage/intx/positions/pf-1-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[intx_position-args14-GET-/api/v3/brokerage/intx/positions/pf-1/BTC-USD-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[intx_multi_asset_collateral-args15-GET-/api/v3/brokerage/intx/multi_asset_collateral-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[cfm_balance_summary-args16-GET-/api/v3/brokerage/cfm/balance_summary-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[cfm_positions-args17-GET-/api/v3/brokerage/cfm/positions-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[cfm_position-args18-GET-/api/v3/brokerage/cfm/positions/BTC-USD-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[cfm_sweeps-args19-GET-/api/v3/brokerage/cfm/sweeps-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[cfm_sweeps_schedule-args20-GET-/api/v3/brokerage/cfm/sweeps/schedule-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[cfm_intraday_current_margin_window-args21-GET-/api/v3/brokerage/cfm/intraday/current_margin_window-None] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_portfolio_mixin_requests.py::test_portfolio_requests[cfm_intraday_margin_setting-args22-POST-/api/v3/brokerage/cfm/intraday/margin_setting-expected_payload22] PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestRequestPriority::test_priority_ordering PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestRequestPriority::test_critical_is_lowest_value PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestEndpointPriorities::test_orders_are_critical PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestEndpointPriorities::test_accounts_are_high PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestEndpointPriorities::test_products_are_low PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestPriorityManager::test_all_allowed_under_threshold PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestPriorityManager::test_low_blocked_above_high_threshold PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestPriorityManager::test_normal_blocked_above_critical_threshold PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestPriorityManager::test_critical_always_allowed PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestPriorityManager::test_disabled_manager_allows_all PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestPriorityManager::test_get_priority PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestPriorityManager::test_stats_tracking PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestPriorityManager::test_reset_stats PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestRequestDeferredError::test_error_message PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_priority.py::TestRequestDeferredError::test_error_can_be_raised PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_set_and_get PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_miss_returns_none PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_disabled_returns_none PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_expiration PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_endpoint_specific_ttls PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_invalidation_by_pattern PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_invalidate_all PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_max_size_eviction PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_stats PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_thread_safety PASSED [ 20%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestResponseCache::test_cache_key_normalization PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestCachedResponse::test_cached_response_creation PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/client/test_response_cache.py::TestCachedResponse::test_cached_response_hit_counter PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_service_init PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_limit_order PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_market_order PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_stop_limit PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_with_reduce_only PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_with_leverage PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_post_only PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_exclude_client_id PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_quantize_values PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_quantity_below_min_size PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_notional_below_min_notional PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_limit_order_requires_price PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_product_not_found PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_enum_coercion PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_invalid_side_passthrough PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_gtd_conversion PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_invalid_tif_passthrough PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_success PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_with_preview PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_preview_failure_still_places PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_insufficient_funds PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_validation_error PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_duplicate_client_id PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_duplicate_client_id_retry_failure PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_network_error PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_execute_order_payload_unexpected_error PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_find_existing_order_by_client_id_success PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_find_existing_order_by_client_id_no_client_id PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_find_existing_order_by_client_id_no_matches PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_find_existing_order_by_client_id_multiple_matches PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_find_existing_order_by_client_id_api_error PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_find_existing_order_by_client_id_network_error PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_find_existing_order_by_client_id_value_error PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_update_position_metrics_no_position PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_update_position_metrics_no_mark_price PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_update_position_metrics_missing_position_entry PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_update_position_metrics_success PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_update_position_metrics_with_funding PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_update_position_metrics_skips_funding_when_none PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_positions_property PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_update_position_metrics_public_method PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_ioc_fok_limit_orders PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_base.py::TestCoinbaseRestServiceBase::test_build_order_payload_fallback_configuration PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_cfm_portfolio.py::test_get_cfm_balance_summary_normalises_decimals_and_emits_metric PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_cfm_portfolio.py::test_list_cfm_sweeps_returns_empty_when_derivatives_disabled PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_cfm_portfolio.py::test_list_cfm_sweeps_normalises_entries PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_cfm_portfolio.py::test_get_cfm_margin_window_handles_errors PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_cfm_portfolio.py::test_update_cfm_margin_window_enforces_derivatives PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_cfm_portfolio.py::test_update_cfm_margin_window_calls_client_and_emits PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_place_order_quantity_resolution_success PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_place_order_quantity_resolution_error_branch PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_place_order_error_branch_insufficient_funds PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_place_order_error_branch_validation_error PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_cancel_order_success PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_cancel_order_failure PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_list_orders_with_pagination PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_list_orders_error_handling PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_get_order_success PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_get_order_not_found PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_list_fills_with_pagination PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_list_fills_error_handling PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_close_position_success PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_close_position_no_position PASSED [ 21%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_close_position_fallback PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_list_balances_success PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_list_balances_error_handling PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_get_portfolio_balances_fallback PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_list_positions_success PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_list_positions_error_handling PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_get_position_success PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_get_position_not_found PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_intx_allocate_success PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_intx_allocate_error_handling PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_cfm_balance_summary_telemetry PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_cfm_sweeps_telemetry PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_update_cfm_margin_window_success PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_process_fill_for_pnl_new_position PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_process_fill_for_pnl_existing_position PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_process_fill_for_pnl_increases_position PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_process_fill_for_pnl_handles_missing_position_record PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_process_fill_for_pnl_short_position_realized_pnl_sign PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_process_fill_for_pnl_invalid_data PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_get_position_pnl_no_position PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_get_position_pnl_with_position PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_get_portfolio_pnl_aggregation PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_order_retry_on_duplicate_client_id PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_telemetry_logging_on_api_calls PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_contract_suite.py::TestCoinbaseRestContractSuite::test_pagination_cursor_handling PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_intx_portfolio.py::test_intx_allocate_normalises_and_emits_metric PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_intx_portfolio.py::test_intx_allocate_requires_support PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_intx_portfolio.py::test_get_intx_balances_normalises_entries PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_intx_portfolio.py::test_get_intx_balances_handles_errors PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_intx_portfolio.py::test_get_intx_portfolio_returns_normalised_dict PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_intx_portfolio.py::test_list_intx_positions_returns_normalised_list PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_intx_portfolio.py::test_get_intx_position_handles_missing PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_intx_portfolio.py::test_get_intx_multi_asset_collateral_emits_metric PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_service_init PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_place_order_delegates_to_builder_and_executor PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_place_order_with_reduce_only PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_cancel_order_success PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_cancel_order_failure PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_cancel_order_not_found_in_results PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_cancel_order_exception PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_orders_returns_orders PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_orders_with_pagination PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_orders_passes_status_filter PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_orders_exception_raises_query_error PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_orders_brokerage_error_re_raises PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_get_order_returns_order PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_get_order_not_found PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_get_order_exception PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_get_order_not_found_error_returns_none PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_get_order_brokerage_error_re_raises PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_fills_returns_fills PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_fills_passes_order_id_filter PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_fills_with_pagination PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_list_fills_brokerage_error_re_raises PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_close_position_success PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_close_position_includes_client_order_id PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_close_position_no_position_raises PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_close_position_zero_quantity_raises PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_close_position_uses_fallback_on_error PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service.py::TestOrderService::test_close_position_raises_without_fallback PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service_edges.py::test_cancel_order_brokerage_error_reraises PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_order_service_edges.py::test_list_fills_exception_logs_and_raises_query_error PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestPlaceOrder::test_place_order_builds_payload PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestPlaceOrder::test_place_order_executes_payload PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestPlaceOrder::test_place_order_passes_all_parameters PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestPlaceOrder::test_place_order_returns_order PASSED [ 22%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestCancelOrder::test_cancel_order_success PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestCancelOrder::test_cancel_order_failure PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestCancelOrder::test_cancel_order_not_found PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestCancelOrder::test_cancel_order_empty_results PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestCancelOrder::test_cancel_order_handles_exception PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListOrders::test_list_orders_returns_orders PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListOrders::test_list_orders_with_product_filter PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListOrders::test_list_orders_with_status_filter PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListOrders::test_list_orders_pagination PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListOrders::test_list_orders_handles_exception PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListOrders::test_list_orders_respects_limit PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestGetOrder::test_get_order_returns_order PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestGetOrder::test_get_order_not_found PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestGetOrder::test_get_order_handles_exception PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListFills::test_list_fills_returns_fills PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListFills::test_list_fills_with_product_filter PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListFills::test_list_fills_with_order_filter PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListFills::test_list_fills_pagination PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestListFills::test_list_fills_handles_exception PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestClosePosition::test_close_position_success PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestClosePosition::test_close_position_no_position_raises PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestClosePosition::test_close_position_zero_quantity_raises PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestClosePosition::test_close_position_with_client_order_id PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestClosePosition::test_close_position_fallback_on_exception PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestClosePosition::test_close_position_no_fallback_raises PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestClosePosition::test_close_position_finds_correct_symbol PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestOrderServiceEdgeCases::test_list_orders_empty_response PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestOrderServiceEdgeCases::test_list_fills_empty_response PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestOrderServiceEdgeCases::test_cancel_order_missing_results_key PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_orders.py::TestOrderServiceEdgeCases::test_place_order_market_without_price PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_pnl_service_edges.py::test_get_position_pnl_uses_entry_price_when_mark_missing PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_pnl_service_edges.py::test_get_position_pnl_short_position_flips_sign PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_pnl_service_edges.py::test_get_portfolio_pnl_empty_store_returns_zeros PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_service_init PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_balances_returns_balances PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_balances_handles_list_response PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_balances_calculates_total_when_missing PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_balances_handles_exception PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_balances_skips_invalid_entries PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_portfolio_balances_delegates_to_list_balances PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_positions_returns_positions PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_positions_returns_empty_when_derivatives_not_supported PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_positions_handles_exception PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_position_returns_position PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_position_returns_none_when_not_supported PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_intx_allocate_requires_advanced_mode PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_intx_allocate_success PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_intx_balances_returns_empty_when_not_advanced PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_intx_balances_returns_balances PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_intx_portfolio_returns_empty_when_not_advanced PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_intx_portfolio_success PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_intx_positions_returns_positions PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_cfm_balance_summary_returns_summary PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_cfm_balance_summary_returns_empty_when_not_supported PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_list_cfm_sweeps_returns_sweeps PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_cfm_sweeps_schedule_returns_schedule PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_get_cfm_margin_window_returns_window PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_update_cfm_margin_window_success PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service.py::TestPortfolioService::test_update_cfm_margin_window_raises_when_not_supported PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service_edges.py::test_list_cfm_positions_invalid_expiry_sets_none PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service_edges.py::test_list_spot_positions_skips_usd_and_zero PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service_edges.py::test_get_unified_balance_combines_spot_and_cfm PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_service_edges.py::test_has_cfm_access_false_without_summary PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_unified_edges.py::test_get_cfm_balance_missing_or_empty_summary PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_unified_edges.py::test_get_cfm_balance_parses_nested_values PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_unified_edges.py::test_list_all_positions_merges_spot_and_cfm PASSED [ 23%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_unified_edges.py::test_list_all_positions_spot_only_when_no_derivatives PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_portfolio_unified_edges.py::test_get_unified_balance_without_usd_spot PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_position_state_store_edges.py::test_set_get_contains_and_len PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_position_state_store_edges.py::test_all_returns_defensive_copy PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_position_state_store_edges.py::test_symbols_returns_snapshot PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_position_state_store_edges.py::test_remove_missing_and_clear PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_service_init PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_list_products_returns_products PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_list_products_handles_list_response PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_list_products_skips_invalid_entries PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_list_products_handles_network_error PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_list_products_handles_timeout PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_list_products_handles_unexpected_error PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_product_from_catalog PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_product_with_funding_enrichment PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_product_funding_enrichment_failure_continues PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_product_catalog_fails_falls_back_to_client PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_product_network_error PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_rest_quote_returns_quote PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_rest_quote_network_error PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_quote_delegates_to_get_rest_quote PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_candles_returns_candles PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_candles_skips_invalid_entries PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_candles_network_error PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_ticker_returns_ticker PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_ticker_network_error PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_mark_price_returns_price PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_mark_price_none_returns_none PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_mark_price_conversion_error PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_perpetuals_returns_only_perpetuals PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_futures_returns_only_futures PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_spot_products PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_cfm_products_returns_futures_with_expiry PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_tradeable_products_spot_only PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_tradeable_products_cfm_only PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_tradeable_products_hybrid_mode PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestProductService::test_get_tradeable_products_empty_modes PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_empty_list_returns_empty_dict PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_advanced_mode_uses_batch_endpoint PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_advanced_mode_includes_bid_ask PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_exchange_mode_uses_individual_calls PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_exchange_mode_handles_failures PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_advanced_mode_fallback_on_batch_failure PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_skips_empty_pricebooks PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_handles_missing_product_id PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service.py::TestGetTickers::test_get_tickers_skips_empty_price_ticker PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service_edges.py::test_get_tickers_mid_price_uses_single_side PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service_edges.py::test_get_tickers_batch_parse_error_falls_back PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_product_service_edges.py::test_get_candles_skips_invalid_time PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_rest_service_edges.py::test_product_catalog_setter_updates_dependencies PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_rest_service_edges.py::test_positions_returns_defensive_copy PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_rest_service_edges.py::test_process_fill_for_pnl_uses_shared_store PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/rest/test_rest_service_edges.py::test_update_position_metrics_delegates PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_balance_summary_requires_advanced_mode PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_positions_formats_path PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_position_with_product_id PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_intraday_current_margin_window PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_intraday_position_refresh_not_implemented XFAIL [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_sweep_not_implemented XFAIL [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_methods_require_advanced_mode PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_sweeps_and_schedule_paths PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_cfm_endpoints.py::test_cfm_intraday_margin_setting_posts_payload PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_client_account_endpoints[get_accounts] PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_client_account_endpoints[get_account] PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_client_account_endpoints[list_portfolios] PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_client_account_endpoints[get_portfolio] PASSED [ 24%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_client_account_endpoints[get_portfolio_breakdown] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_client_account_endpoints[move_funds] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_list_balances_advanced_shape PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_list_balances_exchange_shape PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_funding_enrichment_uses_product_catalog PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_list_positions_maps_from_cfm PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_adapter_cfm_telemetry_delegates_to_rest_service PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_adapter_cfm_telemetry_respects_derivatives_gating PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_adapter_intx_methods_delegate_to_rest_service PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_adapter_intx_methods_respect_intx_support PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_account_manager_snapshot_collects_all_sections PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_account_manager_intx_unavailable_marks_reason PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_account_manager_intx_recovers_after_refresh PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_account_manager_convert_commits_when_requested PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_accounts.py::TestCoinbaseAccounts::test_account_manager_move_funds_delegates_to_broker PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_auth.py::test_cdp_jwt_auth_generates_valid_headers PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_auth.py::test_simple_auth_generates_valid_headers PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_auth.py::test_broker_auth_selection_uses_cdp_jwt PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_auth.py::test_broker_auth_fallback_uses_simple_auth PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_401_maps_to_auth_error PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_400_maps_to_invalid_request_error PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_500_maps_to_brokerage_error PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_429_triggers_retry_with_backoff PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_429_exhausts_retries PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_503_triggers_retry PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_network_errors_retry PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_jitter_applied_to_retry_delay PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_errors.py::test_408_timeout_does_not_retry PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_client_market_data_endpoints[get_ticker] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_client_market_data_endpoints[get_candles] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_client_market_data_endpoints[get_product_book_advanced] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_client_market_data_endpoints[get_product_book_exchange] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_client_market_data_endpoints[get_market_products] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_client_market_data_endpoints[get_market_product] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_client_market_data_endpoints[get_market_product_ticker] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_client_market_data_endpoints[get_market_product_candles] PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_get_product_formats_path PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_products_path_differs_by_mode PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_get_product_book_path_mapping_by_mode PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_advanced_only_endpoints_raise_in_exchange PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_list_parameters_comma_separated PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_repeated_parameters_not_encoded_as_array PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_unicode_emoji_in_params PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_empty_values_are_included PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_special_characters_plus_slash_at PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_depth_snapshot_l1_l10_depth_correctness PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_depth_snapshot_spread_bps PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_depth_snapshot_mid_price PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_rolling_window_cleanup_and_stats PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_trade_tape_vwap_calculation PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_trade_tape_aggressor_ratio PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_to_product_spot_market PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_to_product_perpetual_full PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_to_product_perpetual_partial PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_to_product_future_market PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_to_product_invalid_funding_time PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_catalog_refresh_with_perps PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_catalog_get_with_expiry PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_catalog_get_not_found PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_catalog_get_funding_for_perpetual PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_catalog_get_funding_for_spot PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_catalog_handles_alternative_response_format PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_enforce_quantizes_quantity PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_enforce_quantizes_price PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_enforce_rejects_below_min_size PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_enforce_rejects_below_min_notional PASSED [ 25%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_enforce_accepts_valid_notional PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_enforce_handles_no_min_notional PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_enforce_complex_quantization PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_quantize_basic PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_quantize_floors_not_rounds PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_quantize_handles_zero_increment PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_quantize_arbitrary_increments PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_staleness_detection_fresh_vs_stale_toggles PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_market_data.py::TestCoinbaseMarketData::test_staleness_behavior_matches_validator PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models.py::test_to_product_handles_spot_payload PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models.py::test_to_order_mapping PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models.py::test_to_quote_and_to_candle PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models_edges.py::test_to_product_perpetual_logs_invalid_funding_time PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models_edges.py::test_to_quote_uses_trade_fallback PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models_edges.py::test_to_quote_logs_bad_trade_payload PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models_edges.py::test_to_order_stop_limit_with_ioc PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models_edges.py::test_to_order_contracts_quantity_fallback PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models_edges.py::test_to_position_side_from_quantity PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models_edges.py::test_to_position_respects_side_override PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_models_edges.py::test_to_candle_uses_ts_field PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_broker_permission_lookup[trading-allowed] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_broker_permission_lookup[view-only] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_get_key_permissions_shapes_response[all-permissions] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_get_key_permissions_shapes_response[view-trade] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_get_key_permissions_shapes_response[view-only] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_get_key_permissions_shapes_response[no-permissions] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_get_key_permissions_propagates_errors[unauthorized] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_get_key_permissions_propagates_errors[invalid-key] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_get_key_permissions_includes_portfolio_metadata PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_portfolio_type_passthrough[default] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_portfolio_type_passthrough[consumer] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_portfolio_type_passthrough[intx] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_portfolio_type_passthrough[undefined] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_check_required_permissions_all_granted[view] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_check_required_permissions_all_granted[view-trade] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_check_required_permissions_all_granted[all] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_check_required_permissions_missing[missing-trade] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_check_required_permissions_missing[missing-transfer] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_check_required_permissions_missing[missing-all] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_permissions.py::test_stubbed_permission_response_satisfies_required_keys PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_client_system_endpoints[get_time] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_client_system_endpoints[get_key_permissions] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_client_system_endpoints[get_fees] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_client_system_endpoints[get_limits] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_client_system_endpoints[list_payment_methods] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_client_system_endpoints[get_payment_method] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_client_system_endpoints[get_convert_trade] PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_get_products_perf_budget PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_place_order_perf_budget PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_connection_validation PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_position_list_spot_trading PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_system.py::TestCoinbaseSystem::test_order_error_handling PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestSequenceGuard::test_first_message_no_gap PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestSequenceGuard::test_consecutive_no_gap PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestSequenceGuard::test_detects_gap PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestSequenceGuard::test_large_gap PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestSequenceGuard::test_missing_sequence_field_passes_through PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestSequenceGuard::test_sequence_num_gap_detection PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestSequenceGuard::test_reset_clears_tracking PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestSequenceGuard::test_preserves_message_fields PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestCoinbaseWebSocketWithMockTransport::test_initialization_defaults PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestCoinbaseWebSocketWithMockTransport::test_initialization_custom_url PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestCoinbaseWebSocketWithMockTransport::test_has_sequence_guard PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket.py::TestCoinbaseWebSocketWithMockTransport::test_transport_none_before_connect PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket_edges.py::test_subscribe_user_events_without_credentials_logs_warning PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket_edges.py::test_on_message_heartbeat_updates_timestamps PASSED [ 26%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket_edges.py::test_on_message_sequence_gap_increments_and_passes_flag PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_coinbase_websocket_edges.py::test_invalid_json_logs_error_and_preserves_last_message_ts PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_conversion_endpoints.py::test_convert_quote_posts_payload PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_conversion_endpoints.py::test_get_convert_trade_already_covered_in_system_tests XFAIL [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_conversion_endpoints.py::test_commit_convert_trade_posts_payload PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_credentials_resolution.py::test_resolve_prefers_prod_cdp_env_vars PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_credentials_resolution.py::test_resolve_falls_back_to_cdp_env_vars PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_credentials_resolution.py::test_resolve_supports_legacy_env_vars PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_credentials_resolution.py::test_resolve_warns_on_mixed_env_vars PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_credentials_resolution.py::test_resolve_uses_credentials_file PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_credentials_resolution.py::test_resolve_invalid_credentials_file_falls_back_to_env PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDerivativesEligibility::test_eligibility_creation PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDerivativesEligibility::test_eligibility_is_frozen PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesNone::test_none_market_skips_discovery PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesUS::test_us_market_accessible PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesUS::test_us_market_broker_missing_method PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesUS::test_us_market_empty_response PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesUS::test_us_market_invalid_response_type PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesUS::test_us_market_api_error PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesUS::test_us_market_attribute_error PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_accessible PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_broker_missing_list_portfolios PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_no_portfolios PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_no_perpetuals_portfolio PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_portfolio_found_by_name PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_portfolio_found_by_intx_type PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_portfolio_missing_uuid PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_broker_missing_get_intx_portfolio PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_portfolio_details_empty PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_api_error PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_attribute_error PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesINTX::test_intx_market_non_dict_portfolio_entry PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesBoth::test_both_markets_accessible PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesBoth::test_both_markets_us_only_accessible PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesBoth::test_both_markets_intx_only_accessible PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesBoth::test_both_markets_neither_accessible PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoverDerivativesBoth::test_both_markets_errors_combined PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestFailOnInaccessible::test_fail_on_inaccessible_true_triggers_reduce_only PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestFailOnInaccessible::test_fail_on_inaccessible_false_no_reduce_only PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestFailOnInaccessible::test_fail_on_inaccessible_when_accessible PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoveryData::test_discovery_data_contains_us_details PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoveryData::test_discovery_data_contains_intx_details PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDiscoveryData::test_discovery_data_contains_error_details PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDerivativesDiscoveryEdgeCases::test_portfolios_list_is_not_list PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDerivativesDiscoveryEdgeCases::test_empty_dict_balance_summary PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDerivativesDiscoveryEdgeCases::test_portfolio_with_perpetuals_in_name_lowercase PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_derivatives_discovery.py::TestDerivativesDiscoveryEdgeCases::test_portfolio_with_intx_in_name PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_endpoint_chains.py::test_trading_flow_place_get_cancel PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_endpoint_chains.py::test_market_data_flow_products_ticker_candles PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_endpoint_chains.py::test_position_flow_cfm_positions_then_detail PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_exchange_specs.py::test_side_aware_price_quantization_buy_sell PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_exchange_specs.py::test_validate_order_enforces_min_size_with_buffer PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_exchange_specs.py::test_validate_order_enforces_min_notional PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_exchange_specs.py::test_calculate_safe_position_size_bumps_to_clear_thresholds PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_http_request_layer.py::test_request_composes_headers_and_path PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_http_request_layer.py::test_retries_on_429_then_succeeds PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_http_request_layer.py::test_error_mapping_when_non_2xx PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_endpoints.py::test_intx_allocate_posts_payload PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_endpoints.py::test_intx_balances_formats_path PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_endpoints.py::test_intx_portfolio_formats_path PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_endpoints.py::test_intx_positions_formats_path PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_endpoints.py::test_intx_position_formats_path PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_endpoints.py::test_intx_multi_asset_collateral_formats_path PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_endpoints.py::test_intx_endpoints_blocked_in_exchange_mode PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_portfolio_service.py::test_service_honours_config_override PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_portfolio_service.py::test_service_attempts_refresh_when_initial_lookup_empty PASSED [ 27%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_portfolio_service.py::test_service_invalidate_delegates_to_account_manager PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_intx_portfolio_service.py::test_service_resolve_or_raise_errors_when_unavailable PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_fallback.py::test_get_ticker_uses_public_endpoint_when_unauthenticated PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_fallback.py::test_get_candles_uses_public_endpoint_when_unauthenticated PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_fallback.py::test_get_ticker_prefers_public_endpoint_even_when_authenticated PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_fallback.py::test_get_ticker_falls_back_to_authenticated_when_public_not_found PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_fallback.py::test_get_candles_prefers_public_endpoint_even_when_authenticated PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_fallback.py::test_get_candles_falls_back_to_authenticated_when_public_not_found PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_rolling_window_empty_stats PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_rolling_window_default_timestamp PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_depth_snapshot_from_orderbook_update_sorts_levels PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_depth_snapshot_mid_none_when_missing_side PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_depth_snapshot_spread_bps_zero_bid PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_trade_tape_defaults_no_trades PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_trade_tape_cleanup_removes_old_trades PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_trade_tape_zero_volume_vwap PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_trade_tape_default_timestamp PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_features_edges.py::test_get_expected_perps PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTicker::test_ticker_creation PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTicker::test_ticker_equality PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTicker::test_ticker_different_symbols PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_cache_init_default_ttl PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_cache_init_custom_ttl PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_cache_update_and_get PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_cache_get_nonexistent PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_cache_update_overwrites PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_cache_multiple_symbols PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_is_stale_nonexistent_symbol PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_is_stale_fresh_ticker PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_is_stale_old_ticker PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestTickerCache::test_is_stale_exactly_at_ttl PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_init_default_symbols PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_init_with_symbols PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_set_symbols PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_start_sets_running PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_stop_clears_running PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_stop_without_start PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_get_mark_returns_none PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_service_lifecycle PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestCoinbaseTickerService::test_run_method_does_nothing PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataServiceAlias::test_alias_is_coinbase_ticker_service PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataServiceAlias::test_alias_instantiation PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataEdgeCases::test_ticker_with_zero_values PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataEdgeCases::test_ticker_with_negative_values PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataEdgeCases::test_cache_with_zero_ttl PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataEdgeCases::test_empty_symbol_string PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataEdgeCases::test_service_set_symbols_replaces PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataEdgeCases::test_service_set_empty_symbols PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service.py::TestMarketDataEdgeCases::test_multiple_start_stop_cycles PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service_edges.py::test_ticker_cache_stale_boundary PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service_edges.py::test_ticker_cache_stale_after_ttl PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service_edges.py::test_ticker_service_start_creates_thread PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_market_data_service_edges.py::test_ticker_service_stop_joins_thread PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_retry_behaviour.py::test_request_retries_on_429_and_5xx_then_succeeds PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_retry_behaviour.py::test_request_fast_fails_on_auth_errors PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_retry_behaviour.py::test_non_json_response_yields_brokerage_error PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestProductSpec::test_spec_initialization_with_defaults PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestProductSpec::test_spec_initialization_with_overrides PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsService::test_service_loads_yaml_overrides PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsService::test_service_handles_missing_config_file PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsService::test_service_handles_malformed_yaml PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsService::test_service_builds_spec_with_overrides PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsService::test_service_builds_spec_without_api_data PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsService::test_service_caches_specs PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsService::test_service_env_config_path PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_side_aware_price_quantization[buy-input_price0-expected0] PASSED [ 28%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_side_aware_price_quantization[buy-input_price1-expected1] PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_side_aware_price_quantization[buy-input_price2-expected2] PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_side_aware_price_quantization[sell-input_price3-expected3] PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_side_aware_price_quantization[sell-input_price4-expected4] PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_side_aware_price_quantization[sell-input_price5-expected5] PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_side_aware_price_quantization[BUY-input_price6-expected6] PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_side_aware_price_quantization[SELL-input_price7-expected7] PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_price_quantization_zero_increment PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_price_quantization_invalid_side PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_size_quantization_always_floors PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_size_quantization_zero_step PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestQuantization::test_xrp_ten_unit_quantization PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestOrderValidation::test_validate_order_size_below_minimum PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestOrderValidation::test_validate_order_notional_below_minimum PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestOrderValidation::test_validate_order_adjusts_size_and_price PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSafePositionSizing::test_calculate_safe_size_with_buffer PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSafePositionSizing::test_calculate_safe_size_for_min_notional PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSafePositionSizing::test_calculate_safe_size_already_safe PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSafePositionSizing::test_calculate_safe_size_edge_cases PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSlippageMultipliers::test_get_slippage_multiplier_from_spec PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceCalculateSafePositionSize::test_calculate_safe_position_size_normal_case PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceCalculateSafePositionSize::test_calculate_safe_position_size_below_min_size PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceCalculateSafePositionSize::test_calculate_safe_position_size_below_min_notional PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceCalculateSafePositionSize::test_calculate_safe_position_size_above_max_size PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceCalculateSafePositionSize::test_calculate_safe_position_size_cannot_meet_min_notional PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceValidateOrder::test_validate_order_market_order PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceValidateOrder::test_validate_order_limit_order_valid PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceValidateOrder::test_validate_order_size_too_small PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceValidateOrder::test_validate_order_size_too_large PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceValidateOrder::test_validate_order_notional_too_small PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestSpecsServiceValidateOrder::test_validate_order_price_quantization PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestEnforcePerpsRules::test_quantity_rounds_to_step_and_enforces_min_size PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_specs_quantization.py::TestEnforcePerpsRules::test_min_notional_enforced PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_real_transport_initialization_default PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_real_transport_initialization_with_config PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_connect_success PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_connect_with_headers_dict_uses_existing_url PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_connect_headers_without_url_raises PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_connect_with_environment_options PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_connect_invalid_timeout PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_connect_missing_websocket_client PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_connect_trace_enable_failure PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_disconnect_success PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_disconnect_with_error PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_disconnect_no_websocket PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_subscribe_success PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_subscribe_not_connected PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_stream_success PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_stream_handles_stop_iteration PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_stream_not_connected PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestRealTransportCoverage::test_stream_with_error PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestMockTransportCoverage::test_mock_transport_initialization_default PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestMockTransportCoverage::test_mock_transport_initialization_with_messages PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestMockTransportCoverage::test_mock_transport_connect PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestMockTransportCoverage::test_mock_transport_connect_without_headers PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestMockTransportCoverage::test_mock_transport_disconnect PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestMockTransportCoverage::test_mock_transport_subscribe PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestMockTransportCoverage::test_mock_transport_stream PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestMockTransportCoverage::test_mock_transport_add_message PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestNoopTransportCoverage::test_noop_transport_initialization_default PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestNoopTransportCoverage::test_noop_transport_initialization_with_config PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestNoopTransportCoverage::test_noop_transport_connect PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestNoopTransportCoverage::test_noop_transport_connect_with_headers PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestNoopTransportCoverage::test_noop_transport_disconnect PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestNoopTransportCoverage::test_noop_transport_subscribe PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestNoopTransportCoverage::test_noop_transport_stream PASSED [ 29%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestTransportEdgeCases::test_real_transport_malformed_json_stream PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestTransportEdgeCases::test_real_transport_empty_message_stream PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestTransportEdgeCases::test_real_transport_none_message_stream PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestTransportEdgeCases::test_mock_transport_multiple_subscriptions PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestTransportEdgeCases::test_transport_environment_variable_parsing PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestTransportEdgeCases::test_transport_empty_subprotocols PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_transports_coverage.py::TestTransportEdgeCases::test_transport_mixed_whitespace_subprotocols PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_user_event_handler.py::test_order_update_upserts_orders_store PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_user_event_handler.py::test_fill_event_idempotent PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_user_event_handler.py::test_backfill_deduplicates_rest_fills PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_user_event_handler.py::test_dedupe_limit_evicts_oldest_key PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestWebSocketClientMixinInitialization::test_initialization_creates_attributes PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestWebSocketClientMixinInitialization::test_initialization_with_auth PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestWebSocketClientMixinGetWebSocket::test_creates_websocket_on_first_call PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestWebSocketClientMixinGetWebSocket::test_returns_same_websocket_on_subsequent_calls PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestWebSocketClientMixinGetWebSocket::test_passes_auth_credentials_to_websocket PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestWebSocketClientMixinGetWebSocket::test_handles_no_auth PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamOrderbook::test_connects_and_subscribes_to_level2 PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamOrderbook::test_subscribes_to_ticker_for_level1 PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamOrderbook::test_include_trades_adds_channel PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamOrderbook::test_include_user_events_subscribes PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamOrderbook::test_yields_messages_from_callback PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamTrades::test_connects_and_subscribes_to_market_trades PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamTrades::test_yields_trade_messages PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamControl::test_stop_streaming_disconnects_websocket PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamControl::test_stop_streaming_handles_disconnect_error PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamControl::test_is_streaming_returns_correct_state PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestMessageFiltering::test_ignores_non_dict_messages PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestMessageFiltering::test_on_websocket_message_ignored_when_inactive PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestMessageFiltering::test_clears_queue_before_streaming PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestGetWSHealth::test_returns_empty_dict_when_no_ws PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestGetWSHealth::test_returns_health_dict_from_ws PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestGetWSHealth::test_returns_empty_dict_after_stop_streaming PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestGetWSHealth::test_is_thread_safe PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamMessageControl::test_stream_messages_stop_event_breaks PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_websocket_mixin.py::TestStreamMessageControl::test_stream_messages_stop_sentinel_breaks PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestTickerEvent::test_from_message_basic PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestTickerEvent::test_from_message_missing_optional PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestTradeEvent::test_from_message_single_trade PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestTradeEvent::test_from_message_multiple_trades PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestOrderbookUpdate::test_from_message_bids_and_asks PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestOrderUpdateEvent::test_from_message_order_update PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestEventDispatcher::test_dispatch_ticker PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestEventDispatcher::test_dispatch_trades PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestEventDispatcher::test_dispatch_orderbook PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestEventDispatcher::test_dispatch_raw_always_called PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestEventDispatcher::test_dispatch_error_event PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestEventDispatcher::test_handler_exception_does_not_stop_dispatch PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestEventDispatcher::test_multiple_handlers PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestEventType::test_event_types_values PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestSequenceGuard::test_annotate_returns_message_unchanged_without_sequence PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestSequenceGuard::test_annotate_first_message_no_gap PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestSequenceGuard::test_annotate_sequential_messages_no_gap PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestSequenceGuard::test_annotate_gap_detected PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestSequenceGuard::test_reset_clears_state PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestCoinbaseWebSocketHealth::test_get_health_returns_all_fields PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestCoinbaseWebSocketHealth::test_get_health_initial_state PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestCoinbaseWebSocketHealth::test_get_health_reflects_gap_count PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events.py::TestCoinbaseWebSocketHealth::test_get_health_reflects_reconnect_count PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_ticker_event_defaults_when_events_missing[message0] PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_ticker_event_defaults_when_events_missing[message1] PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_trade_event_missing_events_returns_empty[message0] PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_trade_event_missing_events_returns_empty[message1] PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_orderbook_update_missing_updates_returns_empty[message0] PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_orderbook_update_missing_updates_returns_empty[message1] PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_orderbook_update_missing_updates_returns_empty[message2] PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_fill_event_none_without_filled_or_avg_price PASSED [ 30%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_fill_event_created_from_avg_price_even_without_filled PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_events_edges.py::test_order_update_defaults_without_order_configuration PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestCalculateBackoffWithJitter::test_backoff_grows_exponentially PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestCalculateBackoffWithJitter::test_backoff_respects_max PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestCalculateBackoffWithJitter::test_backoff_uses_base_at_attempt_zero PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestCalculateBackoffWithJitter::test_backoff_uses_multiplier PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestCalculateBackoffWithJitter::test_jitter_within_bounds PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestCalculateBackoffWithJitter::test_jitter_produces_different_values PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestCalculateBackoffWithJitter::test_jitter_uses_random_uniform PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestWebSocketReconnectionReset::test_attempts_reset_after_stable_period PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestWebSocketReconnectionReset::test_attempts_not_reset_if_unstable PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestWebSocketDegradationCallback::test_callback_triggered_on_max_attempts PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestWebSocketDegradationCallback::test_callback_only_triggered_once PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestWebSocketDegradationCallback::test_no_callback_when_none_provided PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestWebSocketDegradationCallback::test_callback_exception_does_not_crash PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestWebSocketHealthIncludesNewFields::test_health_includes_connected_since PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/coinbase/test_ws_reconnection.py::TestWebSocketHealthIncludesNewFields::test_health_includes_max_attempts_triggered PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerInit::test_init_creates_client PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerInit::test_init_with_custom_parameters PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerInit::test_init_creates_usd_balance PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_product_from_cache PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_product_from_api PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_product_api_error_returns_synthetic PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_quote_returns_quote PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_quote_calculates_mid_when_no_trades PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_quote_api_error PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_ticker_returns_ticker PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_ticker_api_error PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_candles_returns_candles PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_get_candles_api_error PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_list_products_returns_products PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerMarketData::test_list_products_filters_by_type PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionsBalances::test_list_positions_empty PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionsBalances::test_list_positions_returns_positions PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionsBalances::test_get_positions_alias PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionsBalances::test_list_balances_returns_balances PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionsBalances::test_get_balances_alias PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionsBalances::test_get_equity_cash_only PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionsBalances::test_get_equity_with_long_position PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionsBalances::test_get_equity_with_short_position PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_place_order_buy_market PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_place_order_sell_market PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_place_order_updates_position PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_place_order_updates_balance PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_place_order_with_dict_payload PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_place_order_rejected_when_no_price PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_cancel_order_success PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_cancel_order_not_found PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_get_order_returns_order PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerOrderExecution::test_get_order_not_found PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionUpdates::test_update_position_creates_new_long PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionUpdates::test_update_position_creates_new_short PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionUpdates::test_update_position_adds_to_long PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionUpdates::test_update_position_reduces_long PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerPositionUpdates::test_update_position_closes_position PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerStatus::test_is_connected_always_true PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerStatus::test_is_stale_always_false PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerStatus::test_start_market_data_prefetches_quotes PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerStatus::test_stop_market_data_noop PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker.py::TestHybridPaperBrokerStatus::test_get_status_returns_status PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker_edges.py::test_limit_buy_uses_limit_below_slippage PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker_edges.py::test_limit_sell_uses_limit_above_slippage PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker_edges.py::test_quote_size_payload_computes_quantity PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker_edges.py::test_short_position_add_recalculates_average PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker_edges.py::test_short_position_reduce_keeps_entry_price PASSED [ 31%]
tests/unit/gpt_trader/features/brokerages/paper/test_hybrid_paper_broker_edges.py::test_synthetic_product_default_quote_asset PASSED [ 31%]
tests/unit/gpt_trader/features/data/test_cache.py::test_cache_entry_expiration_and_hits PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_cache.py::test_cache_evicts_least_recent_when_exceeding_limit PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_cache.py::test_cache_stats_reported_correctly PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_cache.py::test_clear_expired_removes_stale_entries PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_coinbase_edges.py::test_interval_to_granularity_maps_known_and_default PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_coinbase_edges.py::test_candles_to_dataframe_empty_returns_empty_frame PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_coinbase_edges.py::test_download_from_coinbase_returns_none_without_manager PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_coinbase_edges.py::test_download_from_coinbase_uses_manager_and_returns_dataframe PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_coinbase_edges.py::test_from_coinbase_client_wires_manager PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_coinbase_runtime_edges.py::test_download_from_coinbase_running_loop PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_coinbase_runtime_edges.py::test_download_from_coinbase_uses_asyncio_run PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_store_data_updates_cache_with_warning PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_fetch_data_returns_cache_hit PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_fetch_data_loads_from_storage_and_updates_cache PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_fetch_data_downloads_when_storage_misses PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_cache_data_delegates_to_cache PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_clean_old_data_clears_cache PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_get_storage_stats_combines_sources PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_export_data_writes_csv PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_import_data_roundtrips_csv PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_data_module.py::test_import_data_rejects_unknown_format PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::test_check_quality_records_history PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::test_check_quality_handles_empty_frame PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::test_validate_ohlcv_detects_issues PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::test_quality_trend_returns_average PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestQualityResult::test_overall_score PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestQualityResult::test_is_acceptable_true PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestQualityResult::test_is_acceptable_false_by_score PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestQualityResult::test_is_acceptable_false_by_flag PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestQualityResult::test_completeness_property PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestCheckQualityExtended::test_handles_none_data PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestCheckQualityExtended::test_handles_nulls_in_data PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestValidateOhlcvExtended::test_handles_none_data PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestValidateOhlcvExtended::test_missing_columns PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestValidateOhlcvExtended::test_negative_high PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestValidateOhlcvExtended::test_negative_low PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestValidateOhlcvExtended::test_negative_close PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestValidateOhlcvExtended::test_valid_frame_no_issues PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestGetQualityTrendExtended::test_empty_scores PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality.py::TestGetQualityTrendExtended::test_multiple_scores PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality_candles.py::TestCheckCandles::test_detects_gaps_spikes_and_volume_anomalies PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality_candles.py::TestCheckCandles::test_short_series_skips_volume_anomalies PASSED [ 32%]
tests/unit/gpt_trader/features/data/test_quality_candles.py::TestCheckCandles::test_empty_candles_returns_unacceptable_report PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeSnapshot::test_create_snapshot PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeSnapshot::test_snapshot_with_advanced_indicators PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeSnapshot::test_to_dict PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_len PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_iter PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_get_regime_at PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_get_regime_at_before_start PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_get_regime_distribution PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_get_regime_transitions PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_get_crisis_periods PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_get_average_confidence PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_get_volatility_summary PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_summary PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestRegimeHistory::test_to_dataframe_rows PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestBatchRegimeDetector::test_process_prices PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestBatchRegimeDetector::test_process_with_timestamps PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestBatchRegimeDetector::test_process_volatile_prices PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestBatchRegimeDetector::test_process_trending_prices PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestBatchRegimeDetector::test_reset PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/backtesting/test_batch_regime.py::TestBatchRegimeDetector::test_process_candles_interface PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestStrategyPerformanceRecord::test_init_with_priors PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestStrategyPerformanceRecord::test_record_success PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestStrategyPerformanceRecord::test_record_failure PASSED [ 32%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestStrategyPerformanceRecord::test_totals_tracking PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestStrategyPerformanceRecord::test_recent_win_rate PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestStrategyPerformanceRecord::test_confidence_interval PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestStrategyPerformanceRecord::test_uncertainty PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestStrategyPerformanceRecord::test_serialize_deserialize PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestBayesianWeightUpdater::test_init_equal_weights PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestBayesianWeightUpdater::test_init_custom_weights PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestBayesianWeightUpdater::test_record_outcome_updates_performance PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestBayesianWeightUpdater::test_weights_adapt_to_performance PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestBayesianWeightUpdater::test_weight_caps PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestBayesianWeightUpdater::test_different_regimes_independent PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestBayesianWeightUpdater::test_serialize_deserialize PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_adaptive.py::TestBayesianWeightUpdater::test_get_all_performance PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestEnsembleOrchestrator::test_decide_calls_all_strategies PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestEnsembleOrchestrator::test_decide_returns_aggregated_decision PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestEnsembleOrchestrator::test_decide_includes_ensemble_metadata PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestEnsembleOrchestrator::test_unanimous_agreement PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestEnsembleOrchestrator::test_disagreement_follows_leader PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestEnsembleOrchestrator::test_low_confidence_returns_hold PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestEnsembleOrchestrator::test_get_regime PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestEnsembleOrchestrator::test_get_strategy_weights PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestCrisisMode::test_crisis_adjustment_applied PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestSerialization::test_serialize_state PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_orchestrator.py::TestSerialization::test_deserialize_state PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestVotingMechanismFactory::test_create_weighted_majority PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestVotingMechanismFactory::test_create_confidence_leader PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestVotingMechanismFactory::test_create_unknown_raises PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestWeightedMajorityVoting::test_empty_votes_returns_hold PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestWeightedMajorityVoting::test_unanimous_buy PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestWeightedMajorityVoting::test_weighted_aggregation PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestWeightedMajorityVoting::test_equal_weights_confidence_matters PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestConfidenceLeaderVoting::test_empty_votes_returns_hold PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestConfidenceLeaderVoting::test_unanimous_boosted_confidence PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestConfidenceLeaderVoting::test_conflict_follows_leader PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestConfidenceLeaderVoting::test_conflict_penalizes_confidence PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestStrategyVote::test_weighted_confidence PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_voting.py::TestStrategyVote::test_to_dict PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_weighting.py::TestDynamicWeightCalculator::test_equal_weights_with_no_adjustment PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_weighting.py::TestDynamicWeightCalculator::test_regime_adjustment_applied PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_weighting.py::TestDynamicWeightCalculator::test_confidence_blending PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_weighting.py::TestDynamicWeightCalculator::test_crisis_reduces_all_weights PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_weighting.py::TestDynamicWeightCalculator::test_handles_unknown_strategy PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_weighting.py::TestDynamicWeightCalculator::test_get_regime_bias PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/ensemble/test_weighting.py::TestDynamicWeightCalculator::test_normalization_with_extreme_multipliers PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeType::test_regime_types_exist PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeState::test_create_regime_state PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeState::test_unknown_factory PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeState::test_is_bullish PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeState::test_is_volatile PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeState::test_to_dict PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeConfig::test_default_config PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeConfig::test_custom_config PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestRegimeConfig::test_to_dict_and_from_dict PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_initial_state_is_unknown PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_warmup_period PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_detects_uptrend PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_detects_downtrend PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_detects_sideways PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_multiple_symbols PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_serialization_roundtrip PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_reset_symbol PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_reset_all PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestMarketRegimeDetector::test_regime_persistence PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestCrisisDetection::test_detects_drawdown_crisis PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector.py::TestCrisisDetection::test_crisis_state_to_dict PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_apply_persistence_same_regime_clears_pending PASSED [ 33%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_apply_persistence_transitions_after_min_ticks PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_estimate_transition_probability_stable_uses_history PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_estimate_transition_probability_pending_uses_history_weighted PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_estimate_transition_probability_fallback_when_detected_diff PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_check_crisis_high_volatility_path PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_check_crisis_drawdown_path PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_classify_normal_regime_adx_weak_raises_threshold PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_classify_normal_regime_adx_strong_lowers_threshold PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_classify_normal_regime_high_squeeze_biases_quiet PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_getters_missing_symbol_return_defaults PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/regime/test_detector_edges.py::test_getters_new_state_defaults PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizingConfig::test_default_config PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizingConfig::test_regime_scale_factors PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizingConfig::test_to_dict PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizingConfig::test_from_dict PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_basic_sizing PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_position_fraction_limits PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_confidence_affects_size PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_regime_affects_size PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_sizing_without_detector PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_position_value_calculation PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_position_quantity_calculation PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_record_trade_result PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_portfolio_heat_tracking PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_portfolio_heat_limits_sizing PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_sizing_result_to_dict PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestPositionSizer::test_serialize_deserialize_state PASSED [ 34%]
tests/unit/gpt_trader/features/intelligence/sizing/test_position_sizer.py::TestSizingResult::test_to_dict_format PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/combiners/test_regime_combiner_edges.py::test_trending_regime_weights PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/combiners/test_regime_combiner_edges.py::test_ranging_regime_weights PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/combiners/test_regime_combiner_edges.py::test_neutral_blend_when_adx_none PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/combiners/test_regime_combiner_edges.py::test_hysteresis_keeps_trending PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/combiners/test_regime_combiner_edges.py::test_empty_signals_return_zeroes PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_price_tick_store_edges.py::test_rehydrate_without_event_store_returns_zero PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_price_tick_store_edges.py::test_rehydrate_skips_non_ticks_and_invalid_events PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_price_tick_store_edges.py::test_rehydrate_skips_invalid_price_values PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_price_tick_store_edges.py::test_rehydrate_calls_strategy_callback_even_with_no_restores PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_price_tick_store_edges.py::test_record_price_tick_persists_and_updates_history PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_price_tick_store_edges.py::test_record_price_tick_without_event_store_updates_history PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_price_tick_store_edges.py::test_record_price_tick_enforces_max_history PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_reset_daily_tracking_recomputes_equity PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_fetch_total_equity_success PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_fetch_total_equity_includes_unrealized_pnl PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_fetch_total_equity_failure PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_fetch_positions_success PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_fetch_positions_failure PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_cycle_skips_on_equity_failure PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_build_position_state PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_positions_to_risk_format PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_risk_manager_receives_dict_format PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_calculate_order_quantity_with_strategy_config PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_calculate_order_quantity_fallback_to_bot_config PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_calculate_order_quantity_min_size PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_order_placed_with_dynamic_quantity PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_position_state_passed_to_strategy PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_reduce_only_clamps_quantity_to_prevent_position_flip PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_reduce_only_blocks_new_position_on_empty_symbol PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_mark_staleness_seeded_from_rest_fetch PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_exchange_rules_blocks_small_order PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_slippage_guard_blocks_order PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_runtime_guard_sweep_calls_guard_manager PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_runtime_guard_sweep_skips_without_guard_manager PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_runtime_guard_sweep_uses_config_interval PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_runtime_guard_sweep_handles_exceptions PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_health_check_runner_initialized PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine.py::test_health_check_runner_started_and_stopped PASSED [ 34%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestBrokerOutageDegradation::test_broker_failures_trigger_pause_after_threshold PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestBrokerOutageDegradation::test_successful_broker_call_resets_counter PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestGuardFailureDegradation::test_guard_failure_triggers_pause_and_reduce_only PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestGuardFailureDegradation::test_api_outage_scenario_triggers_degradation PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestGuardFailureDegradation::test_api_health_guard_emits_api_error_event PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestMarkStalenessDegradation::test_stale_mark_pauses_symbol PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestMarkStalenessDegradation::test_stale_mark_allows_reduce_only_when_configured PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestSlippageFailureDegradation::test_slippage_failures_pause_symbol_after_threshold PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestPreviewDisableDegradation::test_preview_disabled_after_threshold_failures PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestPausedOrderRejection::test_order_rejected_when_globally_paused PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestPausedOrderRejection::test_order_rejected_when_symbol_paused PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestPausedOrderRejection::test_reduce_only_allowed_through_pause PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestGuardOutcomeInvariants::test_degradation_blocks_before_validation PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestGuardOutcomeInvariants::test_risk_validation_blocked_vs_failed PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestGuardOutcomeInvariants::test_reduce_only_requested_allows_stale_mark PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestWSHealthDegradation::test_ws_stale_messages_triggers_pause_and_reduce_only PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestWSHealthDegradation::test_ws_stale_heartbeat_triggers_pause PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestWSHealthDegradation::test_ws_reconnect_triggers_pause_for_sync PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestWSHealthDegradation::test_ws_disconnect_with_stale_timestamps_triggers_degradation PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestWSHealthDegradation::test_ws_gap_count_tracked_in_status PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestWSHealthDegradation::test_no_degradation_when_broker_lacks_ws_health PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestWSHealthDegradation::test_ws_health_exception_handled_gracefully PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_strategy_engine_chaos.py::TestOrderAuditAlerts::test_unfilled_order_alert_emitted_once PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_extracts_from_bid_ask PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_extracts_from_bid_ask_strings PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_prefers_best_bid_over_bid PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_extracts_from_last_price PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_extracts_from_price_key PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_returns_none_for_empty_message PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_returns_none_for_zero_mark PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_returns_none_for_negative_mark PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_returns_none_for_zero_bid_ask_average PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_returns_none_for_invalid_decimal PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_handles_bid_only PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestExtractMarkFromMessage::test_handles_ask_only PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_updates_strategy_coordinator_mark_window PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_updates_runtime_state_mark_window PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_prunes_mark_window_when_exceeds_max_size PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_records_market_update_via_extras_monitor PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_records_market_update_via_coordinator_monitor PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_records_risk_manager_mark_update PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_creates_last_mark_update_dict_if_missing PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_handles_strategy_coordinator_error PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_handles_market_monitor_error PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestUpdateMarkAndMetrics::test_handles_non_dict_extras PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_healthy_when_market_monitor_present PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_unhealthy_when_no_monitor_or_streaming PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_healthy_when_streaming_active PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_detects_market_monitor_from_coordinator PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_no_market_monitor PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_streaming_active_when_task_running PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_streaming_inactive_when_task_done PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_streaming_inactive_when_no_task PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_counts_background_tasks PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_health_with_both_monitor_and_streaming PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health.py::TestHealthCheck::test_health_details_always_present PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_update_mark_and_metrics_invalid_interval_throttles PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_record_mark_update_result_is_stored PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_record_mark_update_exception_uses_fallback PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_update_orderbook_snapshot_invalid_product_id PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_update_orderbook_snapshot_success_calls_emit PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_update_orderbook_snapshot_logs_on_error PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_update_trade_aggregator_creates_and_emits PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_update_trade_aggregator_skips_missing_fields PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_emit_orderbook_snapshot_throttles PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_health_edges.py::test_emit_trade_flow_summary_missing_and_present PASSED [ 35%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestEmitMetric::test_emit_metric_calls_utility PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestShouldEnableStreaming::test_returns_false_for_test_profile PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestShouldEnableStreaming::test_returns_false_when_streaming_disabled PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestShouldEnableStreaming::test_returns_true_for_prod_with_streaming_enabled PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestShouldEnableStreaming::test_returns_true_for_canary_with_streaming_enabled PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestShouldEnableStreaming::test_returns_false_for_dev_profile PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestShouldEnableStreaming::test_handles_profile_with_value_attribute PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestShouldEnableStreaming::test_handles_none_profile PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStreamingBackground::test_start_streaming_background_when_disabled PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStreamingBackground::test_start_streaming_background_when_enabled PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStreamingBackground::test_stop_streaming_background_schedules_stop PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRestartStreamingIfNeeded::test_no_restart_for_irrelevant_diff PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRestartStreamingIfNeeded::test_restart_for_streaming_enable_change PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRestartStreamingIfNeeded::test_restart_for_symbols_change PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRestartStreamingIfNeeded::test_restart_for_stream_level_change PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRestartStreamingIfNeeded::test_handles_runtime_error_with_asyncio_run PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRestartStreamingIfNeeded::test_reraises_other_runtime_errors PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestScheduleCoroutine::test_schedule_coroutine_with_running_loop PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestScheduleCoroutine::test_schedule_coroutine_no_running_loop PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestScheduleCoroutine::test_schedule_coroutine_via_task_handle PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStartStreaming::test_start_streaming_no_symbols PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStartStreaming::test_start_streaming_creates_task PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStartStreaming::test_start_streaming_default_level PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStartStreaming::test_start_streaming_invalid_level PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStopStreaming::test_stop_streaming_clears_config PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStopStreaming::test_stop_streaming_sets_stop_signal PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStopStreaming::test_stop_streaming_cancels_task PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestStopStreaming::test_stop_streaming_handles_cancelled_error PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestHandleStreamTaskCompletion::test_clears_coordinator_state PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestHandleStreamTaskCompletion::test_handles_cancelled_error PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoopAsync::test_run_stream_loop_async_calls_sync_version PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoopAsync::test_run_stream_loop_async_handles_cancellation PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_no_broker PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_processes_messages PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_routes_user_events PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_triggers_backfill_on_gap PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_stops_on_signal PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_falls_back_to_trades PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_skips_non_dict_messages PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_skips_messages_without_symbol PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_skips_invalid_mark PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_skips_zero_mark PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/engines/test_telemetry_streaming.py::TestRunStreamLoop::test_run_stream_loop_emits_exit_metric PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorInit::test_init_stores_broker PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorInit::test_init_defaults_integration_mode_false PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorInit::test_init_accepts_integration_mode_true PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteOrderNormal::test_execute_order_calls_broker_with_correct_args PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteOrderNormal::test_execute_order_passes_market_order_with_none_price PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteOrderNormal::test_execute_order_passes_reduce_only_flag PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteOrderNormal::test_execute_order_passes_leverage PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteOrderNormal::test_execute_order_passes_stop_price PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorEdgeCases::test_execute_order_with_all_none_optional_params PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorEdgeCases::test_execute_order_with_decimal_precision PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorEdgeCases::test_execute_order_propagates_broker_exception PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestRetryPolicy::test_default_values PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestRetryPolicy::test_calculate_delay_first_attempt_is_zero PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestRetryPolicy::test_calculate_delay_exponential_backoff PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestRetryPolicy::test_calculate_delay_respects_max_delay PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestRetryPolicy::test_jitter_clamped_negative_to_zero PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestRetryPolicy::test_jitter_clamped_above_one_to_one PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestRetryPolicy::test_jitter_valid_range_unchanged PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestRetryPolicy::test_jitter_boundary_values PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteWithRetry::test_success_on_first_attempt PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteWithRetry::test_retry_on_retryable_exception PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteWithRetry::test_max_attempts_respected PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteWithRetry::test_non_retryable_exception_not_retried PASSED [ 36%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteWithRetry::test_timeout_error_is_retryable PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestExecuteWithRetry::test_client_order_id_logged_consistently PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorWithRetry::test_execute_order_without_retry_default PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorWithRetry::test_execute_order_with_retry_enabled PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorWithRetry::test_retry_uses_same_client_order_id PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorWithRetry::test_custom_retry_policy PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerCallMetrics::test_successful_call_records_latency_with_success_outcome PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerCallMetrics::test_failed_call_records_latency_with_failure_outcome PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerCallMetrics::test_timeout_error_classified_correctly PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerCallMetrics::test_rate_limit_error_classified_correctly PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerCallMetrics::test_network_error_classified_correctly PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorResilience::test_retry_success_after_n_failures PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorResilience::test_timeout_path_triggers_retry_with_classification PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorResilience::test_non_retryable_error_short_circuits PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorResilience::test_all_retries_exhausted_raises_last_exception PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorResilience::test_exponential_backoff_delays PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_broker_executor.py::TestBrokerExecutorResilience::test_non_retryable_mid_sequence_stops_immediately PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_invalidate_cache_clears_state PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_invalidate_cache_handles_no_callback PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_should_run_full_guard_when_dirty PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_should_run_full_guard_when_no_state PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_should_run_full_guard_when_interval_elapsed PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_should_run_full_guard_returns_false_within_interval PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_collect_runtime_guard_state_basic PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_collect_runtime_guard_state_with_positions PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_collect_runtime_guard_state_uses_broker_pnl PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_collect_runtime_guard_state_fallback_equity PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_collect_runtime_guard_state_handles_position_errors PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_run_guard_step_success PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_run_guard_step_recoverable_error PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_run_guard_step_unrecoverable_error PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_run_guard_step_unexpected_error PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_log_guard_telemetry_success PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_log_guard_telemetry_failure_raises PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_daily_loss_not_triggered PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_daily_loss_triggered_cancels_orders PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_daily_loss_cancel_failure PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_liquidation_buffers_basic PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_liquidation_buffers_full_with_risk_info PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_liquidation_buffers_corrupt_data PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_liquidation_buffers_risk_fetch_failure PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_mark_staleness_no_cache PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_mark_staleness_with_cache PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_mark_staleness_fetch_failure PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_risk_metrics_success PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_risk_metrics_failure PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_risk_metrics_propagates_guard_error PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_volatility_skips_short_window PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_volatility_skips_no_symbols PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_volatility_checks_symbols PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_volatility_records_triggered_events PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_guard_volatility_fetch_failure PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_run_guards_for_state_calls_all_guards PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_run_runtime_guards_first_run PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_run_runtime_guards_incremental PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_run_runtime_guards_force_full PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_cancel_all_orders_success PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_cancel_all_orders_partial_failure PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_cancel_all_orders_none_cancelled PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_cancel_all_orders_empty_list PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_cancel_all_orders_uses_broker_list_orders PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_safe_run_runtime_guards_success PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_safe_run_runtime_guards_force_full PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_safe_run_runtime_guards_recoverable_error PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_safe_run_runtime_guards_unrecoverable_error PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_safe_run_runtime_guards_unexpected_error PASSED [ 37%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_safe_run_runtime_guards_reduce_only_failure PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_api_health_guard_skips_without_client PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_api_health_guard_triggers_on_open_breaker PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_api_health_guard_triggers_on_high_error_rate PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_api_health_guard_triggers_on_high_rate_limit_usage PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_api_health_guard_handles_status_fetch_failure PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::test_api_health_guard_passes_when_healthy PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestDailyLossGuardEdgeCases::test_cancel_all_orders_raises_triggers_risk_guard_action_error PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestDailyLossGuardEdgeCases::test_successful_trigger_calls_both_callbacks PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestLiquidationBufferGuardEdgeCases::test_incremental_mode_does_not_call_get_position_risk PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestLiquidationBufferGuardEdgeCases::test_check_liquidation_buffer_receives_correct_pos_data PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestLiquidationBufferGuardEdgeCases::test_invalid_mark_price_raises_data_corrupt PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestVolatilityGuardEdgeCases::test_broker_missing_get_candles_skips_without_error PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestVolatilityGuardEdgeCases::test_candles_less_than_window_does_not_call_circuit_breaker PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestVolatilityGuardEdgeCases::test_multiple_symbols_one_fails_raises_with_failures_list PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestGuardManagerEdgeCases::test_data_unavailable_is_recorded_and_surfaces PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestGuardManagerEdgeCases::test_guard_order_is_stable PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_guards.py::TestGuardManagerEdgeCases::test_run_guards_for_state_stops_on_unrecoverable_error PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestOrderEventRecorderInit::test_init_stores_event_store PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestOrderEventRecorderInit::test_init_stores_bot_id PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordPreview::test_record_preview_skips_when_preview_is_none PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordPreview::test_record_preview_emits_metric PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordPreview::test_record_preview_uses_market_for_none_price PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordPreview::test_record_preview_logs_event PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordPreview::test_record_preview_handles_log_exception PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordRejection::test_record_rejection_emits_metric PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordRejection::test_record_rejection_logs_status_change PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordRejection::test_record_rejection_handles_none_price PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordRejection::test_record_rejection_handles_log_exception PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordSubmissionAttempt::test_record_submission_attempt_logs_correctly PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordSubmissionAttempt::test_record_submission_attempt_handles_none_price PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordSubmissionAttempt::test_record_submission_attempt_handles_exception PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordSuccess::test_record_success_logs_order_info PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordSuccess::test_record_success_handles_reduce_only PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordSuccess::test_record_success_handles_market_price PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordTradeEvent::test_record_trade_event_logs_status_change PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordTradeEvent::test_record_trade_event_appends_to_event_store PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordTradeEvent::test_record_trade_event_handles_log_exception PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordTradeEvent::test_record_trade_event_handles_store_exception PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordFailure::test_record_failure_appends_error_to_event_store PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordFailure::test_record_failure_handles_store_exception PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordBrokerRejection::test_record_broker_rejection_calls_record_rejection PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordBrokerRejection::test_record_broker_rejection_appends_error PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordBrokerRejection::test_record_broker_rejection_uses_effective_price_when_price_none PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordBrokerRejection::test_record_broker_rejection_handles_store_exception PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordIntegrationRejection::test_record_integration_rejection_stores_event PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestRecordIntegrationRejection::test_record_integration_rejection_with_different_status PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestOrderEventRecorderEdgeCases::test_recorder_with_empty_bot_id PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestOrderEventRecorderEdgeCases::test_record_rejection_with_decimal_quantity PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_event_recorder.py::TestOrderEventRecorderEdgeCases::test_record_trade_event_uses_order_quantity_when_available PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestOrderSubmitterInit::test_init_stores_dependencies PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestOrderSubmitterInit::test_init_defaults_integration_mode_to_false PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestRecordPreview::test_record_preview_with_preview_data PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestRecordPreview::test_record_preview_with_none_preview_skips PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestRecordPreview::test_record_preview_market_price PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestRecordPreview::test_record_preview_handles_logger_exception PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestRecordRejection::test_record_rejection_logs_and_emits PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestRecordRejection::test_record_rejection_includes_client_order_id PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestRecordRejection::test_record_rejection_without_client_order_id_uses_empty_string PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestRecordRejection::test_record_rejection_with_none_price PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestGenerateSubmitId::test_uses_provided_client_order_id PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestGenerateSubmitId::test_generates_id_when_none PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestGenerateSubmitId::test_integration_mode_uses_env_override PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestExecuteBrokerOrder::test_normal_order_execution PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestExecuteBrokerOrder::test_type_error_propagates PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestHandleOrderResult::test_successful_order_tracked PASSED [ 38%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestHandleOrderResult::test_none_order_returns_none PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestHandleOrderResult::test_order_without_id_returns_none PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestHandleOrderResult::test_rejected_status_raises_error PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestHandleOrderResult::test_integration_mode_returns_order_object PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestProcessRejection::test_integration_mode_stores_event PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestProcessRejection::test_normal_mode_raises_error PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestHandleOrderFailure::test_logs_error_and_returns_none PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_core.py::TestHandleOrderFailure::test_handles_event_store_exception PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestSubmitOrder::test_successful_order_submission PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestSubmitOrder::test_rejected_order_returns_none PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestSubmitOrder::test_broker_exception_returns_none PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestSubmitOrder::test_order_with_none_result_returns_none PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestSubmitOrder::test_order_with_none_result_persists_terminal_status PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestOrderSubmissionIntegration::test_full_order_submission_flow PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestOrderSubmissionIntegration::test_rejection_flow PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestRetryPathIdempotency::test_provided_client_order_id_is_reused_on_retry PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestRetryPathIdempotency::test_generated_client_order_id_differs_per_submission PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_flows.py::TestTransientFailureWithClientOrderIdReuse::test_transient_failure_then_success_reuses_client_order_id PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[rate_limit exceeded-rate_limit] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[HTTP 429 Too Many Requests-rate_limit] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[too many requests-rate_limit] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Insufficient balance-insufficient_funds] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Not enough funds-insufficient_funds] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[insufficient margin-insufficient_funds] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Invalid size-invalid_size] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[quantity below min_size-invalid_size] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[amount too small-invalid_size] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Invalid price-invalid_price] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[price tick increment-invalid_price] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Request timeout-timeout] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Connection timed out-timeout] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[deadline exceeded-timeout] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Connection refused-network] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Network error-network] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[socket closed-network] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Order rejected by broker-broker_rejected] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Request rejected-broker_rejected] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Order failed-unknown] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Server error-unknown] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[Something weird happened-unknown] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::test_classify_rejection_reason[-unknown] PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestOrderSubmissionMetrics::test_successful_order_records_metric PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestOrderSubmissionMetrics::test_failed_order_records_metric_with_reason PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestCorrelationContextPropagation::test_order_context_set_during_submission PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestCorrelationContextPropagation::test_correlation_context_preserved_during_submission PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestCorrelationContextPropagation::test_order_context_cleared_after_submission PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestBrokerStatusClassification::test_broker_rejected_status PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestBrokerStatusClassification::test_broker_cancelled_status PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestBrokerStatusClassification::test_broker_failed_status PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestBrokerStatusClassification::test_timeout_variations PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestBrokerStatusClassification::test_network_variations PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestRecordRejectionConsistency::test_rejection_from_broker_status_includes_classified_reason PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestRecordRejectionConsistency::test_exception_rejection_uses_classified_reason PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestOrderSubmissionLatencyMetrics::test_successful_submission_records_latency_histogram PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestOrderSubmissionLatencyMetrics::test_failed_submission_records_latency_with_failure_result PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_order_submission_observability.py::TestOrderSubmissionLatencyMetrics::test_classification_label_used_in_metrics PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderResult::test_success_result PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderResult::test_failure_result PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderResult::test_to_dict_success PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderResult::test_to_dict_failure PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestResolveOrderIdFallback::test_resolve_order_id_with_id_attribute PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestResolveOrderIdFallback::test_resolve_order_id_fallback_to_order_id PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestResolveOrderIdFallback::test_resolve_order_id_fallback_when_id_missing PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestResolveOrderIdFallback::test_resolve_order_id_returns_none_for_none_order PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestResolveOrderIdFallback::test_resolve_order_id_returns_none_when_both_missing PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderRouterAsyncExecution::test_execute_async_delegates_to_submitter PASSED [ 39%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderRouterAsyncExecution::test_execute_async_passes_reduce_only_for_close PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderRouterAsyncExecution::test_execute_async_handles_submitter_failure_result PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderRouterAsyncExecution::test_execute_async_handles_submitter_blocked_result PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderRouterAsyncExecution::test_execute_async_handles_submitter_exception PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_router.py::TestOrderRouterAsyncExecution::test_execute_async_hold_is_not_actionable PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestStateCollectorInit::test_init_stores_broker PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestStateCollectorInit::test_init_resolves_collateral_assets PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestStateCollectorInit::test_init_uses_defaults_when_no_env PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestStateCollectorInit::test_init_integration_mode_explicit_parameter PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestStateCollectorInit::test_init_integration_mode_defaults_false PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveCollateralAssets::test_parses_comma_separated_values PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveCollateralAssets::test_uppercase_normalization PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveCollateralAssets::test_empty_returns_defaults PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCalculateEquityFromBalances::test_sums_collateral_balances PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCalculateEquityFromBalances::test_falls_back_to_usd_balance PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCalculateEquityFromBalances::test_returns_zeros_when_no_balances_match PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCalculateEquityFromBalances::test_handles_empty_balances PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestLogCollateralUpdate::test_skips_empty_collateral_list PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestLogCollateralUpdate::test_sets_initial_collateral_value PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestLogCollateralUpdate::test_logs_significant_change PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestLogCollateralUpdate::test_handles_logger_exception PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCollectAccountState::test_collects_balances_and_positions PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCollectAccountState::test_handles_broker_without_list_balances PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCollectAccountState::test_handles_balance_exception_in_integration_mode PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCollectAccountState::test_raises_balance_exception_in_normal_mode PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCollectAccountState::test_handles_position_exception_in_integration_mode PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestCollectAccountState::test_provides_default_balance_in_integration_mode PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestBuildPositionsDict::test_builds_dict_from_positions PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestBuildPositionsDict::test_skips_zero_quantity_positions PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestBuildPositionsDict::test_handles_parse_errors PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestBuildPositionsDict::test_defaults_side_to_long PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveEffectivePrice::test_returns_provided_price PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveEffectivePrice::test_uses_mark_price_for_market_orders PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveEffectivePrice::test_uses_mid_price_fallback PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveEffectivePrice::test_uses_broker_quote_fallback PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveEffectivePrice::test_uses_product_price_fallback PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveEffectivePrice::test_uses_quote_increment_as_last_resort PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveEffectivePrice::test_handles_zero_price_as_none PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestResolveEffectivePrice::test_handles_mark_price_exception PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestRequireProduct::test_returns_provided_product PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestRequireProduct::test_fetches_from_broker_when_none PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestRequireProduct::test_raises_validation_error_when_not_found PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestRequireProduct::test_provides_synthetic_product_in_integration_mode PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestRequireProduct::test_synthetic_product_parses_symbol_without_dash PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_state_collection.py::TestStateCollectionIntegration::test_full_state_collection_flow PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestOrderValidatorInit::test_init_stores_dependencies PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidateExchangeRules::test_market_order_uses_none_price PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidateExchangeRules::test_limit_order_uses_provided_price PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidateExchangeRules::test_limit_order_falls_back_to_effective_price PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidateExchangeRules::test_validation_failure_raises_error PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidateExchangeRules::test_validation_uses_adjusted_quantity PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidateExchangeRules::test_validation_failure_with_none_reason PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidateExchangeRules::test_limit_order_price_quantization PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidateExchangeRules::test_adjusted_values_from_validation PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnsureMarkIsFresh::test_fresh_mark_passes PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnsureMarkIsFresh::test_stale_mark_raises PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnsureMarkIsFresh::test_exception_in_staleness_check_is_suppressed PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnsureMarkIsFresh::test_validation_error_propagates PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnforceSlippageGuard::test_no_snapshot_method_passes PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnforceSlippageGuard::test_no_snapshot_passes PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnforceSlippageGuard::test_slippage_within_guard_passes PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnforceSlippageGuard::test_slippage_exceeds_guard_raises PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnforceSlippageGuard::test_zero_depth_uses_fallback PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestEnforceSlippageGuard::test_exception_in_snapshot_is_suppressed PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestRunPreTradeValidation::test_delegates_to_risk_manager PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestRunPreTradeValidation::test_validation_error_propagates PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMaybePreviewOrder::test_preview_disabled_skips PASSED [ 40%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMaybePreviewOrder::test_broker_without_preview_skips PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMaybePreviewOrder::test_preview_success_records_result PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMaybePreviewOrder::test_preview_validation_error_propagates PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMaybePreviewOrder::test_preview_generic_exception_is_suppressed PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMaybePreviewOrder::test_preview_with_non_tif_value PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestFinalizeReduceOnlyFlag::test_not_in_reduce_only_mode_returns_user_flag PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestFinalizeReduceOnlyFlag::test_reduce_only_mode_forces_true PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidationIntegration::test_full_validation_flow PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidationFailureTracker::test_initial_failure_count_is_zero PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidationFailureTracker::test_record_failure_increments_count PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidationFailureTracker::test_record_success_resets_count PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidationFailureTracker::test_escalation_triggered_at_threshold PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidationFailureTracker::test_escalation_without_callback PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestValidationFailureTracker::test_separate_tracking_per_check_type PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMetricsRecording::test_mark_staleness_failure_records_metric PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMetricsRecording::test_slippage_guard_failure_records_metric PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestMetricsRecording::test_preview_failure_records_metric PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestFailureTrackerIntegration::test_success_resets_mark_staleness_counter PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestFailureTrackerIntegration::test_failure_increments_slippage_counter PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestFailureTrackerIntegration::test_escalation_triggered_after_repeated_failures PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestGetValidationMetrics::test_returns_empty_failures_initially PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestGetValidationMetrics::test_returns_failure_counts PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/execution/test_validation.py::TestGetValidationMetrics::test_reports_escalation_status PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestStrategyOrchestratorClassStructure::test_requires_context_attribute PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestStrategyOrchestratorClassStructure::test_inherits_from_mixins PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_skips_when_context_is_none PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_calls_resolve_decision PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_records_decision PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_executes_buy_decision PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_executes_sell_decision PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_executes_close_decision PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_does_not_execute_hold PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_skips_execution_when_product_missing PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_with_balances PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbol::test_process_symbol_with_position_map PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbolErrorHandling::test_process_symbol_handles_prepare_context_error PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbolErrorHandling::test_process_symbol_handles_resolve_decision_error PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbolErrorHandling::test_process_symbol_handles_execution_error PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbolActions::test_action_execution_mapping[Action.BUY-True] PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbolActions::test_action_execution_mapping[Action.SELL-True] PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbolActions::test_action_execution_mapping[Action.CLOSE-True] PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbolActions::test_action_execution_mapping[Action.HOLD-False] PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/orchestrator/test_orchestrator.py::TestProcessSymbolMultipleMarks::test_uses_latest_mark_for_execution PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigDefaults::test_cfm_max_leverage_default PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigDefaults::test_cfm_min_liquidation_buffer_pct_default PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigDefaults::test_cfm_max_exposure_pct_default PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigDefaults::test_cfm_max_position_size_pct_default PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigDefaults::test_cfm_leverage_max_per_symbol_default PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigDefaults::test_cfm_max_notional_per_symbol_default PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigDefaults::test_cfm_day_leverage_max_per_symbol_default PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigDefaults::test_cfm_night_leverage_max_per_symbol_default PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigValues::test_set_cfm_max_leverage PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigValues::test_set_cfm_min_liquidation_buffer_pct PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigValues::test_set_cfm_max_exposure_pct PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigValues::test_set_cfm_max_position_size_pct PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigValues::test_set_cfm_leverage_max_per_symbol PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigValues::test_set_cfm_max_notional_per_symbol PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigValues::test_full_cfm_risk_config PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigFromEnv::test_from_env_cfm_max_leverage PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigFromEnv::test_from_env_cfm_min_liquidation_buffer_pct PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigFromEnv::test_from_env_cfm_max_exposure_pct PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigFromEnv::test_from_env_cfm_max_position_size_pct PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigFromEnv::test_from_env_defaults PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigFromJson::test_from_json_cfm_values PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigFromJson::test_from_json_cfm_max_notional_per_symbol PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigFromJson::test_from_json_cfm_leverage_per_symbol PASSED [ 41%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigToDict::test_to_dict_cfm_values PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/risk/test_cfm_risk_config.py::TestCFMRiskConfigToDict::test_to_dict_cfm_notional_decimals PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_mean_reversion_signal_edges.py::test_insufficient_data_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_mean_reversion_signal_edges.py::test_zero_volatility_returns_reason PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_mean_reversion_signal_edges.py::test_oversold_z_score_signal PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_mean_reversion_signal_edges.py::test_overbought_z_score_signal PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_mean_reversion_signal_edges.py::test_mean_reverted_path PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_momentum_signal_edges.py::test_insufficient_data_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_momentum_signal_edges.py::test_oversold_strength_and_confidence PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_momentum_signal_edges.py::test_overbought_strength_and_confidence PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignalConfig::test_default_values PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignalConfig::test_custom_values PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_no_market_data_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_no_trade_stats_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_insufficient_trades_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_high_buy_aggression_is_bullish PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_high_sell_aggression_is_bearish PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_balanced_flow_is_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_confidence_increases_with_trade_count PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_strength_scales_with_aggressor_ratio PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_order_flow.py::TestOrderFlowSignal::test_custom_thresholds PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignalConfig::test_default_values PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignalConfig::test_custom_values PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_no_market_data_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_no_orderbook_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_bid_heavy_is_bullish PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_ask_heavy_is_bearish PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_balanced_is_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_wide_spread_reduces_confidence PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_strong_imbalance_increases_confidence PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_zero_depth_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_custom_thresholds PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_orderbook_imbalance.py::TestOrderbookImbalanceSignal::test_levels_config_passed_to_depth PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistry::test_list_registered_signals_returns_all_builtin PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistry::test_get_signal_registration_returns_none_for_unknown PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistry::test_get_signal_registration_returns_registration_for_known PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistry::test_create_signal_with_default_config PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistry::test_create_signal_with_custom_parameters PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistry::test_create_signal_unknown_raises_value_error PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistry::test_create_all_registered_signals PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_signal_has_description[trend-Trend-following] PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_signal_has_description[mean_reversion-Mean reversion] PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_signal_has_description[momentum-Momentum] PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_signal_has_description[order_flow-Order flow] PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_signal_has_description[orderbook_imbalance-Orderbook imbalance] PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_signal_has_description[spread-Market quality] PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_signal_has_description[vwap-Mean reversion] PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_order_flow_signal_config_parameters PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_vwap_signal_config_parameters PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_registry.py::TestSignalRegistrationDetails::test_spread_signal_config_parameters PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignalConfig::test_default_values PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignalConfig::test_custom_values PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_no_market_data_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_strength_is_always_zero PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_tight_spread_high_confidence PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_normal_spread_medium_confidence PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_wide_spread_low_confidence PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_very_wide_spread_very_low_confidence PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_falls_back_to_orderbook_snapshot PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_no_spread_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_confidence_scaling PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_spread.py::TestSpreadSignal::test_custom_thresholds PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_trend_signal_edges.py::test_insufficient_data_returns_neutral PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_trend_signal_edges.py::test_calculation_error_when_fast_exceeds_available PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_trend_signal_edges.py::test_bullish_crossover_signal PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_trend_signal_edges.py::test_bearish_crossover_signal PASSED [ 42%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignalConfig::test_default_values PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignalConfig::test_custom_values PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_no_market_data_returns_neutral PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_no_trade_stats_returns_neutral PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_no_vwap_returns_neutral PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_insufficient_trades_returns_neutral PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_price_below_vwap_is_bullish PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_price_above_vwap_is_bearish PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_price_near_vwap_is_neutral PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_confidence_increases_with_trade_count PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_strength_scales_with_deviation PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_strong_deviation_increases_confidence PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_zero_vwap_returns_neutral PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_custom_thresholds PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/signals/test_vwap.py::TestVWAPSignal::test_metadata_contains_expected_fields PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseInit::test_init_default_config PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseInit::test_init_custom_symbols PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseInit::test_init_explicit_cfm_symbol PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseInit::test_init_position_state PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseDecide::test_decide_hold_when_no_decisions PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseDecide::test_decide_converts_buy PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseDecide::test_decide_converts_sell PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseDecide::test_decide_skips_hold_decisions PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBasePositionState::test_update_from_spot_position_dict PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBasePositionState::test_update_from_cfm_position_dict PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBasePositionState::test_update_from_flat_dict_spot PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBasePositionState::test_update_from_flat_dict_futures PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBasePositionSizing::test_calculate_spot_position_size PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBasePositionSizing::test_calculate_cfm_position_size PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBasePositionSizing::test_calculate_cfm_position_size_with_leverage PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBasePositionSizing::test_calculate_hybrid_position_size PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseSerialization::test_serialize_state PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseSerialization::test_deserialize_state PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseHelpers::test_create_spot_decision PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseHelpers::test_create_cfm_decision PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_base.py::TestHybridStrategyBaseHelpers::test_create_cfm_decision_with_custom_leverage PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestTradingMode::test_trading_modes PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestAction::test_actions PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridDecision::test_default_values PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridDecision::test_full_decision PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridDecision::test_is_actionable_buy PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridDecision::test_is_actionable_sell PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridDecision::test_is_actionable_hold PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridDecision::test_is_actionable_close PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridDecision::test_to_dict PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridMarketData::test_spot_only_data PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridMarketData::test_full_market_data PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridMarketData::test_basis_calculation PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridMarketData::test_basis_percentage_premium PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridMarketData::test_basis_percentage_discount PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridMarketData::test_basis_percentage_no_futures PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridMarketData::test_basis_percentage_zero_spot PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridStrategyConfig::test_default_values PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridStrategyConfig::test_auto_generate_spot_symbol PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridStrategyConfig::test_custom_spot_symbol PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridStrategyConfig::test_full_config PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridPositionState::test_default_state PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridPositionState::test_has_spot_position PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridPositionState::test_has_cfm_position PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridPositionState::test_is_basis_position PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridPositionState::test_is_not_basis_position_wrong_sides PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridPositionState::test_is_not_basis_position_missing_position PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/hybrid/test_types.py::TestHybridPositionState::test_to_dict PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestZScoreCalculation::test_z_score_at_mean_is_zero PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestZScoreCalculation::test_z_score_positive_when_above_mean PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestZScoreCalculation::test_z_score_negative_when_below_mean PASSED [ 43%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestSignalGeneration::test_long_signal_below_negative_threshold PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestSignalGeneration::test_short_signal_above_positive_threshold PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestSignalGeneration::test_no_short_when_disabled PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestSignalGeneration::test_hold_in_neutral_zone PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestExitLogic::test_exit_when_z_score_returns_to_mean PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestExitLogic::test_stop_loss_triggered PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestExitLogic::test_take_profit_triggered PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestVolatilityTargeting::test_high_volatility_reduces_position PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestVolatilityTargeting::test_position_capped_at_max_pct PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestVolatilityTargeting::test_zero_volatility_uses_default PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestKillSwitch::test_kill_switch_prevents_all_actions PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestRehydration::test_rehydrate_returns_zero_for_stateless_strategy PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/mean_reversion/test_strategy.py::TestInsufficientData::test_hold_when_insufficient_data PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestSignalProfileConfig::test_from_dict_minimal PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestSignalProfileConfig::test_from_dict_full PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestSignalProfileConfig::test_to_dict_roundtrip PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestDecisionProfileConfig::test_defaults PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestDecisionProfileConfig::test_from_dict_custom PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestCombinerProfileConfig::test_defaults PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestCombinerProfileConfig::test_to_regime_config_with_weights PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_default_profile_is_valid PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_microstructure_profile_is_valid PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_conservative_profile_is_valid PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_aggressive_profile_is_valid PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_build_signals_creates_instances PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_build_signals_respects_enabled_flag PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_build_combiner PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_yaml_roundtrip PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_validation_requires_name PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_validation_requires_signals PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleProfile::test_validation_requires_enabled_signals PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleStrategyFromProfile::test_from_profile_creates_strategy PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleStrategyFromProfile::test_from_profile_name_default PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleStrategyFromProfile::test_from_profile_name_microstructure PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleStrategyFromProfile::test_from_profile_name_conservative PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleStrategyFromProfile::test_from_profile_name_aggressive PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleStrategyFromProfile::test_from_profile_name_unknown_raises PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestEnsembleStrategyFromProfile::test_from_yaml_file PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestProfileDecisionIntegration::test_strategy_from_profile_can_decide PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile.py::TestProfileDecisionIntegration::test_different_profiles_different_thresholds PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile_edges.py::test_list_profiles_missing_dir_returns_empty PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile_edges.py::test_load_profile_missing_raises PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile_edges.py::test_parse_signal_type_unknown_returns_none PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile_edges.py::test_build_signals_skips_unknown PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile_edges.py::test_combiner_config_ignores_invalid_weight_keys PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_profile_edges.py::test_validate_flags_invalid_thresholds PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_strategy_edges.py::test_entry_thresholds_buy_sell_and_hold PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_strategy_edges.py::test_exit_logic_reversals PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_strategy_edges.py::test_risk_overlay_stop_loss_and_take_profit PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_strategy_edges.py::test_signal_generation_failure_is_skipped PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_ensemble_strategy_edges.py::test_decision_metadata_passthrough PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyConfig::test_default_values PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyConfig::test_custom_values PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestDecision::test_basic_decision PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestDecision::test_decision_with_indicators PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestBaselinePerpsStrategyInit::test_default_config PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestBaselinePerpsStrategyInit::test_custom_config PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyInsufficientData::test_empty_marks_returns_hold PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyInsufficientData::test_few_marks_returns_hold PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyKillSwitch::test_kill_switch_returns_hold PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyEntrySignals::test_bullish_trend_generates_buy PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyEntrySignals::test_bearish_trend_generates_sell PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyEntrySignals::test_sideways_market_holds PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyExitSignals::test_long_position_exit_on_bearish_signal PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyExitSignals::test_stop_loss_triggers_close PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyExitSignals::test_take_profit_triggers_close PASSED [ 44%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyIndicatorCalculation::test_indicators_populated_in_decision PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyIndicatorCalculation::test_rsi_signal_oversold PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyIndicatorCalculation::test_rsi_signal_overbought PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyConfidence::test_multiple_bullish_signals_high_confidence PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestStrategyConfidence::test_weak_signals_low_confidence PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestIndicatorState::test_default_state PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestIndicatorState::test_state_assignment PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestSpotStrategy::test_spot_strategy_uses_spot_config PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestSpotStrategy::test_spot_strategy_converts_sell_to_hold PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestSpotStrategy::test_spot_strategy_allows_buy PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestPerpsStrategy::test_perps_strategy_uses_perps_config PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_perps_baseline.py::TestPerpsStrategy::test_perps_strategy_allows_sell PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestWelfordState::test_empty_state PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestWelfordState::test_single_value PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestWelfordState::test_multiple_values_mean PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestWelfordState::test_variance_calculation PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestWelfordState::test_serialize_deserialize_roundtrip PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestRollingWindow::test_add_below_capacity PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestRollingWindow::test_add_at_capacity_evicts PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestRollingWindow::test_mean_calculation PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestRollingWindow::test_running_sum_accuracy PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestRollingWindow::test_serialize_deserialize_roundtrip PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineSMA::test_warmup_period PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineSMA::test_full_window PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineSMA::test_matches_stateless_sma PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineSMA::test_serialize_deserialize_roundtrip PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineEMA::test_warmup_period PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineEMA::test_initialization PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineEMA::test_subsequent_updates PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineEMA::test_serialize_deserialize_roundtrip PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineRSI::test_first_price_returns_none PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineRSI::test_warmup_period PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineRSI::test_initialization PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineRSI::test_all_gains_rsi_100 PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineRSI::test_matches_stateless_rsi PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineRSI::test_serialize_deserialize_roundtrip PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineZScore::test_insufficient_data_returns_none PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineZScore::test_z_score_calculation PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineZScore::test_windowed_z_score PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestOnlineZScore::test_serialize_deserialize_roundtrip PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestIndicatorBundle::test_create_with_defaults PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestIndicatorBundle::test_create_with_custom_params PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestIndicatorBundle::test_update_returns_all_values PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestIndicatorBundle::test_serialize_deserialize_roundtrip PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_indicators.py::TestPerformanceComparison::test_large_dataset_efficiency PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_perps_baseline_edges.py::test_parse_config_from_object PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_perps_baseline_edges.py::test_kill_switch_returns_hold_with_indicator PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_perps_baseline_edges.py::test_warming_up_indicator PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_perps_baseline_edges.py::test_after_warmup_indicators_present PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/strategies/test_stateful_perps_baseline_edges.py::test_serialize_deserialize_roundtrip PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestAccountTelemetryServiceInit::test_init_stores_dependencies PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestSupportsSnapshots::test_supports_snapshots_all_methods_present PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestSupportsSnapshots::test_supports_snapshots_missing_method PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestSupportsSnapshots::test_supports_snapshots_empty_broker PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestLatestSnapshot::test_latest_snapshot_returns_copy PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestLatestSnapshot::test_latest_snapshot_empty_initially PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestUpdateProfile::test_update_profile_changes_profile PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestCollectSnapshot::test_collect_snapshot_success PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestCollectSnapshot::test_collect_snapshot_account_manager_error PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestCollectSnapshot::test_collect_snapshot_server_time_error PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestCollectSnapshot::test_collect_snapshot_updates_latest PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestCollectSnapshot::test_collect_snapshot_server_time_none PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestPublishSnapshot::test_publish_snapshot_emits_metric PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestPublishSnapshot::test_publish_snapshot_file_write_error PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestRunAsync::test_run_exits_when_snapshots_not_supported PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestRunAsync::test_run_collects_and_publishes PASSED [ 45%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestRunAsync::test_run_handles_collection_error PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestAccountTelemetryEdgeCases::test_multiple_profile_updates PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestAccountTelemetryEdgeCases::test_snapshot_preserves_account_manager_data PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/telemetry/test_account_telemetry.py::TestAccountTelemetryEdgeCases::test_collect_snapshot_both_errors PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotInitialization::test_init_with_config_only PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotInitialization::test_init_with_container PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotInitialization::test_init_creates_context PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotInitialization::test_init_creates_engine PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotInitialization::test_init_container_missing_optional_attributes PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotRun::test_run_sets_running_flag PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotRun::test_run_single_cycle_calls_shutdown PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotRun::test_run_starts_background_tasks PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotRun::test_run_handles_cancellation PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotStop::test_stop_sets_running_false PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotStop::test_stop_calls_engine_shutdown PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotStop::test_shutdown_is_alias_for_stop PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotExecuteDecision::test_execute_decision_delegates_to_engine PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotExecuteDecision::test_execute_decision_returns_none_when_engine_lacks_method PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotExecuteDecision::test_execute_decision_with_minimal_args PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotGetProduct::test_get_product_with_broker PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotGetProduct::test_get_product_without_broker PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotGetProduct::test_get_product_broker_without_method PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotStateManagement::test_initial_state PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_bot.py::TestTradingBotStateManagement::test_running_state_during_execution PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestExposureState::test_default_values PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestExposureState::test_total_exposure PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestExposureState::test_cfm_margin_utilization_empty PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestExposureState::test_cfm_margin_utilization PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestExposureState::test_to_payload PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestRiskWarning::test_warning_creation PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestRiskWarning::test_critical_warning PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestRiskWarning::test_to_payload PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposure::test_update_exposure_spot_only PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposure::test_update_exposure_cfm_only PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposure::test_update_exposure_hybrid PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposure::test_update_exposure_with_cfm_balance PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposure::test_get_exposure_state PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposure::test_get_total_exposure PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLiquidationBuffer::test_check_cfm_liquidation_buffer_ok PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLiquidationBuffer::test_check_cfm_liquidation_buffer_warning PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLiquidationBuffer::test_check_cfm_liquidation_buffer_critical PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLiquidationBuffer::test_check_cfm_liquidation_buffer_with_percentage_field PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLiquidationBuffer::test_check_cfm_liquidation_buffer_none_balance PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposureLimits::test_check_cfm_exposure_limits_ok PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposureLimits::test_check_cfm_exposure_limits_exceeded PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMExposureLimits::test_check_cfm_exposure_limits_zero_equity PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLeverageValidation::test_validate_cfm_leverage_ok PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLeverageValidation::test_validate_cfm_leverage_at_limit PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLeverageValidation::test_validate_cfm_leverage_exceeded PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMLeverageValidation::test_validate_cfm_leverage_default PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMReduceOnlyMode::test_cfm_reduce_only_mode_default PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMReduceOnlyMode::test_set_cfm_reduce_only_mode PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMReduceOnlyMode::test_clear_cfm_reduce_only_mode PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMRiskSummary::test_get_cfm_risk_summary PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMRiskSummary::test_get_risk_warnings PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerCFMRiskSummary::test_clear_risk_warnings PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_cfm_risk_manager.py::TestLiveRiskManagerResetWithCFM::test_reset_daily_tracking_clears_cfm_state PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_config_dict_json.py::test_riskconfig_to_dict_serializes_decimals PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_config_dict_json.py::test_riskconfig_from_json_type_normalization PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseRecord::test_pause_record_creation PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseAll::test_pause_all_sets_global_pause PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseAll::test_is_paused_returns_true_during_global_pause PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseAll::test_is_paused_returns_false_after_expiry PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseAll::test_global_pause_allows_reduce_only_when_configured PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseAll::test_global_pause_blocks_all_when_reduce_only_disabled PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseSymbol::test_pause_symbol_sets_symbol_pause PASSED [ 46%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseSymbol::test_symbol_pause_only_affects_that_symbol PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseSymbol::test_symbol_pause_allows_reduce_only_when_configured PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestDegradationStatePauseSymbol::test_symbol_pause_expires PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestGetPauseReason::test_returns_global_reason_when_globally_paused PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestGetPauseReason::test_returns_symbol_reason_when_symbol_paused PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestGetPauseReason::test_returns_none_when_not_paused PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestSlippageFailureTracking::test_record_slippage_failure_increments_counter PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestSlippageFailureTracking::test_record_slippage_failure_triggers_pause_at_threshold PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestSlippageFailureTracking::test_slippage_counter_resets_after_pause PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestSlippageFailureTracking::test_reset_slippage_failures_clears_counter PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestBrokerFailureTracking::test_record_broker_failure_increments_counter PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestBrokerFailureTracking::test_record_broker_failure_triggers_global_pause PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestBrokerFailureTracking::test_broker_counter_resets_after_pause PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestBrokerFailureTracking::test_reset_broker_failures_clears_counter PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestClearAllAndStatus::test_clear_all_resets_state PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestClearAllAndStatus::test_get_status_returns_complete_state PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestClearAllAndStatus::test_get_status_when_not_paused PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseMonotonicity::test_global_pause_does_not_shorten_existing_pause PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseMonotonicity::test_global_pause_extends_existing_pause PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseMonotonicity::test_symbol_pause_does_not_shorten_existing_pause PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseMonotonicity::test_symbol_pause_extends_existing_pause PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseMonotonicity::test_symbol_pause_monotonicity_independent_per_symbol PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestGuardFailureTelemetry::test_slippage_failure_increments_once_per_call PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestGuardFailureTelemetry::test_broker_failure_increments_once_per_call PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestGuardFailureTelemetry::test_slippage_pause_triggers_exactly_at_threshold PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestGuardFailureTelemetry::test_broker_pause_triggers_exactly_at_threshold PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseExpiryRecovery::test_global_pause_expires_and_trading_resumes PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseExpiryRecovery::test_symbol_pause_expires_and_trading_resumes PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseExpiryRecovery::test_reduce_only_allowed_during_pause PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseExpiryRecovery::test_pause_then_recovery_sequence PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseExpiryRecovery::test_multiple_symbol_pauses_expire_independently PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseExpiryRecovery::test_guard_error_triggers_pause_via_record_broker_failure PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_degradation.py::TestPauseExpiryRecovery::test_pause_allows_trading_after_cooldown PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_guard_errors.py::test_configure_guard_alert_system_accepts_custom_dispatcher PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_guard_errors.py::test_get_alert_system_reinitializes_invalid_object PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_guard_errors.py::test_record_guard_failure_recoverable_emits_warning PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_guard_errors.py::test_record_guard_failure_critical_emits_error PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_guard_errors.py::test_record_guard_success_increments_counter PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_guard_errors.py::test_guard_metrics_stored_in_collector PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestMeanDecimal::test_empty_list_returns_zero PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestMeanDecimal::test_single_value PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestMeanDecimal::test_multiple_values PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestMeanDecimal::test_decimal_precision PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestSimpleMovingAverage::test_insufficient_data_returns_none PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestSimpleMovingAverage::test_exact_period_length PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestSimpleMovingAverage::test_longer_than_period PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestExponentialMovingAverage::test_insufficient_data_returns_none PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestExponentialMovingAverage::test_exact_period_returns_sma PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestExponentialMovingAverage::test_ema_responds_to_price_changes PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestRelativeStrengthIndex::test_insufficient_data_returns_none PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestRelativeStrengthIndex::test_minimum_data_for_period PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestRelativeStrengthIndex::test_all_gains_returns_100 PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestRelativeStrengthIndex::test_all_losses_returns_near_zero PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestRelativeStrengthIndex::test_mixed_prices_in_range PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestCrossoverDetection::test_insufficient_data_returns_none PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestCrossoverDetection::test_bullish_crossover PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestCrossoverDetection::test_bearish_crossover PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestCrossoverDetection::test_no_crossover PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestCrossoverDetection::test_crossover_signal_contains_values PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestComputeMASeries::test_sma_series_length_matches_input PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestComputeMASeries::test_sma_series_first_values_are_simple_avg PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestComputeMASeries::test_ema_series PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestTrueRange::test_simple_range PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestTrueRange::test_gap_up PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestAverageTrueRange::test_insufficient_data_returns_none PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestAverageTrueRange::test_atr_with_sufficient_data PASSED [ 47%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestToDecimal::test_int_conversion PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestToDecimal::test_float_conversion PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestToDecimal::test_string_conversion PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_indicators.py::TestToDecimal::test_decimal_passthrough PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_leverage_cap.py::test_pre_trade_rejects_above_max_leverage PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_leverage_time_windows.py::test_day_vs_night_leverage_caps_enforced PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_leverage_time_windows.py::test_day_vs_night_mmr_projection PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_lifecycle.py::test_lifecycle_transition_audited PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_lifecycle.py::test_lifecycle_transition_rejects_invalid PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_lifecycle.py::test_lifecycle_transition_force_override PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_liq_price_buffer.py::test_liquidation_buffer_with_real_liq_price_triggers_reduce_only PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_liq_price_buffer.py::test_liquidation_buffer_with_real_liq_price_ok_when_above_min PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestValidationError::test_validation_error_is_exception PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestValidationError::test_validation_error_with_message PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestValidationError::test_validation_error_without_message PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestVolatilityCheckOutcome::test_default_values PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestVolatilityCheckOutcome::test_custom_values PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestVolatilityCheckOutcome::test_to_payload_not_triggered PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestVolatilityCheckOutcome::test_to_payload_triggered PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerInit::test_init_no_config PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerInit::test_init_with_config PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerInit::test_init_with_event_store PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerInit::test_positions_default_dict PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerInit::test_last_mark_update_empty PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerStubs::test_check_order_returns_true PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerStubs::test_update_position_is_noop PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_no_config_returns_false PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_dict_position_no_liquidation_price PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_dict_position_no_mark_price PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_dict_position_with_mark_key PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_dict_position_with_mark_price_key PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_object_position_with_mark_price PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_object_position_with_mark_fallback PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_triggers_reduce_only_when_buffer_too_small PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_zero_mark_price_returns_false PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_handles_attribute_error PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_handles_none_values PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckLiquidationBuffer::test_handles_value_error PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestPreTradeValidate::test_no_config_passes PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestPreTradeValidate::test_leverage_within_limit PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestPreTradeValidate::test_leverage_exceeds_limit_raises PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestPreTradeValidate::test_zero_equity_skips_validation PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestPreTradeValidate::test_negative_equity_skips_validation PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestTrackDailyPnl::test_first_call_sets_start_equity PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestTrackDailyPnl::test_no_config_returns_false PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestTrackDailyPnl::test_no_daily_loss_limit_returns_false PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestTrackDailyPnl::test_loss_within_limit PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestTrackDailyPnl::test_loss_exceeds_limit_triggers PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestTrackDailyPnl::test_profit_does_not_trigger PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestTrackDailyPnl::test_zero_start_equity_skips PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckMarkStaleness::test_no_update_is_stale PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckMarkStaleness::test_recent_update_not_stale PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckMarkStaleness::test_old_update_is_stale PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckMarkStaleness::test_custom_staleness_threshold PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckMarkStaleness::test_default_threshold_without_config PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckMarkStaleness::test_exact_boundary PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestAppendRiskMetrics::test_appends_metrics PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestAppendRiskMetrics::test_captures_reduce_only_mode PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestAppendRiskMetrics::test_limits_to_100_metrics PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestAppendRiskMetrics::test_converts_nested_decimals_to_strings PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckVolatilityCircuitBreaker::test_empty_closes_not_triggered PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckVolatilityCircuitBreaker::test_too_few_closes_not_triggered PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckVolatilityCircuitBreaker::test_no_config_not_triggered PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckVolatilityCircuitBreaker::test_no_volatility_threshold_not_triggered PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckVolatilityCircuitBreaker::test_low_volatility_not_triggered PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckVolatilityCircuitBreaker::test_high_volatility_triggers PASSED [ 48%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestCheckVolatilityCircuitBreaker::test_zero_average_not_triggered PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestReduceOnlyMode::test_default_not_reduce_only PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestReduceOnlyMode::test_set_reduce_only_true PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestReduceOnlyMode::test_set_reduce_only_false PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestReduceOnlyMode::test_set_reduce_only_with_reason PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestReduceOnlyMode::test_set_reduce_only_clears_reason_when_false PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestResetDailyTracking::test_resets_all_daily_state PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestResetDailyTracking::test_reset_is_idempotent PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerIntegration::test_daily_workflow PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerIntegration::test_volatility_triggers_reduce_only PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_risk_manager.py::TestLiveRiskManagerIntegration::test_liquidation_buffer_triggers_reduce_only PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_from_empty_events PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_from_price_ticks PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_ignores_unknown_symbols PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_ignores_other_event_types PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_bounds_history_to_20 PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_without_event_store PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_handles_invalid_price PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_open_orders_from_store PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRehydration::test_rehydrate_handles_missing_fields PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRecordPriceTick::test_record_price_tick_stores_event PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestTradingEngineRecordPriceTick::test_record_price_tick_without_store PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_state_recovery.py::TestStrategyRehydrate::test_baseline_strategy_rehydrate_returns_zero PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_derivatives_enabled_with_spot_profile PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_derivatives_enabled_with_config_override PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_derivatives_enabled_edge_cases PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_normalize_symbol_list_with_derivatives_enabled PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_normalize_symbol_list_with_derivatives_disabled PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_normalize_symbol_list_empty_and_whitespace PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_normalize_symbol_list_case_and_whitespace_normalization PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_normalize_symbol_list_custom_fallback_bases PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_normalize_symbol_list_duplicate_removal PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_normalize_symbols_integration PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_normalize_symbols_custom_quote_and_config PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_symbol_normalization_log_dataclass PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_perps_allowlist_constant PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::test_us_futures_allowlist_constant PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestUsFuturesEnabled::test_returns_false_when_derivatives_disabled PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestUsFuturesEnabled::test_returns_true_when_us_futures_flag_enabled PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestUsFuturesEnabled::test_returns_true_when_derivatives_type_is_us_futures PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestUsFuturesEnabled::test_returns_false_by_default PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestIntxPerpetualsEnabled::test_returns_false_when_derivatives_disabled PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestIntxPerpetualsEnabled::test_returns_true_when_intx_flag_enabled PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestIntxPerpetualsEnabled::test_returns_true_when_derivatives_type_is_intx_perps PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestIntxPerpetualsEnabled::test_returns_true_when_derivatives_type_is_perpetuals PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestIntxPerpetualsEnabled::test_returns_true_by_default PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestNormalizeSymbolListUsFutures::test_allows_valid_us_futures PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestNormalizeSymbolListUsFutures::test_filters_unsupported_us_futures PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestNormalizeSymbolListFallback::test_uses_default_fallback_bases_when_none PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestCfmEnabled::test_returns_false_by_default PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestCfmEnabled::test_returns_true_when_cfm_flag_enabled PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestCfmEnabled::test_returns_true_when_cfm_in_trading_modes PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestCfmEnabled::test_returns_true_when_cfm_only_mode PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetCfmSymbol::test_maps_btc_base PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetCfmSymbol::test_maps_btc_spot_symbol PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetCfmSymbol::test_maps_eth_base PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetCfmSymbol::test_maps_sol_to_slp PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetCfmSymbol::test_returns_none_for_unmapped PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetCfmSymbol::test_case_insensitive PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSpotSymbol::test_converts_cfm_to_spot PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSpotSymbol::test_converts_base_to_spot PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSpotSymbol::test_handles_slp_to_sol PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSpotSymbol::test_custom_quote_currency PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSpotSymbol::test_case_insensitive PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestNormalizeSymbolForMode::test_spot_to_cfm PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestNormalizeSymbolForMode::test_cfm_to_spot PASSED [ 49%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestNormalizeSymbolForMode::test_spot_to_spot_is_normalized PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestNormalizeSymbolForMode::test_unmapped_cfm_returns_original PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestNormalizeSymbolForMode::test_custom_quote PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSymbolPairsForHybrid::test_single_symbol PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSymbolPairsForHybrid::test_multiple_symbols PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSymbolPairsForHybrid::test_handles_slp_to_sol_mapping PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSymbolPairsForHybrid::test_custom_quote PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSymbolPairsForHybrid::test_deduplicate_base_assets PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestGetSymbolPairsForHybrid::test_unmapped_base_fallback_to_spot PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestCfmSymbolMapping::test_contains_btc PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestCfmSymbolMapping::test_contains_eth PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestCfmSymbolMapping::test_contains_sol PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_symbols.py::TestCfmSymbolMapping::test_btc_mapping_format PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_total_exposure_breach.py::test_total_exposure_breach_while_symbol_cap_ok PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_trading_engine.py::test_trading_engine_initialization PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_trading_engine.py::test_trading_engine_cycle PASSED [ 50%]
tests/unit/gpt_trader/features/live_trade/test_trading_engine.py::test_trading_engine_cycle_history_limit PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_constraint_invalid_operator_raises PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_constraint_unknown_metric_raises PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_constraint_returns_false_when_value_none PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_constraint_operator_logic[lt-1.0-2.0-True] PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_constraint_operator_logic[le-2.0-2.0-True] PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_constraint_operator_logic[gt-3.0-2.0-True] PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_constraint_operator_logic[ge-2.0-2.0-True] PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_constraint_operator_logic[eq-2.0-2.0-True] PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_weighted_objective_raises_on_empty_components PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_weighted_objective_flips_sign_for_minimize PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_weighted_objective_propagates_inf[inf] PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_weighted_objective_propagates_inf[-inf] PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_weighted_objective_infeasible_component PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_composite_edges.py::test_weighted_objective_infeasible_constraint PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestConditionalConstraint::test_validation_invalid_condition_operator PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestConditionalConstraint::test_validation_invalid_constraint_operator PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestConditionalConstraint::test_satisfied_condition_not_met PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestConditionalConstraint::test_satisfied_condition_met_constraint_satisfied PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestConditionalConstraint::test_not_satisfied_condition_met_constraint_not_satisfied PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestRangeConstraint::test_validation_invalid_bounds PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestRangeConstraint::test_satisfied_within_range_inclusive PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestRangeConstraint::test_satisfied_at_bounds_inclusive PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestRangeConstraint::test_not_satisfied_at_bounds_exclusive PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestRangeConstraint::test_not_satisfied_outside_range PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestCircuitBreakerConstraint::test_name_property PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestCircuitBreakerConstraint::test_satisfied_no_triggers PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestCircuitBreakerConstraint::test_satisfied_within_limit PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestCircuitBreakerConstraint::test_not_satisfied_exceeds_limit PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestReduceOnlyConstraint::test_name_property PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestReduceOnlyConstraint::test_satisfied_no_periods PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_constraints.py::TestReduceOnlyConstraint::test_not_satisfied_exceeds_limit PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateRiskAverseObjective::test_returns_weighted_objective PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateRiskAverseObjective::test_has_correct_components PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateRiskAverseObjective::test_has_constraints PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateRiskAverseObjective::test_custom_parameters PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateExecutionQualityObjective::test_returns_weighted_objective PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateExecutionQualityObjective::test_has_correct_components PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateExecutionQualityObjective::test_has_execution_constraints PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateTimeEfficientObjective::test_returns_weighted_objective PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateTimeEfficientObjective::test_has_correct_components PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateStreakResilientObjective::test_returns_weighted_objective PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateStreakResilientObjective::test_has_correct_components PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateStreakResilientObjective::test_has_streak_constraints PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreatePerpetualsObjective::test_returns_weighted_objective PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreatePerpetualsObjective::test_has_correct_components PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreatePerpetualsObjective::test_has_leverage_constraints PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreatePerpetualsObjective::test_circuit_breaker_constraint_default PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreatePerpetualsObjective::test_circuit_breaker_constraint_optional PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateTailRiskAwareObjective::test_returns_weighted_objective PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateTailRiskAwareObjective::test_has_correct_components PASSED [ 50%]
tests/unit/gpt_trader/features/optimize/objectives/test_factories.py::TestCreateTailRiskAwareObjective::test_has_tail_risk_constraints PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_perpetuals.py::TestFundingAdjustedReturnObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_perpetuals.py::TestFundingAdjustedReturnObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_perpetuals.py::TestFundingAdjustedReturnObjective::test_feasibility PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_perpetuals.py::TestFundingEfficiencyObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_perpetuals.py::TestFundingEfficiencyObjective::test_calculate_negative_funding PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_perpetuals.py::TestFundingEfficiencyObjective::test_calculate_positive_funding PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_perpetuals.py::TestFundingEfficiencyObjective::test_calculate_negligible_funding PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_perpetuals.py::TestFundingEfficiencyObjective::test_feasibility PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestSharpeRatioObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestSharpeRatioObjective::test_calculate_none PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestSharpeRatioObjective::test_feasibility PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestTotalReturnObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestValueAtRisk95Objective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestValueAtRisk95Objective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestValueAtRisk95Objective::test_feasibility PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestValueAtRisk99Objective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestValueAtRisk99Objective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestDrawdownRecoveryObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestDrawdownRecoveryObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestDrawdownRecoveryObjective::test_feasibility_with_duration_constraint PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestDownsideVolatilityObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestDownsideVolatilityObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestTailRiskAdjustedReturnObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestTailRiskAdjustedReturnObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestTailRiskAdjustedReturnObjective::test_calculate_zero_var PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestStreakConsistencyObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestStreakConsistencyObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestStreakConsistencyObjective::test_feasibility_with_streak_constraint PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestCostAdjustedReturnObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestCostAdjustedReturnObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestExecutionQualityObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestExecutionQualityObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestTimeEfficiencyObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestTimeEfficiencyObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestTimeEfficiencyObjective::test_calculate_low_exposure PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestHoldDurationObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestHoldDurationObjective::test_calculate_at_target PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestHoldDurationObjective::test_calculate_deviation PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestLeverageAdjustedReturnObjective::test_properties PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestLeverageAdjustedReturnObjective::test_calculate PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/objectives/test_single.py::TestLeverageAdjustedReturnObjective::test_calculate_no_leverage PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/parameter_space/test_builder.py::TestParameterSpaceBuilder::test_build_empty PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/parameter_space/test_builder.py::TestParameterSpaceBuilder::test_add_integer PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/parameter_space/test_builder.py::TestParameterSpaceBuilder::test_add_float PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/parameter_space/test_builder.py::TestParameterSpaceBuilder::test_add_categorical PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/parameter_space/test_builder.py::TestParameterSpaceBuilder::test_with_defaults PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_run_to_dict_serializes_datetimes_and_config PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_run_from_dict_returns_config_dict_and_no_trials PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_serialize_config_accepts_dict_and_config PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_serialize_trial_with_missing_metrics PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_serialize_trial_with_partial_metrics PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_serialize_trial_with_full_metrics PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_storage_save_run_writes_results_file PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_storage_load_run_missing_and_invalid_json PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/persistence/test_storage_edges.py::test_storage_list_runs_sorted_by_started_at PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/runner/test_batch_runner.py::TestBatchBacktestRunner::test_run_trial PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/study/test_manager.py::TestOptimizationStudyManager::test_create_study PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/study/test_manager.py::TestOptimizationStudyManager::test_suggest_parameters PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/test_optimization_types.py::TestParameterDefinition::test_integer_validation PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/test_optimization_types.py::TestParameterDefinition::test_categorical_validation PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/test_optimization_types.py::TestParameterSpace::test_parameter_aggregation PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/test_optimization_types.py::TestOptimizationConfig::test_validation PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWalkForwardConfig::test_default_values PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWalkForwardConfig::test_custom_values PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWalkForwardConfig::test_invalid_train_months_raises PASSED [ 51%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWalkForwardConfig::test_invalid_test_months_raises PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWalkForwardConfig::test_overlap_exceeds_train_raises PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWalkForwardWindow::test_window_creation PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWalkForwardWindow::test_train_days_property PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWalkForwardWindow::test_test_days_property PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestAddMonths::test_add_months_simple PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestAddMonths::test_add_months_cross_year PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestAddMonths::test_add_months_day_overflow PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestAddMonths::test_add_twelve_months PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestMonthsBetween::test_one_month PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestMonthsBetween::test_six_months PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestMonthsBetween::test_twelve_months PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestGenerateWindows::test_basic_rolling_window PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestGenerateWindows::test_anchored_window PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestGenerateWindows::test_window_continuity PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestGenerateWindows::test_insufficient_data_raises PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestGenerateWindows::test_exactly_one_window PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestGenerateWindows::test_window_ids_sequential PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestGenerateWindows::test_test_follows_train PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWindowResult::test_valid_result PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestWindowResult::test_invalid_result_with_errors PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestEdgeCases::test_large_train_window PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestEdgeCases::test_large_test_window PASSED [ 52%]
tests/unit/gpt_trader/features/optimize/test_walk_forward.py::TestEdgeCases::test_windows_dont_exceed_end_date PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_data_loader_edges.py::test_load_symbol_filters_invalid_and_truncates PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_data_loader_edges.py::test_load_symbol_include_gates_and_market_data PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_data_loader_edges.py::test_build_depth_snapshot_valid_and_invalid PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_data_loader_edges.py::test_historical_data_point_has_market_data PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_metrics_edges.py::test_from_result_with_empty_equity_curve_returns_zeroed_metrics PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_metrics_edges.py::test_calculate_drawdown_reports_max_and_duration PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_metrics_edges.py::test_calculate_trade_pnls_pairs_and_skips_mismatches PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_metrics_edges.py::test_calculate_profit_factor_edges PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_simulator_edges.py::test_run_empty_data_points_returns_defaults PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_simulator_edges.py::test_calculate_fill_price_uses_spread_slippage PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_simulator_edges.py::test_run_buy_then_hold_closes_at_end PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_simulator_edges.py::test_tiered_fees_default PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_simulator_edges.py::test_funding_accrual_and_settlement PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_simulator_order_lifecycle.py::test_pending_order_fills_after_delay PASSED [ 52%]
tests/unit/gpt_trader/features/research/backtesting/test_simulator_order_lifecycle.py::test_cancel_pending_order_on_close PASSED [ 52%]
tests/unit/gpt_trader/features/research/test_research_import.py::TestResearchModuleImport::test_all_exports_importable PASSED [ 52%]
tests/unit/gpt_trader/features/research/test_research_import.py::TestResearchModuleImport::test_module_has_docstring PASSED [ 52%]
tests/unit/gpt_trader/features/research/test_research_import.py::TestHistoricalDataPoint::test_data_point_is_class PASSED [ 52%]
tests/unit/gpt_trader/features/research/test_research_import.py::TestBacktestSimulator::test_simulator_is_class PASSED [ 52%]
tests/unit/gpt_trader/features/research/test_research_import.py::TestPerformanceMetrics::test_metrics_is_class PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_register PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_get PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_get_nonexistent PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_list_strategies PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_activate PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_activate_replaces_previous PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_remove PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_remove_active PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_compare PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_search PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_summary PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_len PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_contains PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_iter PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_callback PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_registry.py::TestStrategyRegistry::test_validation_on_register PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestSignalConfig::test_create_signal PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestSignalConfig::test_to_from_dict PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestRiskConfig::test_defaults PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestRiskConfig::test_custom_values PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestRegimeConfig::test_defaults PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestRegimeConfig::test_custom_factors PASSED [ 52%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestStrategyProfile::test_create_profile PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestStrategyProfile::test_config_hash PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestStrategyProfile::test_get_signal_weights PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestStrategyProfile::test_get_regime_scale PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestStrategyProfile::test_should_trade_in_regime PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestStrategyProfile::test_clone PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestStrategyProfile::test_validate PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/config/test_strategy_profile.py::TestStrategyProfile::test_to_from_dict PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperimentResult::test_create_result PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperimentResult::test_to_dict PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperimentResult::test_from_dict PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperimentResult::test_compare_to PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperiment::test_create_experiment PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperiment::test_parameter_hash PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperiment::test_lifecycle PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperiment::test_fail PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperiment::test_clone PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_experiment.py::TestExperiment::test_to_from_dict PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterRange::test_discrete_values PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterRange::test_range_values PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterRange::test_sample PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterRange::test_requires_values_or_range PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_add_parameter PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_iteration PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_len PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_constraints PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_sample PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_latin_hypercube_sample PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_summary PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_from_parameter_dict PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestParameterGrid::test_to_from_dict PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestCommonGrids::test_create_common_grids PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestCommonGrids::test_moving_average_constraint PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/lab/test_parameter_grid.py::TestCommonGrids::test_rsi_constraint PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertRule::test_drawdown_rule PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertRule::test_volatility_rule PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertRule::test_regime_change_rule PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertRule::test_cooldown PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertRule::test_custom_rule PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertRule::test_disabled_rule PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertManager::test_add_rule PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertManager::test_remove_rule PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertManager::test_process_snapshot PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertManager::test_callback PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertManager::test_history PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertManager::test_get_alert_summary PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestAlertManager::test_clear_history PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestDefaultAlerts::test_create_default_alerts PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_alerts.py::TestDefaultAlerts::test_default_severities PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestPerformanceSnapshot::test_create_snapshot PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestPerformanceSnapshot::test_to_dict PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestTradeRecord::test_open_trade PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestTradeRecord::test_closed_trade PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestMetricsAggregator::test_record_snapshot PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestMetricsAggregator::test_drawdown_calculation PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestMetricsAggregator::test_sharpe_ratio PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestMetricsAggregator::test_trade_statistics PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestMetricsAggregator::test_regime_performance PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestMetricsAggregator::test_summary PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_dev/monitor/test_metrics.py::TestMetricsAggregator::test_reset PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_tools/test_market_condition_filters_edges.py::test_long_entry_gates_reject[filters_kwargs0-snapshot0-Spread too wide] PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_tools/test_market_condition_filters_edges.py::test_long_entry_gates_reject[filters_kwargs1-snapshot1-L1 depth insufficient] PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_tools/test_market_condition_filters_edges.py::test_long_entry_gates_reject[filters_kwargs2-snapshot2-L10 depth insufficient] PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_tools/test_market_condition_filters_edges.py::test_long_entry_gates_reject[filters_kwargs3-snapshot3-1m volume too low] PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_tools/test_market_condition_filters_edges.py::test_long_entry_gates_reject[filters_kwargs4-snapshot4-5m volume too low] PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_tools/test_market_condition_filters_edges.py::test_rsi_confirmation_rejects_long_overbought PASSED [ 53%]
tests/unit/gpt_trader/features/strategy_tools/test_market_condition_filters_edges.py::test_rsi_confirmation_rejects_short_oversold PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_market_condition_filters_edges.py::test_short_entry_surfaces_long_gate_reason PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_risk_guards_edges.py::test_liquidation_guard_disabled PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_risk_guards_edges.py::test_liquidation_guard_fails_on_tight_buffer PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_risk_guards_edges.py::test_liquidation_guard_passes_on_safe_buffer PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_risk_guards_edges.py::test_slippage_guard_disabled PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_risk_guards_edges.py::test_slippage_guard_missing_depth PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_risk_guards_edges.py::test_slippage_guard_rejects_order_larger_than_l10 PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_risk_guards_edges.py::test_slippage_guard_allows_l1_size PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_risk_guards_edges.py::test_slippage_guard_rejects_large_impact_between_l1_and_l10 PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_enhancements_edges.py::test_calculate_rsi_returns_none_when_too_short PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_enhancements_edges.py::test_calculate_rsi_returns_100_when_avg_loss_zero PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_enhancements_edges.py::test_calculate_rsi_period_override_midpoint PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_enhancements_edges.py::test_should_confirm_ma_crossover_disabled PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_enhancements_edges.py::test_should_confirm_ma_crossover_insufficient_data PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_enhancements_edges.py::test_should_confirm_ma_crossover_buy_sell_rejections PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_enhancements_edges.py::test_should_confirm_ma_crossover_unknown_signal PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_tools_import.py::TestStrategyToolsModuleImport::test_all_exports_importable PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_tools_import.py::TestMarketConditionFilters::test_filters_class_exists PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_tools_import.py::TestRiskGuards::test_guards_class_exists PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_tools_import.py::TestStrategyEnhancements::test_enhancements_class_exists PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_tools_import.py::TestFactoryFunctions::test_create_conservative_filters_callable PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_tools_import.py::TestFactoryFunctions::test_create_aggressive_filters_callable PASSED [ 54%]
tests/unit/gpt_trader/features/strategy_tools/test_strategy_tools_import.py::TestFactoryFunctions::test_create_standard_risk_guards_callable PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestFailureScriptFromOutcomes::test_from_outcomes_builds_from_varargs PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestFailureScriptFromOutcomes::test_from_outcomes_with_loop PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestFailureScriptFromOutcomes::test_from_outcomes_empty PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestFailureScriptCallCount::test_call_count_starts_at_zero PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestFailureScriptCallCount::test_call_count_increments PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestFailureScriptCallCount::test_call_count_reset PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestFailureScriptExhaustion::test_exhausted_raises_stop_iteration PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestFailureScriptExhaustion::test_loop_prevents_exhaustion PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestInjectingBrokerCallCount::test_get_call_count_tracks_calls PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestInjectingBrokerCallCount::test_get_call_count_zero_for_uncalled PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestCountingSleep::test_counting_sleep_records_durations PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestCountingSleep::test_counting_sleep_returns_copy PASSED [ 54%]
tests/unit/gpt_trader/fixtures/test_failure_injection.py::TestNoOpSleep::test_no_op_sleep_does_nothing PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_generate_correlation_id PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_set_get_correlation_id PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_domain_context PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_get_log_context PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_correlation_context_manager PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_correlation_context_without_id PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_symbol_context_manager PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_order_context_manager PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation.py::test_nested_context_managers PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation_edges.py::test_correlation_context_nested_restores_prior_values PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation_edges.py::test_set_correlation_id_and_domain_context_handle_none PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation_edges.py::test_get_log_context_returns_copy PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation_edges.py::test_reset_correlation_context_autouse_starts_clean PASSED [ 54%]
tests/unit/gpt_trader/logging/test_correlation_edges.py::test_reset_correlation_context_autouse_clears_between_tests PASSED [ 54%]
tests/unit/gpt_trader/logging/test_json_formatter.py::test_structured_json_formatter_basic PASSED [ 54%]
tests/unit/gpt_trader/logging/test_json_formatter.py::test_structured_json_formatter_with_correlation PASSED [ 54%]
tests/unit/gpt_trader/logging/test_json_formatter.py::test_structured_json_formatter_with_extra PASSED [ 54%]
tests/unit/gpt_trader/logging/test_json_formatter.py::test_structured_json_formatter_with_exception PASSED [ 54%]
tests/unit/gpt_trader/logging/test_json_formatter.py::test_decimal_encoder PASSED [ 54%]
tests/unit/gpt_trader/logging/test_json_formatter.py::test_structured_json_formatter_with_timestamp PASSED [ 54%]
tests/unit/gpt_trader/logging/test_json_formatter.py::test_structured_json_formatter_context_attributes PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_get_runtime_logger PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_log_trading_operation PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_log_order_event PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_log_strategy_decision PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_log_execution_error PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_log_risk_event PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_log_market_data_update PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_with_trading_context_decorator PASSED [ 54%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_with_symbol_context_decorator PASSED [ 55%]
tests/unit/gpt_trader/logging/test_runtime_helpers.py::test_with_order_context_decorator PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestEnvFlag::test_env_flag_true_values PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestEnvFlag::test_env_flag_false_values PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestEnvFlag::test_env_flag_default_value PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestEnvFlag::test_env_flag_with_whitespace PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_creates_directories PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_creates_console_handler PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_creates_file_handlers PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_sets_root_level PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_creates_json_logger PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_json_handlers PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_respects_env_log_dir PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_respects_max_bytes_env PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_respects_backup_count_env PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_enables_debug_with_env PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_idempotent PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_critical_handler_level PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_handler_formatters PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_tui_mode_suppresses_stream_handler PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_cli_mode_creates_stream_handler PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestConfigureLogging::test_configure_logging_file_handlers_present_in_both_modes PASSED [ 55%]
tests/unit/gpt_trader/logging/test_setup.py::TestLoggingIntegration::test_logging_works_after_configuration PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_detector_edges.py::test_configuration_issue_serialization_and_repr PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_detector_edges.py::test_detector_returns_empty_when_no_validators_fail PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_detector_edges.py::test_detector_continues_when_validator_raises PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_detector_edges.py::test_response_payload_includes_required_fields PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_drift_detector_edges.py::test_drift_summary_empty_and_state_mirror PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_drift_detector_edges.py::test_record_drift_events_logs_only_when_non_empty PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_drift_detector_edges.py::test_drift_summary_counts_and_last_event_fields PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_environment_monitor_edges.py::test_critical_env_change_emits_shutdown_event PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_environment_monitor_edges.py::test_risk_env_change_emits_reduce_only_event PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_environment_monitor_edges.py::test_monitor_env_change_emits_sticky_event PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_environment_monitor_edges.py::test_last_state_updates_after_check PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_environment_monitor_edges.py::test_capture_state_redacts_sensitive_env_vars PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_guardian_edges.py::test_monitor_exception_logged_and_other_monitors_continue PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_guardian_edges.py::test_check_records_events_only_when_present PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_guardian_edges.py::test_reset_baseline_updates_monitors_and_logs_user PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_guardian_edges.py::test_get_state_includes_baseline_monitor_count_and_summary PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_state_validator_edges.py::test_calculate_current_leverage_zero_when_equity_missing_or_nonpositive PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_state_validator_edges.py::test_remove_symbol_with_active_position_emits_event PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_state_validator_edges.py::test_leverage_violation_emits_event PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_state_validator_edges.py::test_position_size_violation_emits_event PASSED [ 55%]
tests/unit/gpt_trader/monitoring/configuration_guardian/test_state_validator_edges.py::test_profile_change_emits_event PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_returns_zero_equity_when_missing PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_extracts_equity_from_account PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_accumulates_realized_pnl_from_events PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_uses_last_unrealized_pnl PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_accumulates_funding_payments PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_accumulates_fees_from_fills PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_calculates_total_pnl PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_calculates_equity_change PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_calculates_equity_change_pct PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculatePnlMetrics::test_equity_change_pct_zero_when_no_prev_equity PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_empty_events PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_counts_winning_trades PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_calculates_win_rate PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_calculates_avg_win_loss PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_calculates_largest_win_loss PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_calculates_profit_factor PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_profit_factor_zero_when_no_losses PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_calculates_sharpe_ratio PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_sharpe_ratio_zero_with_single_trade PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_calculates_max_drawdown PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_calculates_max_drawdown_pct PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateTradeMetrics::test_ignores_non_fill_events PASSED [ 55%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_empty_events PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_skips_events_without_symbol PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_groups_by_symbol PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_calculates_symbol_realized_pnl PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_tracks_unrealized_pnl PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_accumulates_funding_pnl PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_calculates_total_pnl PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_counts_trades PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_calculates_win_rate PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_calculates_avg_win_loss PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_calculates_profit_factor PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_tracks_regime PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateSymbolMetrics::test_tracks_exposure_from_position_update PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateRiskMetrics::test_empty_events PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateRiskMetrics::test_counts_guard_triggers PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateRiskMetrics::test_handles_unknown_guard PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateRiskMetrics::test_tracks_circuit_breaker_state PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateHealthMetrics::test_empty_events PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateHealthMetrics::test_counts_stale_marks PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateHealthMetrics::test_counts_ws_reconnects PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateHealthMetrics::test_counts_unfilled_orders PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateHealthMetrics::test_counts_api_errors PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_analytics.py::TestCalculateHealthMetrics::test_counts_all_types PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_generator_edges.py::test_generate_uses_expected_files_and_cutoff PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_generator_edges.py::test_save_report_writes_json_and_text PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_loaders_edges.py::test_load_metrics_missing_file_returns_empty PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_loaders_edges.py::test_load_metrics_invalid_json_returns_empty PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_loaders_edges.py::test_load_events_since_skips_invalid_entries PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_loaders_edges.py::test_load_events_since_filters_by_cutoff PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestSymbolPerformance::test_creation_with_required_field PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestSymbolPerformance::test_defaults PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestSymbolPerformance::test_full_creation PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReport::test_creation PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReport::test_pnl_fields PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReport::test_performance_fields PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReport::test_trade_fields PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReport::test_health_fields PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_returns_dict PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_date_and_profile PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_account_section PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_pnl_section PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_performance_section PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_trades_section PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_risk_section PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_symbols_section PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_symbol_pnl_nested PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToDict::test_health_section PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_returns_string PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_contains_header PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_contains_account_summary PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_contains_pnl_breakdown PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_contains_performance_metrics PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_contains_trade_statistics PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_contains_health_metrics PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_shows_no_guard_triggers PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_shows_guard_triggers PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_shows_circuit_breaker_ok PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_shows_circuit_breaker_state PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_contains_symbol_performance PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_no_symbol_section_when_empty PASSED [ 56%]
tests/unit/gpt_trader/monitoring/daily_report/test_models.py::TestDailyReportToText::test_symbol_with_no_regime PASSED [ 56%]
tests/unit/gpt_trader/monitoring/domain/test_margin_policy.py::test_determine_current_window_boundaries PASSED [ 56%]
tests/unit/gpt_trader/monitoring/domain/test_margin_policy.py::test_calculate_next_window_change_orders_transitions PASSED [ 56%]
tests/unit/gpt_trader/monitoring/domain/test_margin_policy.py::test_should_reduce_risk[MarginWindow.NORMAL-MarginWindow.OVERNIGHT-True] PASSED [ 56%]
tests/unit/gpt_trader/monitoring/domain/test_margin_policy.py::test_should_reduce_risk[MarginWindow.NORMAL-MarginWindow.PRE_FUNDING-True] PASSED [ 56%]
tests/unit/gpt_trader/monitoring/domain/test_margin_policy.py::test_should_reduce_risk[MarginWindow.INTRADAY-MarginWindow.NORMAL-False] PASSED [ 56%]
tests/unit/gpt_trader/monitoring/domain/test_margin_policy.py::test_should_reduce_risk[MarginWindow.OVERNIGHT-MarginWindow.NORMAL-False] PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_liquidation_price_calculation_long PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_liquidation_price_calculation_short PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_distance_calculation_long_safe PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_distance_calculation_short_safe PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_risk_assessment_safe PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_risk_assessment_warning_or_critical PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_risk_assessment_critical PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_portfolio_level_blocking PASSED [ 57%]
tests/unit/gpt_trader/monitoring/domain/test_perps_liquidation.py::TestLiquidationMonitor::test_no_position_safe PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_daily_loss_guard_resets_each_day PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_stale_mark_guard_handles_formats PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_error_rate_guard_sliding_window PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_position_stuck_guard_tracks_and_clears PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestDailyLossGuardEdgeCases::test_invalid_pnl_type_returns_no_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestDailyLossGuardEdgeCases::test_missing_pnl_uses_zero PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestDailyLossGuardEdgeCases::test_zero_threshold_returns_no_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestStaleMarkGuardEdgeCases::test_non_string_symbol_returns_no_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestStaleMarkGuardEdgeCases::test_missing_mark_timestamp_returns_no_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestStaleMarkGuardEdgeCases::test_invalid_iso_string_returns_no_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestStaleMarkGuardEdgeCases::test_non_datetime_type_returns_no_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestStaleMarkGuardEdgeCases::test_float_timestamp_converted PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestPositionStuckGuardEdgeCases::test_non_mapping_positions_returns_no_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestPositionStuckGuardEdgeCases::test_non_string_symbol_skipped PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestPositionStuckGuardEdgeCases::test_non_mapping_position_skipped PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestPositionStuckGuardEdgeCases::test_invalid_size_value_skipped PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestPositionStuckGuardEdgeCases::test_size_field_fallback PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestPositionStuckGuardEdgeCases::test_contracts_field_fallback PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestDrawdownGuardEdgeCases::test_invalid_equity_type_returns_no_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestDrawdownGuardEdgeCases::test_missing_equity_uses_zero PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestDrawdownGuardEdgeCases::test_updates_peak_equity PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestDrawdownGuardEdgeCases::test_calculates_drawdown_percent PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestDrawdownGuardEdgeCases::test_triggers_on_drawdown_breach PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestErrorRateGuardEdgeCases::test_non_error_event_does_not_add_to_times PASSED [ 57%]
tests/unit/gpt_trader/monitoring/guards/test_builtins_edge_cases.py::TestErrorRateGuardEdgeCases::test_missing_error_key_does_not_add_to_times PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_backends_edges.py::test_console_backend_handles_empty_or_nonprintable_messages[] PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_backends_edges.py::test_console_backend_handles_empty_or_nonprintable_messages[\x00\x01] PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_backends_edges.py::test_file_backend_handles_json_serialization_failure PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_backends_edges.py::test_file_backend_nested_path_without_parents_fails_cleanly PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestConsoleNotificationBackend::test_name_property PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestConsoleNotificationBackend::test_is_enabled_property PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestConsoleNotificationBackend::test_send_prints_to_console PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestConsoleNotificationBackend::test_send_filters_by_severity PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestConsoleNotificationBackend::test_test_connection_always_true PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestFileNotificationBackend::test_name_property PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestFileNotificationBackend::test_send_writes_to_file PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestFileNotificationBackend::test_test_connection_checks_writability PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestFileNotificationBackend::test_test_connection_fails_for_invalid_path PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_add_backend PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_remove_backend PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_remove_nonexistent_backend PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_notify_sends_to_backend PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_notify_filters_by_severity PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_notify_rate_limiting PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_notify_deduplication PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_notify_force_bypasses_dedup PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_notify_disabled_service PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_notify_alert PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_test_backends PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_get_status PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_multiple_backends PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestNotificationService::test_partial_backend_failure PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestCreateNotificationService::test_creates_with_console_only PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestCreateNotificationService::test_creates_with_webhook PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestCreateNotificationService::test_creates_with_file PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service.py::TestCreateNotificationService::test_respects_min_severity PASSED [ 57%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service_edges.py::test_notify_returns_false_without_backends PASSED [ 58%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service_edges.py::test_notify_returns_false_when_backends_disabled PASSED [ 58%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service_edges.py::test_notify_swallow_send_exception_single_backend PASSED [ 58%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service_edges.py::test_notify_rate_limit_resets_after_minute PASSED [ 58%]
tests/unit/gpt_trader/monitoring/notifications/test_notification_service_edges.py::test_cleanup_old_alerts_prunes_expired_entries PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherInit::test_stores_config PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherPublish::test_publishes_to_event_store PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherPublish::test_writes_snapshot PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherWriteSnapshot::test_creates_directories PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherWriteSnapshot::test_handles_write_errors PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherLogUpdate::test_logs_metrics PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherLogUpdate::test_filters_large_fields PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherLogUpdate::test_handles_log_errors PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherWriteHealthStatus::test_writes_health_status PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestMetricsPublisherWriteHealthStatus::test_writes_unhealthy_status PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_metrics.py::TestTargetDirs::test_returns_profile_specific_path PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_positions_reconciler_edges.py::test_normalize_positions_skips_missing_symbol_and_handles_quantity_errors PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_positions_reconciler_edges.py::test_calculate_diff_tracks_changed_added_removed PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_positions_reconciler_edges.py::test_fetch_positions_returns_empty_on_error PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_positions_reconciler_edges.py::test_emit_position_changes_success_calls_log_and_emit_metric PASSED [ 58%]
tests/unit/gpt_trader/monitoring/system/test_positions_reconciler_edges.py::test_emit_position_changes_logs_debug_on_failure_and_emits_metric PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityNumericLevel::test_debug_level PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityNumericLevel::test_info_level PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityNumericLevel::test_warning_level PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityNumericLevel::test_error_level PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityNumericLevel::test_critical_level PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityNumericLevel::test_levels_are_ordered PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_enum PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_numeric_10 PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_numeric_20 PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_numeric_30 PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_numeric_40 PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_numeric_50 PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_numeric_high_defaults_critical PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_numeric_low_defaults_debug PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_string_value PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_from_string_name PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_strips_whitespace PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_case_insensitive PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertSeverityCoerce::test_coerce_raises_for_unknown_string PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_minimal_creation PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_auto_generates_id PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_different_alerts_have_different_ids PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_auto_sets_created_at PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_last_seen_at_defaults_to_created_at PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_occurrences_defaults_to_1 PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_metadata_defaults_empty PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_context_defaults_empty PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_details_defaults_empty PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_resolved_at_defaults_none PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_acknowledged_defaults_false PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertCreation::test_created_at_override PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertProperties::test_id_property_returns_alert_id PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertProperties::test_timestamp_property_returns_created_at PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertTouch::test_touch_increments_occurrences PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertTouch::test_touch_updates_last_seen_at PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertTouch::test_touch_with_context_updates_context PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertTouch::test_touch_with_metadata_updates_metadata PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertTouch::test_touch_merges_context PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertToDict::test_returns_dict PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertToDict::test_includes_all_fields PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertToDict::test_serializes_datetimes_to_iso_format PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertMarkResolved::test_sets_resolved_at PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertAcknowledge::test_sets_acknowledged_flag PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertIsActive::test_active_when_not_resolved PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertIsActive::test_not_active_when_resolved PASSED [ 58%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertAgeMinutes::test_age_for_unresolved_alert PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_alert_types.py::TestAlertAgeMinutes::test_age_for_resolved_alert PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_alert_edges.py::test_handle_alert_invokes_handlers_and_tolerates_exceptions PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_alert_edges.py::test_handle_alert_auto_shutdown_only_when_enabled PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_alert_edges.py::test_handle_alert_uses_severity_mapped_logger_method PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_guard_registration_and_status_tracking PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_alert_fan_out_to_multiple_handlers PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_alert_handler_error_isolation PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_auto_shutdown_on_critical_alert PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_no_auto_shutdown_on_non_critical_alert PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_guard_cooldown_prevents_alert_spam PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_disabled_guard_does_not_check PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_multiple_guards_trigger_multiple_alerts PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestRuntimeGuardManagerE2E::test_manager_reset_clears_all_state PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestDefaultGuardManagerCreation::test_create_default_runtime_guard_manager PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestDefaultGuardManagerCreation::test_create_default_with_missing_config PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestAlertHandlers::test_log_alert_handler_formats_correctly PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestAlertHandlers::test_slack_alert_handler_success PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestAlertHandlers::test_slack_alert_handler_failure PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestAlertHandlers::test_email_alert_handler_success PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestAlertHandlers::test_email_alert_handler_non_critical_filtered PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestAlertHandlers::test_email_alert_handler_failure PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestGuardStateTransitions::test_guard_status_transitions_healthy_to_warning PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestGuardStateTransitions::test_guard_status_transitions_warning_to_breached PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestGuardStateTransitions::test_guard_status_transitions_breached_to_warning PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestGuardStateTransitions::test_position_stuck_guard_state_tracking PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestGuardStateTransitions::test_drawdown_guard_peak_tracking PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_edges.py::test_guard_manager_skips_disabled_guards PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_edges.py::test_guard_manager_catches_guard_exceptions_and_records PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_edges.py::test_guard_manager_records_execution_metrics PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_guard_manager_edges.py::test_guard_manager_empty_guard_list_no_side_effects PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckBrokerPing::test_success_with_get_time PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckBrokerPing::test_success_fallback_to_list_balances PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckBrokerPing::test_failure_on_exception PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckBrokerPing::test_high_latency_warning PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsFreshness::test_broker_without_ws_support PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsFreshness::test_ws_not_initialized PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsFreshness::test_ws_connected_and_fresh PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsFreshness::test_ws_stale_message PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsFreshness::test_ws_disconnected PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsFreshness::test_ws_max_attempts_triggered PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckDegradationState::test_normal_operation PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckDegradationState::test_global_paused PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckDegradationState::test_reduce_only_mode PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckDegradationState::test_symbol_paused PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestHealthCheckRunner::test_initialization PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestHealthCheckRunner::test_set_broker PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestHealthCheckRunner::test_set_degradation_state PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestHealthCheckRunner::test_run_checks_sync PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestHealthCheckRunner::test_start_and_stop PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestHealthCheckRunner::test_execute_checks_updates_health_state PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestHealthCheckResult::test_creation PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestHealthCheckResult::test_unhealthy_result PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestComputeExecutionHealthSignals::test_returns_health_summary PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestComputeExecutionHealthSignals::test_with_custom_thresholds PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestComputeExecutionHealthSignals::test_signal_names PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestComputeExecutionHealthSignals::test_zero_metrics_returns_ok PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestComputeExecutionHealthSignals::test_to_dict_serializable PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsStalenessSignal::test_broker_without_ws_support PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsStalenessSignal::test_ws_not_initialized PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsStalenessSignal::test_ws_fresh_messages PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsStalenessSignal::test_ws_stale_messages_warn PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsStalenessSignal::test_ws_stale_messages_crit PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_checks.py::TestCheckWsStalenessSignal::test_ws_exception_returns_unknown PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthStatus::test_enum_values PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthStatus::test_string_inheritance PASSED [ 59%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_creation PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_from_value_ok PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_from_value_warn PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_from_value_crit PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_from_value_at_warn_threshold PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_from_value_at_crit_threshold PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_from_value_lower_is_worse PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_from_value_with_details PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSignal::test_to_dict PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSummary::test_from_signals_empty PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSummary::test_from_signals_all_ok PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSummary::test_from_signals_worst_status_wins PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSummary::test_from_signals_crit_takes_precedence PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSummary::test_from_signals_multiple_crit PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthSummary::test_to_dict PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthThresholds::test_default_values PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_health_signals.py::TestHealthThresholds::test_custom_values PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceInit::test_default_values PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceInit::test_custom_values PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStart::test_start_when_disabled PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStart::test_start_creates_task PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStart::test_start_when_already_running PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStop::test_stop_when_not_running PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStop::test_stop_cancels_task PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceSendHeartbeat::test_records_to_event_store PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceSendHeartbeat::test_increments_heartbeat_count PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceSendHeartbeat::test_updates_last_heartbeat_timestamp PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceExternalPing::test_ping_external_no_url PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceExternalPing::test_ping_external_handles_import_error PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStatus::test_get_status_initial PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStatus::test_get_status_after_heartbeat PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStatus::test_is_healthy_when_not_running PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStatus::test_is_healthy_just_started PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceStatus::test_is_healthy_after_heartbeat PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceErrorHandling::test_continues_on_event_store_error PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat.py::TestHeartbeatServiceErrorHandling::test_continues_on_ping_error PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat_edges.py::test_start_disabled_does_not_schedule_task PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat_edges.py::test_stop_idempotent_clears_task PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat_edges.py::test_status_and_health_toggle_with_missed_heartbeat PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_heartbeat_edges.py::test_heartbeat_count_increments_on_send PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_memory_metrics.py::TestMemoryGaugeEmission::test_event_store_cache_gauges_emitted PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_memory_metrics.py::TestMemoryGaugeEmission::test_event_store_metrics_handles_none_store PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_memory_metrics.py::TestMemoryGaugeEmission::test_event_store_metrics_handles_missing_methods PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_memory_metrics.py::TestEventStoreCacheMetrics::test_get_cache_size PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_memory_metrics.py::TestEventStoreCacheMetrics::test_get_cache_max_size PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_memory_metrics.py::TestEventStoreCacheMetrics::test_get_cache_fill_ratio PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_memory_metrics.py::TestEventStoreCacheMetrics::test_get_cache_fill_ratio_handles_zero_max PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestFormatMetricKey::test_no_labels_returns_name_only PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestFormatMetricKey::test_single_label PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestFormatMetricKey::test_multiple_labels_sorted PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestFormatMetricKey::test_labels_stringified PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestCounters::test_record_counter_increments PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestCounters::test_record_counter_with_labels PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestCounters::test_counter_backward_compatible PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestGauges::test_record_gauge_sets_value PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestGauges::test_record_gauge_overwrites PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestGauges::test_record_gauge_with_labels PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestHistograms::test_record_histogram_basic PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestHistograms::test_record_histogram_with_labels PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestHistograms::test_histogram_buckets PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestHistograms::test_histogram_custom_buckets PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestHistogramData::test_to_dict_format PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestHistogramData::test_mean_with_no_data PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestMetricsSummary::test_summary_shape PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestMetricsSummary::test_summary_includes_all_metrics PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector.py::TestResetAll::test_reset_clears_all PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector_edges.py::test_format_metric_key_stringifies_non_string_labels PASSED [ 60%]
tests/unit/gpt_trader/monitoring/test_metrics_collector_edges.py::test_record_histogram_uses_configured_buckets PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_collector_edges.py::test_record_histogram_with_labels_uses_configured_buckets PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_collector_edges.py::test_metrics_summary_includes_labeled_histograms_and_iso_timestamp PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestParseMetricKey::test_no_labels PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestParseMetricKey::test_single_label PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestParseMetricKey::test_multiple_labels PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatLabels::test_empty_labels PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatLabels::test_single_label PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatLabels::test_multiple_labels_sorted PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatPrometheus::test_empty_summary PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatPrometheus::test_counter_formatting PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatPrometheus::test_gauge_formatting PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatPrometheus::test_histogram_formatting PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatPrometheus::test_combined_metrics PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatPrometheus::test_trailing_newline PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_metrics_exporter.py::TestFormatPrometheus::test_metric_without_labels PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestProfileSample::test_profile_sample_creation PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestProfileSample::test_profile_sample_with_labels PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestProfileSample::test_profile_sample_to_dict PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestRecordProfile::test_record_profile_calls_histogram PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestRecordProfile::test_record_profile_with_labels PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestProfileSpan::test_profile_span_records_duration PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestProfileSpan::test_profile_span_with_labels PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestProfileSpan::test_profile_span_tolerates_exceptions PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestProfileSpan::test_profile_span_updates_sample_timestamp PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_profiling.py::TestProfileSpan::test_profile_span_measures_duration PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_resource_metrics_edges.py::test_collect_process_metrics_missing_psutil_returns_na PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_resource_metrics_edges.py::test_collect_process_metrics_handles_read_errors PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_resource_metrics_edges.py::test_collect_process_metrics_formats_memory_bounds[0.0-0.0MB] PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_resource_metrics_edges.py::test_collect_process_metrics_formats_memory_bounds[1073741824.0-1024.0MB] PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_resource_metrics_edges.py::test_collect_process_metrics_invalid_cpu_percent_falls_back PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_resource_metrics_edges.py::test_collect_process_metrics_invalid_memory_value_falls_back PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_runtime_guards_base.py::test_runtime_guard_triggers_generic_breach PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_runtime_guards_base.py::test_runtime_guard_warning_before_breach PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_runtime_guards_base.py::test_runtime_guard_less_than_comparison PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_runtime_guards_base.py::test_runtime_guard_absolute_comparison PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestBotStatusDataclass::test_default_values PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestBotStatusDataclass::test_engine_status_defaults PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestBotStatusDataclass::test_market_status_defaults PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestBotStatusDataclass::test_position_status_defaults PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterInit::test_default_values PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterInit::test_custom_values PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStart::test_start_when_disabled PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStart::test_start_creates_task PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStart::test_start_writes_initial_status PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStart::test_start_creates_directory PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStop::test_stop_when_not_running PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStop::test_stop_cancels_task PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterUpdates::test_record_cycle PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterUpdates::test_record_error PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterUpdates::test_update_price PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterUpdates::test_update_positions PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterUpdates::test_set_heartbeat_service PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterHealth::test_healthy_status PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterHealth::test_unhealthy_recent_error PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterHealth::test_unhealthy_stale_prices PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterFileOutput::test_writes_valid_json PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterFileOutput::test_handles_decimal_serialization PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterFileOutput::test_atomic_write PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterIntegration::test_full_status_lifecycle PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStrategyPerformance::test_update_strategy_performance_sets_performance PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStrategyPerformance::test_update_strategy_performance_sets_backtest PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterStrategyPerformance::test_update_strategy_performance_sets_both PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterMetrics::test_update_equity_records_gauge PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterMetrics::test_update_ws_health_records_gap_gauge PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter.py::TestStatusReporterMetrics::test_equity_gauge_updates_on_change PASSED [ 61%]
tests/unit/gpt_trader/monitoring/test_status_reporter_edges.py::test_update_positions_coerces_invalid_and_skips_non_dict PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_edges.py::test_update_orders_invalid_fields_use_defaults PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_edges.py::test_update_account_skips_zero_or_invalid_balances PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_edges.py::test_update_strategy_generates_decision_id_and_handles_invalid_timestamp PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_edges.py::test_update_equity_swallows_record_gauge_exceptions PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_io_edges.py::test_write_status_creates_directories_and_writes_json PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_io_edges.py::test_decimal_encoder_handles_nested_decimals PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_io_edges.py::test_write_status_handles_write_errors PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_io_edges.py::test_serialize_status_includes_expected_keys PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_limits_edges.py::test_add_trade_caps_recent_trades PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_limits_edges.py::test_update_strategy_caps_decisions PASSED [ 62%]
tests/unit/gpt_trader/monitoring/test_status_reporter_limits_edges.py::test_update_account_accepts_object_balances_and_coerces_invalid PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_manager_edges.py::test_create_request_sets_pending_and_uses_window PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_manager_edges.py::test_approve_request_rejects_same_user_and_allows_different_user PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_manager_edges.py::test_mark_applied_only_succeeds_from_approved PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_manager_edges.py::test_get_pending_requests_marks_expired PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_manager_edges.py::test_requires_approval_filters_critical_fields PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_manager_edges.py::test_log_config_delta_emits_metric_payload PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_models_edges.py::test_config_change_stringify_serializable_and_fallback PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_models_edges.py::test_approval_request_is_expired_only_when_pending PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_models_edges.py::test_approval_request_mark_expired_respects_status PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_models_edges.py::test_approval_request_requires_approval_only_when_pending PASSED [ 62%]
tests/unit/gpt_trader/monitoring/two_person_rule/test_models_edges.py::test_approval_request_to_dict_includes_fields_and_nones PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestInitTracing::test_disabled_tracing_returns_false PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestInitTracing::test_without_otel_returns_false PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestInitTracing::test_with_otel_returns_true SKIPPED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestInitTracing::test_init_with_endpoint SKIPPED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestTraceSpan::test_disabled_tracing_yields_none PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestTraceSpan::test_disabled_tracing_executes_block PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestTraceSpan::test_enabled_tracing_yields_span SKIPPED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestTraceSpan::test_span_receives_attributes SKIPPED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestTraceSpan::test_correlation_context_attached SKIPPED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestGetTracer::test_returns_none_when_disabled PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestGetTracer::test_returns_tracer_when_enabled SKIPPED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestShutdownTracing::test_shutdown_when_disabled PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestShutdownTracing::test_shutdown_clears_state SKIPPED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestIsTracingEnabled::test_false_by_default PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestIsTracingEnabled::test_false_when_explicitly_disabled PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing.py::TestIsTracingEnabled::test_true_when_enabled SKIPPED [ 62%]
tests/unit/gpt_trader/observability/test_tracing_edges.py::test_trace_span_stringifies_context_and_merges_attributes PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing_edges.py::test_init_tracing_disabled_clears_tracer PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing_edges.py::test_failed_init_when_otel_missing_disables_tracing PASSED [ 62%]
tests/unit/gpt_trader/observability/test_tracing_edges.py::test_trace_span_yields_none_when_disabled PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_database_engine_edges.py::test_write_event_json_failure_returns_fail PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_database_engine_edges.py::test_write_event_json_failure_raises PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_database_engine_edges.py::test_write_event_sqlite_error_returns_fail PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_database_engine_edges.py::test_write_event_sqlite_error_raises PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestWriteResult::test_ok_result PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestWriteResult::test_fail_result PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestChecksum::test_compute_checksum_bytes PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestChecksum::test_compute_checksum_string PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestChecksum::test_compute_checksum_dict PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestChecksum::test_verify_checksum_valid PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestChecksum::test_verify_checksum_invalid PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestAtomicFileWrite::test_atomic_write_file_bytes PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestAtomicFileWrite::test_atomic_write_file_string PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestAtomicFileWrite::test_atomic_write_file_creates_directories PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestAtomicFileWrite::test_atomic_write_file_overwrites PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestAtomicFileWrite::test_atomic_write_json PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestAtomicFileWrite::test_atomic_write_json_with_checksum PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestReadJsonWithChecksum::test_read_valid_json_with_checksum PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestReadJsonWithChecksum::test_read_json_without_checksum PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestReadJsonWithChecksum::test_read_corrupted_json_detects_mismatch PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestReadJsonWithChecksum::test_read_invalid_json_raises_error PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestSqliteIntegrity::test_check_integrity_valid_database PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestSqliteIntegrity::test_check_integrity_nonexistent_database PASSED [ 62%]
tests/unit/gpt_trader/persistence/test_durability.py::TestSqliteIntegrity::test_check_integrity_corrupted_file PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_event_store_init_default_path PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_event_store_init_custom_path PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_append_adds_to_memory PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_append_trade PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_append_trade_dict_only PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_append_position PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_append_metric PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_append_error_without_context PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_append_error_with_context PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStore::test_store_event_alias PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStorePruning::test_prune_memory_only_is_noop PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStorePruning::test_prune_persistent_removes_oldest PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStorePruning::test_prune_when_under_limit_is_noop PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store.py::TestEventStorePruning::test_prune_with_zero_max_rows PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store_edges.py::test_get_recent_limits_and_zero PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store_edges.py::test_cache_metrics_zero_size_discards PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store_edges.py::test_store_wraps_non_dict_payload PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store_edges.py::test_append_error_prefers_message_and_context PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store_edges.py::test_persistent_mode_extracts_nested_bot_id PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store_edges.py::test_get_recent_by_type_in_memory PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_event_store_edges.py::test_get_recent_by_type_persistent PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderRecord::test_to_dict_and_from_dict PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderRecord::test_compute_checksum_deterministic PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderRecord::test_compute_checksum_changes_with_critical_fields PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderRecord::test_is_terminal_pending PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderRecord::test_is_terminal_open PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderRecord::test_is_terminal_filled PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderRecord::test_is_terminal_cancelled PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_initialize_creates_database PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_save_and_get_order PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_get_order_not_found PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_save_order_upsert PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_upsert_by_client_id_updates_order_id PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_get_pending_orders PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_get_pending_orders_by_bot PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_get_orders_by_symbol PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_update_status PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_verify_integrity_valid PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_cleanup_old_orders PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrdersStore::test_context_manager PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderStatus::test_status_values PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store.py::TestOrderStatus::test_status_from_string PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store_edges.py::test_get_pending_orders_includes_partially_filled PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store_edges.py::test_get_orders_by_symbol_include_terminal PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store_edges.py::test_update_status_status_only_preserves_fill_fields PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store_edges.py::test_update_status_filled_quantity_only PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store_edges.py::test_verify_integrity_detects_checksum_mismatch PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store_edges.py::test_cleanup_old_orders_deletes_terminal PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store_edges.py::test_save_order_sqlite_error_returns_fail PASSED [ 63%]
tests/unit/gpt_trader/persistence/test_orders_store_edges.py::test_save_order_sqlite_error_raises PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_skips_when_remote_checks_bypassed PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_fails_when_client_build_fails PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_fails_on_jwt_generation_error PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_passes_with_successful_api_calls PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_warns_on_empty_response PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_fails_on_api_error PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_fails_when_no_perps_found PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_logs_perp_count_when_found PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_logs_perp_names_when_verbose PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckApiConnectivity::test_prints_section_header PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_skips_when_remote_checks_bypassed PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_fails_when_client_build_fails PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_passes_with_full_permissions PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_fails_without_trade_permission_when_derivatives_enabled PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_fails_without_view_permission PASSED [ 63%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_passes_with_view_only_key_when_derivatives_disabled PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_warns_when_portfolio_uuid_missing PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_passes_intx_check_when_derivatives_enabled PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_fails_intx_check_when_wrong_portfolio_type PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_logs_intx_available_when_disabled PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_retries_on_transient_errors PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_fails_after_max_retries PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_fails_on_non_transient_error PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_fails_on_empty_permissions_response PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_connectivity.py::TestCheckKeyPermissions::test_prints_section_header PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_dependencies.py::TestCheckDependencies::test_passes_when_all_packages_available PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_dependencies.py::TestCheckDependencies::test_fails_when_package_missing PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_dependencies.py::TestCheckDependencies::test_logs_found_packages_when_verbose PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_dependencies.py::TestCheckDependencies::test_prints_section_header PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_dependencies.py::TestCheckDependencies::test_checks_gpt_trader_package PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_dependencies.py::TestCheckDependencies::test_checks_cryptography_package PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestCheckPretradeDiagnostics::test_skips_when_remote_checks_bypassed PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestCheckPretradeDiagnostics::test_fails_when_client_build_fails PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestCheckPretradeDiagnostics::test_warn_only_returns_true_when_client_build_fails PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestApiHealthCheck::test_triggers_on_api_degradation[open_breaker] PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestApiHealthCheck::test_triggers_on_api_degradation[high_error_rate] PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestApiHealthCheck::test_triggers_on_api_degradation[high_rate_limit] PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestApiHealthCheck::test_skips_without_resilience_status PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestBrokerReadinessCheck::test_fails_on_empty_data[empty_accounts] PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestBrokerReadinessCheck::test_fails_on_empty_data[empty_products] PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestBrokerReadinessCheck::test_fails_on_invalid_product_specs PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestMarketDataCheck::test_fails_on_bad_ticker[missing_ticker] PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestMarketDataCheck::test_fails_on_bad_ticker[invalid_price] PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestMarketDataCheck::test_passes_with_valid_ticker PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestWarnOnlyMode::test_warn_only_converts_errors_to_warnings PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestWarnOnlyMode::test_warn_only_returns_true_on_failure PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_diagnostics.py::TestSectionHeader::test_prints_section_header PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_passes_with_correct_prod_config PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_fails_with_wrong_broker PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_fails_with_sandbox_in_prod PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_warns_with_wrong_config_in_dev PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_validates_cdp_api_key_format PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_validates_private_key_format PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_warns_about_missing_credentials_in_dev PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_validates_risk_variables_in_range PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_warns_about_out_of_range_risk_variables PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_fails_on_invalid_risk_variable_format PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_warns_about_missing_risk_variables PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_environment.py::TestCheckEnvironmentVariables::test_prints_section_header PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_passes_when_profile_exists_and_valid PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_passes_with_canary_profile_correct_settings PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_warns_when_canary_has_wrong_values PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_fails_when_yaml_parse_fails PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_warns_when_profile_not_found PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_shows_canary_defaults_when_missing PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_shows_prod_warning_when_missing PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_prints_section_header PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_profile.py::TestCheckProfileConfiguration::test_handles_nested_key_access_for_canary PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_passes_with_valid_config PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_fails_with_unsafe_leverage PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_fails_with_zero_daily_loss_limit PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_fails_with_low_liquidation_buffer PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_fails_with_excessive_position_size PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_fails_with_slippage_guard_out_of_range PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_warns_when_kill_switch_enabled PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_warns_when_reduce_only_mode PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_warns_on_high_daily_loss_limit PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_warns_on_aggressive_leverage PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_fails_on_exception PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_risk.py::TestCheckRiskConfiguration::test_prints_section_header PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_simulation.py::TestSimulateDryRun::test_passes_when_simulation_succeeds PASSED [ 64%]
tests/unit/gpt_trader/preflight/test_checks_simulation.py::TestSimulateDryRun::test_passes_when_engine_is_none PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_simulation.py::TestSimulateDryRun::test_fails_on_config_error PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_simulation.py::TestSimulateDryRun::test_fails_on_container_error PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_simulation.py::TestSimulateDryRun::test_fails_on_bot_creation_error PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_simulation.py::TestSimulateDryRun::test_uses_correct_config_params PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_simulation.py::TestSimulateDryRun::test_prints_section_header PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_simulation.py::TestSimulateDryRun::test_logs_profile_info_when_verbose PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckPythonVersion::test_passes_on_python_312_or_higher PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckPythonVersion::test_passes_on_current_python PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckPythonVersion::test_logs_python_version PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckPythonVersion::test_version_check_logic PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckPythonVersion::test_prints_section_header PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckDiskSpace::test_passes_with_plenty_of_space PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckDiskSpace::test_warns_with_low_space PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckDiskSpace::test_fails_with_critical_space PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckDiskSpace::test_handles_exception PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckSystemTime::test_passes_with_reasonable_time_no_credentials PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckSystemTime::test_fails_with_unreasonable_time PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckSystemTime::test_handles_exception PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_system.py::TestCheckSystemTime::test_prints_section_header PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_passes_when_all_tests_pass PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_fails_when_tests_fail PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_fails_when_no_passed_in_output PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_fails_on_timeout PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_fails_on_exception PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_shows_output_when_verbose PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_prints_section_header PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_parses_passed_count_correctly PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_checks_test_suite.py::TestCheckTestSuite::test_handles_passed_without_count PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestHeader::test_prints_header_with_profile PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestHeader::test_prints_timestamp PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestHeader::test_prints_separators PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_returns_zero_on_success PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_returns_one_on_failure PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_passes_verbose_flag PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_passes_profile_flag PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_uses_canary_profile_by_default PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_runs_all_check_functions PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_handles_check_exception_gracefully PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_calls_header_with_profile PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_cli.py::TestMain::test_short_flags_work PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestColors::test_colors_are_ansi_escape_sequences PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestColors::test_reset_terminates_formatting PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextInit::test_default_initialization PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextInit::test_custom_initialization PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextInit::test_lists_are_independent PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextLogging::test_log_success_appends_to_list PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextLogging::test_log_warning_appends_to_list PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextLogging::test_log_error_appends_to_list PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextLogging::test_log_info_only_prints_when_verbose PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextLogging::test_section_header_prints_formatted PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextCredentials::test_resolve_cdp_credentials_from_prod_env PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextCredentials::test_resolve_cdp_credentials_fallback PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextCredentials::test_resolve_cdp_credentials_returns_none_when_missing PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextCredentials::test_has_real_cdp_credentials_valid PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextCredentials::test_has_real_cdp_credentials_invalid_key_format PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextCredentials::test_has_real_cdp_credentials_invalid_private_key_format PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextCredentials::test_has_real_cdp_credentials_missing PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextSkipRemoteChecks::test_force_remote_overrides_skip PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextSkipRemoteChecks::test_skip_remote_env_var PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextSkipRemoteChecks::test_dev_profile_without_credentials_skips PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextSkipRemoteChecks::test_prod_profile_without_credentials_does_not_skip PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextEnvDefaults::test_dev_profile_defaults PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextEnvDefaults::test_prod_profile_defaults PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_context.py::TestPreflightContextEnvDefaults::test_canary_profile_uses_prod_defaults PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckInit::test_default_initialization PASSED [ 65%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckInit::test_custom_initialization PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckCompatibilityMirrors::test_errors_mirrors_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckCompatibilityMirrors::test_warnings_mirrors_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckCompatibilityMirrors::test_successes_mirrors_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckCompatibilityMirrors::test_config_mirrors_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckLoggingHelpers::test_log_success_delegates_to_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckLoggingHelpers::test_log_warning_delegates_to_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckLoggingHelpers::test_log_error_delegates_to_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckLoggingHelpers::test_log_info_delegates_to_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckLoggingHelpers::test_section_header_delegates_to_context PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckEnvironmentHelpers::test_resolve_cdp_credentials_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckEnvironmentHelpers::test_has_real_cdp_credentials_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckEnvironmentHelpers::test_should_skip_remote_checks_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckEnvironmentHelpers::test_expected_env_defaults_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_python_version_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_dependencies_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_environment_variables_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_api_connectivity_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_key_permissions_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_risk_configuration_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_test_suite_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_profile_configuration_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_system_time_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_check_disk_space_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_simulate_dry_run_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_core.py::TestPreflightCheckDelegations::test_generate_report_delegates PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_permissions_backoff.py::test_key_permission_retry_behaviour[success] PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_permissions_backoff.py::test_key_permission_retry_behaviour[fail] PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_returns_ready_status_with_no_errors_few_warnings PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_returns_review_status_with_many_warnings PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_returns_not_ready_status_with_errors PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_prints_summary_counts PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_prints_recommendations_for_ready PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_prints_recommendations_for_not_ready PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_saves_json_report PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_handles_file_save_error PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestGenerateReport::test_prints_section_header PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_report.py::TestReportCalculations::test_total_checks_calculated_correctly PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestValidationSeverity::test_severity_values PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestValidationCategory::test_category_values PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestValidationFinding::test_minimal_finding PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestValidationFinding::test_full_finding PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestPermissionDetails::test_default_values PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestPermissionDetails::test_full_permissions PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_default_values PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_has_errors_empty PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_has_errors_with_success PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_has_errors_with_error PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_has_warnings PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_blocking_issues PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_counts PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_add_success PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_add_info PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_add_warning PASSED [ 66%]
tests/unit/gpt_trader/preflight/test_validation_result.py::TestCredentialValidationResult::test_add_error PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_concurrency.py::TestCacheConcurrency::test_cache_concurrent_access PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_concurrency.py::TestCacheConcurrency::test_cache_isolation_between_managers PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_persistence.py::TestCachePersistence::test_cache_with_clear_and_repopulate PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_persistence.py::TestCachePersistence::test_cache_persistence_across_operations PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_population.py::TestCachePopulation::test_cache_population_on_retrieve PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_population.py::TestCachePopulation::test_cache_hit_on_subsequent_retrieve PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_population.py::TestCachePopulation::test_cache_invalidate_on_store PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_population.py::TestCachePopulation::test_cache_clear_all PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_population.py::TestCachePopulation::test_cache_invalidate_on_delete PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_population.py::TestCachePopulation::test_cache_missing_secret PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_special_cases.py::TestCacheSpecialCases::test_cache_with_key_rotation PASSED [ 66%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_special_cases.py::TestCacheSpecialCases::test_cache_with_vault_storage PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_special_cases.py::TestCacheSpecialCases::test_cache_with_different_data_types PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_cache_special_cases.py::TestCacheSpecialCases::test_cache_memory_efficiency PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_bootstrap_with_env_key PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_bootstrap_development_generates_key PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_bootstrap_production_requires_key PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_bootstrap_invalid_key_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_bootstrap_key_types PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_deterministic_encryption PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_cipher_requirement_validation PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_config_preservation PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_dynamic_config_loading PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_bootstrap_with_vault_enabled PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_encryption_bootstrap.py::TestEncryptionBootstrap::test_bootstrap_vault_failure_fallback PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_bootstrap.py::TestBootstrapErrors::test_missing_encryption_key_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_bootstrap.py::TestBootstrapErrors::test_invalid_encryption_key_format PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_bootstrap.py::TestBootstrapErrors::test_cipher_not_initialized_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_concurrency.py::TestConcurrencyErrors::test_concurrent_operation_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_concurrency.py::TestConcurrencyErrors::test_memory_error_handling PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_file_io.py::TestFileIOErrors::test_corrupted_file_detection PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_file_io.py::TestFileIOErrors::test_invalid_json_payload PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_file_io.py::TestFileIOErrors::test_file_permission_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_file_io.py::TestFileIOErrors::test_file_read_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_file_io.py::TestFileIOErrors::test_disk_space_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_payloads.py::TestPayloadValidationErrors::test_invalid_secret_payload_type PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_payloads.py::TestPayloadValidationErrors::test_as_secret_dict_validation PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_payloads.py::TestPayloadValidationErrors::test_secret_path_validation PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_vault.py::TestVaultErrors::test_vault_connection_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_vault.py::TestVaultErrors::test_vault_authentication_error PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_error_vault.py::TestVaultErrors::test_vault_operation_timeout PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_store_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_retrieve_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_delete_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_list_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_retrieve_missing_secret PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_delete_missing_secret PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_path_sanitization PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_directory_creation PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_encryption_roundtrip PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_overwrite_existing PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_invalid_path_characters PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_permissions_handling PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_storage_with_different_data_types PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_basic.py::TestFileBasics::test_file_storage_empty_secret PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_file_concurrency.py::TestFileConcurrency::test_file_concurrent_access PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_basic.py::TestKeyRotationBasics::test_rotate_key_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_basic.py::TestKeyRotationBasics::test_rotate_key_missing_secret PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_basic.py::TestKeyRotationBasics::test_rotate_key_without_key_field PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_basic.py::TestKeyRotationBasics::test_rotate_key_adds_timestamp PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_basic.py::TestKeyRotationBasics::test_rotate_key_generates_new_key PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_basic.py::TestKeyRotationBasics::test_rotate_key_preserves_other_fields PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_integrations.py::TestKeyRotationIntegrations::test_rotate_key_with_vault_storage PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_integrations.py::TestKeyRotationIntegrations::test_rotate_key_concurrent_access PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_integrations.py::TestKeyRotationIntegrations::test_rotate_key_error_handling PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_integrations.py::TestKeyRotationIntegrations::test_rotate_key_with_cache PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_integrations.py::TestKeyRotationIntegrations::test_rotate_key_idempotent PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_key_rotation_integrations.py::TestKeyRotationIntegrations::test_rotate_key_with_complex_secret PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_basic.py::TestVaultBasics::test_vault_store_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_basic.py::TestVaultBasics::test_vault_retrieve_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_basic.py::TestVaultBasics::test_vault_delete_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_basic.py::TestVaultBasics::test_vault_list_success PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_basic.py::TestVaultBasics::test_vault_retrieve_missing_secret PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_basic.py::TestVaultBasics::test_vault_delete_missing_secret PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_basic.py::TestVaultBasics::test_vault_caching_behavior PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_basic.py::TestVaultBasics::test_vault_disabled_fallback PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_failures.py::TestVaultFailures::test_vault_authentication_failure PASSED [ 67%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_failures.py::TestVaultFailures::test_vault_store_failure PASSED [ 68%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_failures.py::TestVaultFailures::test_vault_retrieve_failure PASSED [ 68%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_failures.py::TestVaultFailures::test_vault_list_failure PASSED [ 68%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_failures.py::TestVaultFailures::test_vault_delete_failure PASSED [ 68%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_failures.py::TestVaultFailures::test_vault_environment_configuration PASSED [ 68%]
tests/unit/gpt_trader/security/secrets_manager/test_vault_failures.py::TestVaultFailures::test_vault_missing_environment_variables PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_validate_order_wrapper PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_check_rate_limit_wrapper PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_sanitize_input_wrapper PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_validate_order_with_global_validator PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_check_rate_limit_with_global_validator PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_sanitize_input_with_global_validator PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_validate_order_with_invalid_input PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_check_rate_limit_exceeds_limit PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_sanitize_input_with_attack_vectors PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_wrapper_functions_consistency PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_wrapper_functions_error_handling PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_wrapper_functions_multiple_calls PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_wrapper_functions_with_different_parameters PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_wrapper_functions_return_types PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_convenience_wrappers.py::TestConvenienceWrappers::test_wrapper_functions_import_path PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection[SELECT * FROM users] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection['; DROP TABLE users; --] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection[1' OR '1'='1] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection[UNION SELECT password FROM users] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection[INSERT INTO users VALUES ('hacker', 'password')] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection[UPDATE users SET password='hacked' WHERE id=1] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection[DELETE FROM users WHERE id=1] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection[EXEC xp_cmdshell('dir')] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sql_injection_detection[SCRIPT alert('xss')] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_xss_sanitisation[<script>alert('xss')</script>-alert('xss')] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_xss_sanitisation[<b onclick='alert(1)'>bold</b>-bold] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_xss_sanitisation[<img src='x' onerror='alert(1)'>-] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_xss_sanitisation[<div>content</div>-content] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_xss_sanitisation[<p>paragraph <span>text</span></p>-paragraph text] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_xss_sanitisation[normal text-normal text] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_path_traversal_detection[../../../etc/passwd] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_path_traversal_detection[..\\..\\windows\\system32] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_path_traversal_detection[file:///etc/passwd] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_path_traversal_detection[..%2F..%2F..%2Fetc%2Fpasswd] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_path_traversal_detection[../../config/database.yml] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_path_traversal_detection[..\\..\\config\\settings.ini] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_valid_input_passes[normal_string] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_valid_input_passes[user123] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_valid_input_passes[BTC-USD] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_valid_input_passes[Valid input string] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_valid_input_passes[simple text without special chars] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_valid_input_passes[UPPERCASE_TEXT] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_valid_input_passes[mixedCaseText] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_empty_input_rejection PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_none_input_handling PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_input_length_truncation PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_special_character_escaping PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_whitespace_handling PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_multiple_attack_vectors PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_unicode_handling PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_case_insensitive_pattern_matching PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_partial_pattern_matching PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_custom_max_length PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sanitisation_error_accumulation PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sanitisation_idempotency PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_input_sanitisation.py::TestInputSanitisation::test_sanitisation_with_newlines_and_tabs PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[not_a_number] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[abc123] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[12.34.56] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[infinity] PASSED [ 68%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[NaN] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[None] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[value6] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[value7] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[123abc] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[$123.45] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_invalid_numeric_values[1,234.56] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_with_leading_trailing_whitespace PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_with_plus_sign PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_boundary_values PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_type_conversion PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_error_messages PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_with_decimal_input PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_consistency PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_performance PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_with_extreme_ranges PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_with_floating_point_edge_cases PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_rejects_non_finite[inf0] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_rejects_non_finite[-inf0] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_rejects_non_finite[inf1] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_rejects_non_finite[-inf1] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericEdgeBehaviour::test_numeric_validation_rejects_non_finite[nan] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_edge_behaviour.py::TestNumericValidationExceptionHandling::test_numeric_validation_non_decimal_return PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_valid_numeric_values[123.45-123.45_0] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_valid_numeric_values[100-100.0] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_valid_numeric_values[0.001-0.001] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_valid_numeric_values[1e6-1000000.0] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_valid_numeric_values[123-123.0] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_valid_numeric_values[123.45-123.45_1] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_valid_numeric_values[value6-123.45] PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_numeric_range_validation_min PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_numeric_range_validation_max PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_numeric_range_validation_both PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_numeric_precision_handling PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_numeric_negative_values PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_numeric_zero_handling PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_numeric_scientific_notation PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_numeric_valid_inputs.py::TestNumericValidInputs::test_numeric_edge_cases PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_valid_limit_order PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_valid_market_order PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_invalid_symbol_rejection PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_value_below_minimum PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_value_above_maximum PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_position_size_limit PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_limit_order_price_validation PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_market_order_price_ignored PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_quantity_validation PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_with_zero_account_value PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_with_negative_account_value PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_missing_required_fields PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_with_invalid_order_type PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_with_very_small_quantity PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_with_very_large_quantity PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_with_negative_quantity PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_with_negative_price PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_validation_error_accumulation PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_edge_case_values PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_with_different_account_sizes PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_validation_with_missing_price_for_market_order PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_validation_with_numeric_strings PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_non_limit_order_with_non_numeric_price PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_value_calculation_fallback PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_payload_not_dict PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_order_validation.py::TestOrderValidation::test_order_payload_list PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_within_threshold PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_exceeds_threshold PASSED [ 69%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_different_users PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_different_limit_types PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_time_window_reset PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_burst_handling PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_suspicious_activity_detection PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_clear_user PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_clear_all PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_invalid_limit_type PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_concurrent_requests PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_time_precision PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_different_periods PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_ip_blocking PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_edge_cases PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_order_submissions PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_login_attempts PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_rapid_orders_detection PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_unusual_order_size_detection PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_high_pattern_score_detection PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_multiple_indicators_detection PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_normal_activity_passes PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_threshold PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_missing_fields PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_zero_values PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_edge_cases PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_different_users PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_cumulative_detection PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_with_very_large_orders PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_persistence PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_with_zero_average PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_with_float_values PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_error_handling PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_consistency PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_suspicious_activity.py::TestSuspiciousActivity::test_suspicious_activity_with_extreme_pattern_scores PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[BTC-USD] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[ETH-USD] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[AAPL] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[GOOGL] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[MSFT] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[BTC-PERP] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[ETH-PERP] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[TSLA] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[AMZN] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_valid_symbols_pass[META] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_blocked_symbols_rejected[TEST] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_blocked_symbols_rejected[DEBUG] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_blocked_symbols_rejected[HACK] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_blocked_symbols_rejected[test] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_blocked_symbols_rejected[debug] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_blocked_symbols_rejected[hack] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[BTC-USD-INVALID] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[BTCUSD-] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[-BTC-USD] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[BTC--USD] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[VERY-LONG-SYMBOL-NAME-THAT-EXCEEDS-LIMITS] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[BTC-USD-EXTRA-INVALID] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[BTC_USD] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[BTC.USD] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[BTC USD] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_invalid_symbol_formats[BTC@USD] PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_case_normalisation PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_length_validation PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_with_numbers PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_perpetual_symbols PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_error_details PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_with_none PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_with_non_string PASSED [ 70%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_edge_cases PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_with_whitespace PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_integration_with_rule PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_consistency PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_with_special_characters PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_with_unicode PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidation::test_symbol_validation_performance PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_symbol_validation.py::TestSymbolValidationExceptionHandling::test_symbol_validation_generic_exception PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_weekend_rejection PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_pre_market_rejection PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_market_open_acceptance PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_market_close_boundary PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_after_hours_rejection PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_default_timestamp PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_crypto_24_7 PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_weekday_validation PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_edge_case_times PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_symbol_independence PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_holiday_handling PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_timezone_handling PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_error_handling PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_early_morning PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_late_night PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_consistency PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_with_different_years PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_error_message_content PASSED [ 71%]
tests/unit/gpt_trader/security/security_validator/test_trading_hours.py::TestTradingHours::test_trading_hours_with_microseconds PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestValidationResult::test_validation_result_fields PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestValidationResult::test_validation_result_default_sanitized_value PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringSuccess::test_sanitize_string_valid_input PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringSuccess::test_sanitize_string_strips_whitespace PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringSuccess::test_sanitize_string_escapes_quotes PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringEmptyBlank::test_sanitize_string_empty_string PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringEmptyBlank::test_sanitize_string_none_input PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringEmptyBlank::test_sanitize_string_whitespace_only_default PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringEmptyBlank::test_sanitize_string_whitespace_only_reject_blank PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringEmptyBlank::test_sanitize_string_tabs_newlines_reject_blank PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringEmptyBlank::test_sanitize_string_valid_with_whitespace_reject_blank PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringLength::test_sanitize_string_within_max_length PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringLength::test_sanitize_string_exceeds_max_length PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringLength::test_sanitize_string_exact_max_length PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_sql_injection[SELECT * FROM users] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_sql_injection[DROP TABLE users] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_sql_injection[1; DELETE FROM orders] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_sql_injection[UNION SELECT password] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_sql_injection[INSERT INTO users] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_sql_injection[UPDATE users SET] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_sql_injection[EXEC sp_executesql] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_xss_tags[<script>alert('xss')</script>] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_xss_tags[<img src=x onerror=alert(1)>] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_xss_tags[<div onclick='malicious()'>] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_javascript_protocol PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_path_traversal[../../../etc/passwd] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_path_traversal[..\\..\\windows\\system32] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_path_traversal[%2f%2e%2e%2f] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringInjection::test_sanitize_string_path_traversal[file:///etc/passwd] PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringSafeEdgeCases::test_sanitize_string_legitimate_select PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringSafeEdgeCases::test_sanitize_string_url_with_slashes PASSED [ 71%]
tests/unit/gpt_trader/security/test_input_sanitizer.py::TestSanitizeStringSafeEdgeCases::test_sanitize_string_numbers_and_symbols PASSED [ 71%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_load_rules_from_environment PASSED [ 71%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_add_rule PASSED [ 71%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_add_rule_invalid_ip PASSED [ 71%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validate_ip_exact_match PASSED [ 71%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validate_ip_cidr_match PASSED [ 71%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validate_ip_not_in_allowlist PASSED [ 71%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validate_ip_no_rule PASSED [ 71%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validate_ip_disabled_rule PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_enable_disable_rule PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_remove_rule PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_enforcement_disabled PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validation_logging PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_clear_validation_log PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_check_ip_cidr_edge_cases PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_list_rules PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_update_existing_rule_with_description PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_update_existing_rule_without_description PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_enable_rule_nonexistent PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_disable_rule_nonexistent PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_remove_rule_nonexistent PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validation_log_trimming PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validate_ip_without_logging PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validate_ip_no_rule_without_logging PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_validate_ip_disabled_rule_without_logging PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_check_ip_invalid_cidr_fallback PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_check_ip_completely_invalid_entry PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_environment_empty_allowlist PASSED [ 72%]
tests/unit/gpt_trader/security/test_ip_allowlist_enforcer.py::test_global_singleton_and_convenience_functions PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestSuccess::test_validate_request_with_required_fields PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestSuccess::test_validate_request_with_extra_fields PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestSuccess::test_validate_request_with_underscore_action PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestMissingFields::test_validate_request_missing_action PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestMissingFields::test_validate_request_missing_timestamp PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestMissingFields::test_validate_request_missing_both_fields PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestMissingFields::test_validate_request_empty_dict PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestInvalidAction::test_validate_request_sql_injection_action PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestInvalidAction::test_validate_request_xss_action PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestInvalidAction::test_validate_request_action_too_long PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestInvalidAction::test_validate_request_path_traversal_action PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestSizeLimit::test_validate_request_within_size_limit PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestSizeLimit::test_validate_request_exceeds_size_limit PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestSizeLimit::test_validate_request_unserializable_content PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestEdgeCases::test_validate_request_action_with_spaces PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestEdgeCases::test_validate_request_numeric_timestamp PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestEdgeCases::test_validate_request_none_values PASSED [ 72%]
tests/unit/gpt_trader/security/test_request_validator.py::TestValidateRequestEdgeCases::test_validate_request_whitespace_action PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_is_null_reporter_property PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_add_observer_stores_callback PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_add_observer_prevents_duplicates PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_remove_observer_removes_callback PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_remove_observer_handles_missing_callback PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_get_status_returns_unavailable_status PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_get_status_has_empty_data PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_start_returns_none PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestNullStatusReporter::test_stop_sets_running_false PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestCreateUnavailableStatus::test_creates_valid_bot_status PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestCreateUnavailableStatus::test_has_health_issues PASSED [ 72%]
tests/unit/gpt_trader/tui/adapters/test_null_status_reporter.py::TestCreateUnavailableStatus::test_all_components_initialized PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestMockDataGeneratorSeeding::test_same_seed_produces_identical_output PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestMockDataGeneratorSeeding::test_different_seeds_produce_different_output PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestMockDataGeneratorSeeding::test_unseeded_generator_produces_varying_output PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestMockDataGeneratorSeeding::test_multiple_cycles_deterministic PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestDemoBotSeeding::test_demo_bot_accepts_seed_parameter PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestDemoBotSeeding::test_demo_bot_without_seed_uses_random PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestDemoBotSeeding::test_demo_bot_with_generator_ignores_seed PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestGenerateStrategyDataPerformance::test_generate_strategy_data_includes_performance_dicts PASSED [ 72%]
tests/unit/gpt_trader/tui/demo/test_mock_data.py::TestGenerateStrategyDataPerformance::test_generate_strategy_data_performance_is_deterministic PASSED [ 72%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestEventHandlerMixinBasics::test_mixin_can_be_used_with_static_widget PASSED [ 72%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestEventHandlerMixinBasics::test_mixin_provides_all_event_handlers PASSED [ 72%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_bot_state_changed_logs_default PASSED [ 72%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_bot_mode_changed_logs_default PASSED [ 72%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_state_update_received_logs_default PASSED [ 72%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_state_validation_failed_logs_warnings PASSED [ 72%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_state_validation_passed_logs_default PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_state_delta_update_applied_logs_default PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_responsive_state_changed_logs_default PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_theme_changed_logs_default PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_error_occurred_logs_error_severity PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestDefaultEventHandlers::test_on_error_occurred_logs_warning_severity PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestCustomEventHandlers::test_custom_handler_overrides_default PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestCustomEventHandlers::test_custom_handler_without_super_call PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestUtilityMethods::test_post_event_when_mounted PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestUtilityMethods::test_post_event_when_not_mounted PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestUtilityMethods::test_log_event_received_utility PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestUtilityMethods::test_log_event_received_without_details PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestMixinDocumentation::test_mixin_has_docstring PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestMixinDocumentation::test_all_handler_methods_have_docstrings PASSED [ 73%]
tests/unit/gpt_trader/tui/mixins/test_event_handlers.py::TestMixinDocumentation::test_utility_methods_have_docstrings PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryScreen::test_screen_has_bindings PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryScreen::test_action_clear_history_clears_alerts PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryScreen::test_action_reset_cooldowns_resets_alerts PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryScreen::test_button_pressed_clear_btn PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryScreen::test_button_pressed_reset_btn PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryScreen::test_button_pressed_close_btn PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryScreen::test_no_alert_manager_graceful_handling PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryFilterActions::test_cycle_filter_cycles_through_all_filters PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryFilterActions::test_cycle_filter_wraps_around PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryFilterActions::test_clear_filter_resets_to_all PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryFilterActions::test_filter_bindings_present PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_alert_history.py::TestAlertHistoryFilterActions::test_number_filter_bindings_present PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestAPISetupWizardScreen::test_wizard_starts_at_step_1 PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestAPISetupWizardScreen::test_wizard_has_all_steps PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestAPISetupWizardScreen::test_next_advances_step PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestAPISetupWizardScreen::test_back_returns_to_previous PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestAPISetupWizardScreen::test_back_does_not_go_below_1 PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestAPISetupWizardScreen::test_final_step_returns_verify PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestAPISetupWizardScreen::test_cancel_returns_none PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_step_1_is_welcome PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_step_2_has_portal_url PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_step_2_mentions_ecdsa PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_step_2_warns_about_ed25519 PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_step_3_mentions_private_key PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_step_4_has_env_var_examples PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_step_4_mentions_export PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_step_5_is_verify PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardContent::test_all_steps_have_non_empty_content PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardNavigation::test_can_navigate_through_all_steps PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_api_setup_wizard.py::TestWizardNavigation::test_step_never_exceeds_bounds PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildSignalDetailContent::test_bullish_signal_shows_positive_contribution_and_up_arrow PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildSignalDetailContent::test_bearish_signal_shows_negative_contribution_and_down_arrow PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildSignalDetailContent::test_neutral_signal_shows_right_arrow PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildSignalDetailContent::test_long_name_truncated_to_ten_characters PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildSignalDetailContent::test_includes_formatted_value_and_weight PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildSignalDetailContent::test_rsi_row_includes_static_hint_when_no_params PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildSignalDetailContent::test_rsi_row_includes_live_params_when_set PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildSignalDetailContent::test_unknown_indicator_has_no_hint PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_rsi_period_formatted PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_ma_shows_all_parts PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_ema_uses_ma_params PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_zscore_formatted PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_vwap_deviation_percent PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_spread_tight_bps PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_orderbook_formatted PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_unknown_indicator_returns_none PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_no_params_configured_returns_none PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestStrategyParametersFormat::test_case_insensitive PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestGetIndicatorHint::test_exact_match_static_fallback PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestGetIndicatorHint::test_case_insensitive_static PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestGetIndicatorHint::test_with_parameters_in_name PASSED [ 73%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestGetIndicatorHint::test_unknown_returns_none PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestGetIndicatorHint::test_live_params_take_precedence PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestGetIndicatorHint::test_fallback_to_static_when_param_not_configured PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestGetIndicatorHint::test_live_params_for_multiple_indicators PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildBacktestDisplay::test_build_backtest_display_placeholder PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestBuildBacktestDisplay::test_build_backtest_display_values PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestFormatDelta::test_positive_delta_shows_green_with_plus PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestFormatDelta::test_negative_delta_shows_red PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestFormatDelta::test_no_previous_returns_empty PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestFormatDelta::test_tiny_delta_ignored PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestFormatDelta::test_precision_parameter PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestFormatDelta::test_suffix_parameter PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestEntryExitBadgeDetailScreen::test_buy_action_returns_entry_badge PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestEntryExitBadgeDetailScreen::test_close_action_returns_exit_badge PASSED [ 74%]
tests/unit/gpt_trader/tui/screens/test_strategy_detail_screen.py::TestEntryExitBadgeDetailScreen::test_hold_action_returns_empty PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestToggleBot::test_delegates_to_lifecycle_manager PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestToggleBot::test_no_op_when_no_lifecycle_manager PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestShowConfig::test_shows_config_modal_when_bot_has_config PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestShowConfig::test_notifies_when_no_config PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestToggleTheme::test_delegates_to_theme_service PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestToggleTheme::test_handles_theme_service_error PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestReconnectData::test_no_op_in_demo_mode PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestReconnectData::test_syncs_state_in_paper_mode PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestQuitApp::test_stops_running_bot PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestQuitApp::test_exits_when_bot_stopped PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestQuitApp::test_exits_even_on_error PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestShowAlertHistory::test_pushes_alert_history_screen PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestShowAlertHistory::test_handles_error_gracefully PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestForceRefresh::test_syncs_state_from_bot PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestForceRefresh::test_updates_main_screen PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestForceRefresh::test_resets_alert_cooldowns PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestForceRefresh::test_checks_alerts_after_refresh PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestForceRefresh::test_notifies_user_of_completion PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestForceRefresh::test_handles_error_gracefully PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestForceRefresh::test_works_without_alert_manager PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestEnableReduceOnly::test_enable_reduce_only_calls_risk_manager PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestEnableReduceOnly::test_enable_reduce_only_notifies_already_enabled PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_action_dispatcher.py::TestEnableReduceOnly::test_enable_reduce_only_no_risk_manager PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_default_rules_registered PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_add_custom_rule PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_remove_rule PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_remove_nonexistent_rule PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_enable_disable_rule PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_alert_triggered_on_condition PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_alert_cooldown PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_no_alert_when_condition_not_met PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_rate_limit_alert PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_reduce_only_alert PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_daily_loss_warning PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_bot_stopped_with_positions_alert PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_alert_history PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_clear_history PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_reset_cooldowns PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertManager::test_disabled_rule_not_checked PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_alert_category_values PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_alert_has_category PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_default_rules_have_categories PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_filter_history_by_category PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_filter_history_by_severity PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_get_history_by_category PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_get_category_counts PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_custom_rule_with_category PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_risk_alert_category PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestAlertCategories::test_position_alert_category PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_execution_rules_registered PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_circuit_breaker_alert PASSED [ 74%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_circuit_breaker_no_alert_when_closed PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_execution_critical_alert PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_execution_critical_requires_sample_size PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_execution_degraded_alert PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_execution_degraded_not_triggered_when_critical PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_execution_degraded_requires_sample_size PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_p95_latency_alert PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_p95_latency_no_alert_when_normal PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_retry_rate_alert PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_retry_rate_no_alert_when_normal PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_execution_alerts_handle_missing_data PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestExecutionHealthAlerts::test_execution_alerts_have_system_category PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_stale_orders_rules_registered PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_stale_orders_alert_triggers PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_stale_orders_no_alert_when_fresh PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_stale_orders_ignores_filled_orders PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_failed_orders_alert_triggers PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_failed_orders_alert_triggers_on_failed_status PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_failed_orders_no_alert_on_cancelled PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_expired_orders_alert_triggers PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_expired_orders_no_alert_when_none_expired PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestTradeAlerts::test_multiple_expired_orders_message PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestValidationAlerts::test_validation_rules_registered PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestValidationAlerts::test_validation_escalation_alert_triggers PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestValidationAlerts::test_validation_escalation_no_alert_when_not_escalated PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestValidationAlerts::test_validation_failures_alert_triggers_at_threshold PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestValidationAlerts::test_validation_failures_no_alert_below_threshold PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestValidationAlerts::test_validation_failures_no_alert_when_escalated PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_alert_manager.py::TestValidationAlerts::test_validation_alerts_handle_missing_data PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_config_service.py::TestConfigService::test_init_sets_app PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_config_service.py::TestConfigService::test_show_config_modal_pushes_screen PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_config_service.py::TestConfigService::test_show_config_modal_handles_error PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_config_service.py::TestConfigService::test_request_reload_posts_event PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_config_service.py::TestConfigService::test_notify_config_changed_posts_event PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestModeRequirements::test_demo_requires_nothing PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestModeRequirements::test_read_only_requires_view PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestModeRequirements::test_paper_requires_view PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestModeRequirements::test_live_requires_trade PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_demo_mode_skips_validation PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_missing_credentials_fails PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_valid_key_format PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_invalid_key_format PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_invalid_private_key_format PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_evaluate_mode_compatibility_live_without_trade PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_evaluate_mode_compatibility_paper_with_view_only PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_evaluate_mode_compatibility_read_only_with_view PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_evaluate_mode_compatibility_without_connectivity PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidator::test_get_mode_requirements PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidatorConnectivity::test_connectivity_success PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestCredentialValidatorConnectivity::test_jwt_generation_failure PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestKeyTypeDetection::test_detect_cdp_es256_key PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestKeyTypeDetection::test_detect_legacy_uuid_key PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestKeyTypeDetection::test_detect_legacy_short_key PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestKeyTypeDetection::test_detect_ed25519_key PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestKeyTypeDetection::test_detect_openssh_ed25519_key PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestKeyTypeDetection::test_detect_rsa_key PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestKeyTypeDetection::test_detect_non_pem_secret PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_credential_validator.py::TestKeyTypeDetection::test_detect_empty_keys PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestSubmissionRecord::test_successful_submission PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestSubmissionRecord::test_failed_submission PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestSubmissionRecord::test_rejected_submission PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_default_values PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_success_rate_calculation PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_success_rate_zero_submissions PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_is_healthy_good_metrics PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_is_healthy_low_success_rate PASSED [ 75%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_is_healthy_high_retry_rate PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_top_rejection_reasons_sorted PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_top_rejection_reasons_empty PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionMetrics::test_top_retry_reasons_sorted PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_singleton_pattern PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_clear_singleton PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_empty_metrics PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_record_successful_submission PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_record_failed_submission PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_record_rejected_submission PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_multiple_submissions PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_mixed_success_and_failure PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_retry_tracking PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_rolling_window PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_clear PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_latency_percentiles PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestExecutionTelemetryCollector::test_thread_safety PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestReasonTracking::test_record_rejection_reason PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestReasonTracking::test_multiple_rejection_reasons PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestReasonTracking::test_record_retry_with_reason PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestReasonTracking::test_retry_reasons_sorted PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestReasonTracking::test_empty_reason_not_tracked PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestReasonTracking::test_reasons_in_rolling_window PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestReasonTracking::test_clear_clears_reasons PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestIssueTracking::test_rejection_issue_records_context PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestIssueTracking::test_failed_submission_records_issue PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestIssueTracking::test_retry_issue_records_context PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestIssueTracking::test_issue_ordering_is_most_recent_first PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_execution_telemetry.py::TestIssueTracking::test_empty_retry_reason_skips_issue PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestTilePosition::test_tile_position_creation PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestTilePosition::test_tile_position_equality PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestTilePosition::test_tile_position_inequality PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_initialization PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_current_tile_id_property PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_current_actions_property PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_move_down PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_move_up_from_start PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_move_up_after_down PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_move_right PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_move_left_from_start PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_move_returns_tile_id_on_change PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_invalid_direction PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_enable_disable PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_move_next_cycles_through_tiles PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_move_previous PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_focus_tile PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_focus_tile_invalid PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_grid_structure PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_tile_order PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestFocusManager::test_tile_actions_defined PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestTileFocusChanged::test_event_creation PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_focus_manager.py::TestTileFocusChanged::test_event_with_multiple_actions PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestCreateBotForMode::test_demo_mode_creates_demo_bot PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestCreateBotForMode::test_unknown_mode_raises_error PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestCreateBotForMode::test_paper_mode_loads_paper_config PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModeService::test_init_sets_app_and_scenario PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModeService::test_detect_bot_mode_demo PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModeService::test_detect_bot_mode_read_only PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModeService::test_detect_bot_mode_live PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModeService::test_detect_bot_mode_paper_default PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModeService::test_create_bot_delegates_to_function PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModeService::test_show_live_warning_pushes_modal PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModeService::test_notify_mode_changed_posts_event PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_load_mode_preference_returns_saved_mode PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_load_mode_preference_returns_none_when_missing PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_load_mode_preference_returns_none_for_nonexistent_file PASSED [ 76%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_load_mode_preference_ignores_invalid_mode PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_save_mode_preference_creates_file PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_save_mode_preference_preserves_other_keys PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_save_mode_preference_rejects_invalid_mode PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_save_mode_preference_accepts_all_valid_modes PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_mode_service.py::TestModePreferencePersistence::test_init_sets_default_preferences_path PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestChecklistItem::test_default_values PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestChecklistItem::test_completed_item PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestChecklistItem::test_optional_item PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestChecklistItem::test_skippable_item PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_empty_status_is_ready PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_completed_count PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_required_count_excludes_skippable PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_required_completed PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_is_ready_all_required_complete PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_is_ready_required_incomplete PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_progress_pct PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_ready_label_when_ready PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_ready_label_when_not_ready PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_get_next_step_returns_first_incomplete_required PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingStatus::test_get_next_step_returns_none_when_ready PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_singleton_pattern PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_clear_singleton PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_get_status_demo_mode_is_ready PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_get_status_paper_mode_needs_credentials PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_get_status_returns_four_checklist_items PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_mode_selected_always_complete PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_credentials_skippable_in_demo PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_connection_ok_in_demo_mode PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_connection_checks_status_in_live_mode PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_onboarding_service.py::TestOnboardingService::test_risk_reviewed_is_optional PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestFrameMetrics::test_create_frame_metrics PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestFrameMetrics::test_frame_metrics_defaults PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestPerformanceSnapshot::test_create_snapshot PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestPerformanceSnapshot::test_snapshot_defaults PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestNoOpContext::test_noop_context_manager PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestNoOpContext::test_noop_context_multiple_uses PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_init_enabled PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_init_disabled PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_time_operation_enabled PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_time_operation_disabled PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_disabled_service_minimal_overhead PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_record_frame PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_record_frame_disabled PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_fps_calculation PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_frame_time_statistics PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_slow_operation_tracking PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_slow_operation_not_tracked_below_threshold PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_slow_operation_disabled PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_get_operation_stats PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_reset PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_snapshot_with_app_reference PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestTuiPerformanceService::test_snapshot_memory_metrics PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestGlobalService::test_get_creates_service PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_performance_service.py::TestGlobalService::test_set_and_get_service PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_get_last_symbols_empty PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_set_last_symbols PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_add_watchlist_symbol PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_add_watchlist_symbol_duplicate PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_add_watchlist_symbol_normalized PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_add_watchlist_symbol_empty PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_remove_watchlist_symbol PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_remove_watchlist_symbol_not_present PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_clear_watchlist PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_reorder_watchlist PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_reorder_watchlist_deduplicates PASSED [ 77%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_reorder_watchlist_normalizes PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_get_last_symbols_returns_copy PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_preferences_watchlist.py::TestWatchlistHelpers::test_persistence PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_init_sets_defaults PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_initialize_sets_state_from_width PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_initialize_returns_comfortable_for_wide_terminal PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_handle_resize_schedules_timer PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_handle_resize_cancels_pending_timer PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_propagate_to_screen_sets_responsive_state PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_propagate_to_screen_handles_no_screen PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_cleanup_stops_timer PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_responsive_manager.py::TestResponsiveManager::test_cleanup_handles_no_timer PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_init_creates_theme_manager PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_load_preference_returns_default_when_no_file PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_load_preference_reads_from_file PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_save_preference_creates_file PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_save_preference_preserves_other_prefs PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_toggle_theme_notifies_user PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_toggle_theme_posts_event PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_current_theme_property PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_theme_service.py::TestThemeService::test_current_mode_property PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsService::test_initial_window_is_all_session PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsService::test_cycle_window_advances PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsService::test_cycle_window_wraps_around PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsService::test_reset_window_returns_to_all_session PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsComputation::test_empty_trades_returns_default_stats PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsComputation::test_single_buy_trade_no_match PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsComputation::test_buy_and_sell_creates_matched_trade PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsComputation::test_losing_trade_calculation PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsComputation::test_profit_factor_calculation PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsComputation::test_profit_factor_infinity_when_no_losses PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsSampleSize::test_sample_label_format PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsSampleSize::test_has_sufficient_data_below_threshold PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsSampleSize::test_has_sufficient_data_at_threshold PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsSampleSize::test_has_sufficient_data_above_threshold PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsServiceSingleton::test_get_returns_same_instance PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradingStatsServiceSingleton::test_clear_creates_new_instance PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradeMatching::test_fifo_order_matching PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradeMatching::test_partial_fill_matching PASSED [ 78%]
tests/unit/gpt_trader/tui/services/test_trading_stats_service.py::TestTradeMatching::test_multiple_symbols_matched_separately PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestDeltaResult::test_initial_state_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestDeltaResult::test_add_change_sets_has_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestDeltaResult::test_add_multiple_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_market_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_market_price_change PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_market_new_symbol PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_market_removed_symbol PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_positions_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_positions_pnl_change PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_orders_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_orders_status_change PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_orders_new_order PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_trades_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_trades_new_trade PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_account_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_account_balance_change PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_risk_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_risk_reduce_only_change PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_system_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_compare_system_connection_change PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_should_update_component_no_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_should_update_component_with_changes PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_float_equal_within_epsilon PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_decimal_equal_within_epsilon PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_delta_updater.py::TestStateDeltaUpdater::test_decimal_equal_handles_none PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestValidationResult::test_initial_state_is_valid PASSED [ 78%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestValidationResult::test_add_error_sets_invalid PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestValidationResult::test_add_warning_keeps_valid PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestValidationResult::test_merge_combines_results PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestValidationResult::test_merge_propagates_invalid_state PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_full_state_handles_none_components PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_market_valid_prices PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_market_negative_price_error PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_market_invalid_price_format PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_orders_valid PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_orders_missing_order_id PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_trades_valid PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_trades_negative_quantity_error PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_account_valid PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_account_available_exceeds_total_warning PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_risk_valid PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_risk_leverage_out_of_range PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_system_valid PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_system_unknown_status_warning PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_price_helper PASSED [ 79%]
tests/unit/gpt_trader/tui/state_management/test_validators.py::TestStateValidator::test_validate_quantity_helper PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestBotStatusWidget::test_equity_update PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestMarketWatchWidget::test_price_coloring PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestTuiLogHandler::test_log_coloring PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::test_app_instantiation PASSED     [ 79%]
tests/unit/gpt_trader/tui/test_app.py::test_app_sync_state PASSED        [ 79%]
tests/unit/gpt_trader/tui/test_app.py::test_bootstrap_snapshot_populates_balances_and_equity PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_coinbase_client_has_close_method PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_coinbase_client_context_manager PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_websocket_has_close_method PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_websocket_close_is_idempotent PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_performance_service_cleanup PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_app_cleanup_bot_resources_closes_client PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_app_cleanup_bot_resources_closes_websocket PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_app_cleanup_bot_resources_closes_engine_client PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_app_cleanup_handles_missing_resources PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_app_cleanup_handles_close_errors PASSED [ 79%]
tests/unit/gpt_trader/tui/test_app.py::TestResourceCleanup::test_websocket_reconnect_limit_configurable PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_set_and_get_credential_cache PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_invalidate_credential_cache PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_cache_valid_same_fingerprint PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_cache_invalid_fingerprint_mismatch PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_cache_invalid_mode_not_validated PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_cache_invalid_expired PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_cache_valid_within_age_limit PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_cache_persists_across_sessions PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialCache::test_update_existing_cache_modes PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialFingerprint::test_fingerprint_generation PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialFingerprint::test_fingerprint_none_when_no_key PASSED [ 79%]
tests/unit/gpt_trader/tui/test_credential_cache.py::TestCredentialFingerprint::test_fingerprint_none_for_short_key PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestDegradedModeInitialization::test_null_reporter_detected_correctly PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestDegradedModeInitialization::test_real_reporter_not_flagged PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestTuiStateDegradedMode::test_tui_state_has_degraded_mode_property PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestTuiStateDegradedMode::test_tui_state_degraded_mode_can_be_set PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestIsRealStatusReporter::test_returns_false_when_no_bot PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestIsRealStatusReporter::test_returns_false_for_null_reporter PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestIsRealStatusReporter::test_returns_true_for_real_reporter PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestObserverConnectionWithNullReporter::test_null_reporter_accepts_observer PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestObserverConnectionWithNullReporter::test_null_reporter_never_calls_observer PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestUICoordinatorDegradedMode::test_sync_skips_null_reporter PASSED [ 79%]
tests/unit/gpt_trader/tui/test_degraded_mode.py::TestBotLifecycleManagerDegradedMode::test_detects_null_reporter_on_mode_switch PASSED [ 79%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_error_entry_creation PASSED [ 79%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_error_indicator_initialization PASSED [ 79%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_add_single_error PASSED [ 79%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_add_multiple_errors PASSED [ 79%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_max_errors_fifo PASSED [ 79%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_clear_errors PASSED [ 79%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_update_display_with_errors PASSED [ 80%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_update_display_multiple_errors PASSED [ 80%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_update_display_no_errors PASSED [ 80%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_button_handler_toggle PASSED [ 80%]
tests/unit/gpt_trader/tui/test_error_indicator.py::test_button_handler_clear PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestBotLifecycleEvents::test_bot_start_requested_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestBotLifecycleEvents::test_bot_stop_requested_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestBotLifecycleEvents::test_bot_state_changed_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestBotLifecycleEvents::test_bot_state_changed_default_uptime PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestBotLifecycleEvents::test_bot_mode_change_requested_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestBotLifecycleEvents::test_bot_mode_changed_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_state_update_received_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_state_update_received_without_runtime PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_field_validation_error_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_field_validation_error_default_severity PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_state_validation_failed_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_state_validation_failed_default_component PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_state_validation_passed_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_state_delta_update_applied_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestStateUpdateEvents::test_state_delta_update_applied_full_update PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestUICoordinationEvents::test_ui_refresh_requested_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestUICoordinationEvents::test_heartbeat_tick_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestUICoordinationEvents::test_heartbeat_tick_default_pulse PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestUICoordinationEvents::test_responsive_state_changed_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestTradeMatchingEvents::test_trade_matcher_reset_requested_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestTradeMatchingEvents::test_trade_matcher_state_request_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestTradeMatchingEvents::test_trade_matcher_state_response_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestErrorNotificationEvents::test_error_occurred_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestErrorNotificationEvents::test_error_occurred_defaults PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestErrorNotificationEvents::test_notification_requested_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestErrorNotificationEvents::test_notification_requested_defaults PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestConfigurationEvents::test_config_reload_requested_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestConfigurationEvents::test_config_changed_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestThemeEvents::test_theme_change_requested_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestThemeEvents::test_theme_changed_creation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestEventIntegration::test_event_posting_and_receiving PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestEventIntegration::test_event_handler_invocation PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestEventDocumentation::test_all_events_have_docstrings PASSED [ 80%]
tests/unit/gpt_trader/tui/test_events.py::TestEventDocumentation::test_dataclass_events_have_field_docs PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_reset_terminal_modes_emits_mouse_disable_sequences PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_run_tui_app_with_cleanup_resets_on_success PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_run_tui_app_with_cleanup_resets_on_error PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_backward_compatibility PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_success_case PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_with_notify_user PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_with_error_tracker PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_with_both_notify_and_tracker PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_no_app_attribute PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_app_is_none PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_notification_failure_doesnt_crash PASSED [ 80%]
tests/unit/gpt_trader/tui/test_helpers.py::test_safe_update_tracker_failure_doesnt_crash PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestIndicatorContribution::test_is_bullish_positive_contribution PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestIndicatorContribution::test_is_bearish_negative_contribution PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestIndicatorContribution::test_neutral_contribution PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestIndicatorContribution::test_abs_contribution PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestDecisionDataContributions::test_top_contributors_sorted_by_magnitude PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestDecisionDataContributions::test_top_contributors_less_than_three PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestDecisionDataContributions::test_bullish_contributors PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestDecisionDataContributions::test_bearish_contributors PASSED [ 80%]
tests/unit/gpt_trader/tui/test_indicator_contributions.py::TestDecisionDataContributions::test_empty_contributions PASSED [ 80%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_write_to_widget_passes_text PASSED [ 80%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_emit_handles_error_level PASSED [ 80%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_emit_handles_warning_level PASSED [ 80%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_emit_handles_info_level PASSED [ 80%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_emit_handles_debug_level PASSED [ 80%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_emit_respects_widget_level_filter PASSED [ 80%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_emit_skips_unmounted_widgets PASSED [ 80%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_emit_uses_call_from_thread_on_background_thread PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_get_tui_log_handler_returns_singleton PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_register_and_unregister_widget PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_update_widget_level PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_log_message_with_markup_characters_is_escaped PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_log_message_with_closing_bracket_is_safe PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_log_message_with_multiple_brackets_is_safe PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_formatter_output_has_no_extra_newline PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_pause_widget_buffers_logs PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_resume_widget_flushes_buffered_logs PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_error_tracking_counts_errors PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_log_entry_stores_enhanced_metadata PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_log_entry_detects_multiline_content PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_unregister_cleans_up_pause_state PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_compact_formatter_produces_short_output PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_compact_formatter_uses_correct_icons PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_format_mode_property PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_log_entry_has_structured_fields PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_detect_category_function PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_structured_formatter_basic_output PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_structured_formatter_abbreviates_loggers PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_structured_formatter_formats_strategy_debug PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_structured_formatter_formats_strategy_decisions_with_reason PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_structured_formatter_formats_numbers PASSED [ 81%]
tests/unit/gpt_trader/tui/test_log_manager.py::TestTuiLogHandler::test_structured_formatter_handles_exceptions PASSED [ 81%]
tests/unit/gpt_trader/tui/test_market_widget.py::TestMarketWatchWidget::test_watch_state_handles_none PASSED [ 81%]
tests/unit/gpt_trader/tui/test_market_widget.py::TestMarketWatchWidget::test_watch_state_handles_valid_state PASSED [ 81%]
tests/unit/gpt_trader/tui/test_market_widget.py::TestMarketWatchWidget::test_watch_state_handles_falsy_last_update PASSED [ 81%]
tests/unit/gpt_trader/tui/test_market_widget.py::TestMarketWatchWidget::test_watch_state_handles_zero_last_update PASSED [ 81%]
tests/unit/gpt_trader/tui/test_market_widget.py::TestMarketWatchWidget::test_watch_state_logs_correct_metrics PASSED [ 81%]
tests/unit/gpt_trader/tui/test_new_widgets.py::TestAccountWidget::test_update_account PASSED [ 81%]
tests/unit/gpt_trader/tui/test_new_widgets.py::TestOrdersWidget::test_update_orders PASSED [ 81%]
tests/unit/gpt_trader/tui/test_new_widgets.py::TestTradesWidget::test_update_trades PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestDailyLossGuardExplanation::test_daily_loss_guard_with_usage PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestDailyLossGuardExplanation::test_daily_loss_guard_no_limit_configured PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestDailyLossGuardExplanation::test_daily_loss_guard_alternative_names PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestLeverageGuardExplanation::test_leverage_guard_shows_threshold PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestLeverageGuardExplanation::test_leverage_guard_no_limit PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestReduceOnlyGuardExplanation::test_reduce_only_active_with_reason PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestReduceOnlyGuardExplanation::test_reduce_only_active_no_reason PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestReduceOnlyGuardExplanation::test_reduce_only_inactive PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestOtherGuardExplanations::test_position_limit_guard PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestOtherGuardExplanations::test_drawdown_guard PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestOtherGuardExplanations::test_volatility_guard PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestOtherGuardExplanations::test_rate_limit_guard PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestUnknownGuardFallback::test_unknown_guard_returns_fallback PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestUnknownGuardFallback::test_empty_guard_name_returns_fallback PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestGetGuardExplanations::test_multiple_guards PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestGetGuardExplanations::test_empty_guard_list PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_guard_explanations.py::TestGetGuardExplanations::test_mixed_known_and_unknown PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestRiskPreviewScenario::test_scenario_creation_and_immutability PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestRiskPreviewResult::test_result_creation PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestGetRatioStatus::test_status_boundaries PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestGetGuardImpacts::test_guards_by_threshold PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestGetGuardImpacts::test_reasons_include_threshold_text PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePreview::test_positive_shock_no_increase PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePreview::test_negative_shock_increases_loss PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePreview::test_shock_triggers_warning_and_critical PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePreview::test_leverage_fallback_and_no_limit PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestGetDefaultScenarios::test_returns_all_scenarios PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputeAllPreviews::test_returns_all_scenario_results PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputeAllPreviews::test_negative_scenarios_have_higher_loss PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestShockScenariosConstant::test_standard_scenarios PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePositionImpacts::test_no_positions_returns_empty PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePositionImpacts::test_zero_equity_returns_empty PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePositionImpacts::test_negative_shock_creates_impacts_for_long_positions PASSED [ 81%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePositionImpacts::test_positive_shock_gains_for_long_positions PASSED [ 82%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePositionImpacts::test_leverage_guard_triggers_on_excessive_leverage PASSED [ 82%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePositionImpacts::test_impacts_sorted_by_projected_loss PASSED [ 82%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePositionImpacts::test_guard_position_impact_dataclass PASSED [ 82%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePreviewWithPositionImpacts::test_compute_preview_includes_position_impacts PASSED [ 82%]
tests/unit/gpt_trader/tui/test_risk_preview.py::TestComputePreviewWithPositionImpacts::test_no_limit_returns_empty_position_impacts PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestHelpScreenFlow::test_help_screen_opens_on_question_mark PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestHelpScreenFlow::test_help_screen_closes_on_escape PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestHelpScreenFlow::test_help_screen_closes_on_question_mark PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestFullLogsScreenFlow::test_full_logs_opens_on_1 PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestFullLogsScreenFlow::test_full_logs_closes_on_escape PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestSystemDetailsScreenFlow::test_system_details_opens_on_2 PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestSystemDetailsScreenFlow::test_system_details_closes_on_escape PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestScreenStackBehavior::test_multiple_screens_can_be_stacked PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestScreenStackBehavior::test_escape_returns_to_previous_screen PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestConfigModalFlow::test_config_opens_on_c PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestModeInfoFlow::test_mode_info_opens_on_i PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestLogFocusFlow::test_logs_focus_on_l PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestQuickNavigationFlow::test_navigation_sequence_help_to_logs PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestQuickNavigationFlow::test_rapid_screen_toggling PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestScreenStatePreservation::test_main_screen_state_preserved_after_help PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screen_flows.py::TestScreenStatePreservation::test_mode_preserved_after_navigation PASSED [ 82%]
tests/unit/gpt_trader/tui/test_screens.py::TestMainScreen::test_update_ui PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestMainScreenSnapshots::test_main_screen_initial_state PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestMainScreenSnapshots::test_main_screen_compact_80x24 PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestMainScreenSnapshots::test_main_screen_standard_120x40 PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestMainScreenSnapshots::test_main_screen_wide_200x50 PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestThemeSnapshots::test_main_screen_dark_theme PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestThemeSnapshots::test_main_screen_light_theme PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestThemeSnapshots::test_main_screen_high_contrast_theme PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestEmptyStateSnapshots::test_portfolio_empty_positions PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestEmptyStateSnapshots::test_portfolio_empty_orders PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestHelpScreenSnapshots::test_help_screen PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestModeSelectionSnapshots::test_mode_selection_screen PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestWidgetSnapshots::test_portfolio_widget_with_positions PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestErrorStateSnapshots::test_error_indicator_visible PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestScreenTransitionSnapshots::test_full_logs_screen PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestScreenTransitionSnapshots::test_system_details_screen PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestScreenTransitionSnapshots::test_alert_history_screen PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestFocusStateSnapshots::test_tile_focus_ring PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestFocusStateSnapshots::test_focus_navigation_arrow_keys PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestValidationDisplaySnapshots::test_validation_failures_warning PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestValidationDisplaySnapshots::test_validation_escalated_error PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestDegradedStateSnapshots::test_degraded_mode_banner PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestDegradedStateSnapshots::test_connection_unhealthy_stale_data PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestLayoutGuardrails::test_minimum_terminal_size_renders PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestLayoutGuardrails::test_bento_grid_tile_visibility PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestLayoutGuardrails::test_no_overlapping_widgets PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestRiskPreviewSnapshots::test_risk_preview_safe PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestRiskPreviewSnapshots::test_risk_preview_critical PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestGuardThresholdSnapshots::test_risk_modal_with_active_guards PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestGuardThresholdSnapshots::test_risk_modal_multiple_guard_types PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestExecutionIssuesSnapshots::test_exec_issues_modal_with_data PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestExecutionIssuesSnapshots::test_exec_issues_modal_empty PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestStrategyDetailSnapshots::test_strategy_detail_signal_details_with_hints PASSED [ 82%]
tests/unit/gpt_trader/tui/test_snapshots.py::TestStrategyDetailSnapshots::test_strategy_detail_backtest_values PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetDataAgeSeconds::test_returns_none_when_no_data_available PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetDataAgeSeconds::test_returns_none_when_last_fetch_zero PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetDataAgeSeconds::test_returns_age_when_data_available PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessSeverity::test_returns_critical_when_connection_unhealthy PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessSeverity::test_returns_fresh_when_no_data_yet PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessSeverity::test_returns_fresh_for_recent_data PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessSeverity::test_returns_stale_for_aging_data PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessSeverity::test_returns_critical_for_old_data PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestFormatFreshnessLabel::test_formats_seconds PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestFormatFreshnessLabel::test_formats_minutes PASSED [ 82%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestFormatFreshnessLabel::test_formats_hours PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetFreshnessDisplay::test_returns_syncing_when_fetching PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetFreshnessDisplay::test_returns_none_when_no_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetFreshnessDisplay::test_returns_dim_for_fresh_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetFreshnessDisplay::test_returns_yellow_for_stale_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetFreshnessDisplay::test_returns_red_for_critical_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessBanner::test_returns_reconnecting_when_fetching PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessBanner::test_returns_degraded_banner PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessBanner::test_returns_none_when_fresh PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessBanner::test_returns_warning_when_stale PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetStalenessBanner::test_returns_error_when_critical PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetConnectionBanner::test_returns_none_when_stopped PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetConnectionBanner::test_returns_none_for_transitional_states PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetConnectionBanner::test_returns_none_for_healthy_states PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetConnectionBanner::test_returns_error_for_disconnected PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetEmptyStateConfig::test_returns_stopped_config_when_not_running PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetEmptyStateConfig::test_returns_read_only_config PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetEmptyStateConfig::test_returns_connection_failed_config PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetEmptyStateConfig::test_returns_connecting_config PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetEmptyStateConfig::test_returns_no_data_config PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetExecutionHealthBanner::test_returns_none_when_healthy PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetExecutionHealthBanner::test_returns_none_when_no_executions PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetExecutionHealthBanner::test_returns_error_when_circuit_open PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetExecutionHealthBanner::test_returns_error_when_success_rate_critical PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetExecutionHealthBanner::test_returns_warning_when_success_rate_low PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetExecutionHealthBanner::test_returns_warning_when_retry_rate_high PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetExecutionHealthBanner::test_handles_missing_execution_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestGetExecutionHealthBanner::test_handles_missing_resilience_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestExecutionHealthBannerIntegration::test_execution_health_takes_priority_over_staleness PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestExecutionHealthBannerIntegration::test_degraded_mode_takes_priority_over_execution PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestExecutionHealthBannerIntegration::test_execution_critical_shows_over_stale_warning PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_get_data_age_with_negative_last_fetch PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_connection_unhealthy_overrides_to_critical PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_staleness_banner_with_connection_unhealthy_and_fresh_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_freshness_display_with_connection_unhealthy PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_staleness_banner_with_none_degraded_reason PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_get_empty_state_config_handles_none_connection_status PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_get_connection_banner_case_insensitive PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_staleness_banner_returns_none_no_data_yet PASSED [ 83%]
tests/unit/gpt_trader/tui/test_staleness_helpers.py::TestStalenessEdgeCases::test_get_data_age_at_boundary_threshold PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_initial_state PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_update_from_bot_status PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_reactive_updates PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_initial_cfm_state PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_update_cfm_balance_with_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_update_cfm_balance_with_none PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_initial_data_state_properties PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_data_state_properties_can_be_set PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_is_data_stale_false_when_no_data PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_is_data_stale_false_when_data_fresh PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_is_data_stale_true_when_data_old PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_is_data_stale_false_at_threshold PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_initial_resilience_state PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_update_resilience_data_parses_metrics PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_update_resilience_data_handles_missing_fields PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_update_resilience_data_circuit_breaker_all_closed PASSED [ 83%]
tests/unit/gpt_trader/tui/test_state.py::TestTuiState::test_update_from_bot_status_populates_performance_metrics PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestStatusLevel::test_status_class_mapping PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestStatusLevel::test_status_icon_mapping PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestStatusLevel::test_status_color_mapping PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_latency_ok PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_latency_warning PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_latency_critical PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_cpu_ok PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_cpu_warning PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_cpu_critical PASSED [ 83%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_memory_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_memory_warning PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestPerformanceThresholds::test_memory_critical PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestRiskThresholds::test_default_thresholds_exist PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_no_limit_configured_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_zero_loss_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_small_loss_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_moderate_loss_returns_warning PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_high_loss_returns_critical PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_loss_at_limit_returns_critical PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_loss_exceeds_limit_returns_critical PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_abs_fix_negative_loss_handled_correctly PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_profit_does_not_affect_risk PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_boundary_at_ok_threshold PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_boundary_at_warn_threshold PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestLossRatioStatus::test_custom_thresholds PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestRiskScoreStatus::test_low_score_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestRiskScoreStatus::test_medium_score_returns_warning PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestRiskScoreStatus::test_high_score_returns_critical PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestRiskScoreStatus::test_custom_thresholds PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestRiskStatusLabel::test_ok_maps_to_low PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestRiskStatusLabel::test_warning_maps_to_medium PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestRiskStatusLabel::test_critical_maps_to_high PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestConfidenceThresholds::test_default_thresholds_exist PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestConfidenceStatus::test_high_confidence_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestConfidenceStatus::test_medium_confidence_returns_warning PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestConfidenceStatus::test_low_confidence_returns_critical PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestConfidenceStatus::test_custom_thresholds PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestConfidenceLabel::test_ok_maps_to_high PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestConfidenceLabel::test_warning_maps_to_med PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestConfidenceLabel::test_critical_maps_to_low PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestFormatConfidenceWithBadge::test_high_confidence_format PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestFormatConfidenceWithBadge::test_medium_confidence_format PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestFormatConfidenceWithBadge::test_low_confidence_format PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_open_status_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_pending_status_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_filled_status_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_cancelled_status_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_partial_status_returns_warning PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_expired_status_returns_warning PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_rejected_status_returns_critical PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_failed_status_returns_critical PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_unknown_status_returns_ok PASSED [ 84%]
tests/unit/gpt_trader/tui/test_thresholds.py::TestOrderStatusLevel::test_case_insensitive PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_simple_long_position PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_simple_short_position PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_partial_close PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_multiple_symbols PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_unmatched_trades PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_fifo_ordering PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_invalid_quantity PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_invalid_price PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_zero_fee PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_negative_pnl PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_zero_pnl PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_mixed_long_short_positions PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_empty_trades_list PASSED [ 84%]
tests/unit/gpt_trader/tui/test_trade_matcher.py::TestTradeMatcher::test_fractional_quantities PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestKeyboardNavigation::test_quit_shortcut PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestKeyboardNavigation::test_help_screen_toggle PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestKeyboardNavigation::test_theme_toggle PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestBotControlInteractions::test_start_bot_updates_ui PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestPortfolioWidgetInteractions::test_log_widget_on_main_screen PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestPortfolioWidgetInteractions::test_portfolio_accessible_via_details PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestDataTableInteractions::test_positions_table_accessible PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestModeIndicator::test_mode_indicator_shows_demo PASSED [ 84%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestLogWidgetInteractions::test_log_widget_exists PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestLogWidgetInteractions::test_log_level_filter_chips_present PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestFactoryIntegration::test_bot_status_factory_creates_valid_status PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestFactoryIntegration::test_bot_status_with_positions PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestFactoryIntegration::test_tui_state_factory_creates_valid_state PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestFactoryIntegration::test_tui_state_with_positions PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestStatusBarInteractions::test_status_bar_shows_on_main_screen PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestErrorIndicatorInteractions::test_error_indicator_exists PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestResponsiveLayout::test_app_handles_small_terminal PASSED [ 85%]
tests/unit/gpt_trader/tui/test_widget_interactions.py::TestResponsiveLayout::test_app_handles_large_terminal PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatPnlColored::test_positive_value_uses_success_color PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatPnlColored::test_negative_value_uses_error_color PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatPnlColored::test_none_value_uses_dim_style PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatPnlColored::test_zero_value_is_neutral PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatPnlColored::test_default_display_string PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatPnlColored::test_none_value_default_display PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatPnlColored::test_decimal_value PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatPnlColored::test_justify_parameter PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatSideColored::test_buy_uses_success_color PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatSideColored::test_sell_uses_error_color PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatSideColored::test_other_value_uses_error_color PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatLeverageColored::test_low_leverage_green PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatLeverageColored::test_medium_leverage_yellow PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatLeverageColored::test_high_leverage_red PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatLeverageColored::test_custom_thresholds PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatLeverageColored::test_justify_parameter PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatDirectionColored::test_positive_direction_green PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatDirectionColored::test_negative_direction_red PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatDirectionColored::test_zero_is_neutral PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestFormatDirectionColored::test_decimal_value PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestGetSparklineColor::test_uptrend_returns_success PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestGetSparklineColor::test_downtrend_returns_error PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestGetSparklineColor::test_flat_returns_success PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestGetSparklineColor::test_empty_list_returns_success PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_pnl_formatting.py::TestGetSparklineColor::test_single_value_returns_success PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTimestamp::test_iso_with_milliseconds_and_z PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTimestamp::test_iso_with_milliseconds PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTimestamp::test_iso_without_milliseconds PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTimestamp::test_empty_string PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTimestamp::test_no_t_separator PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTimestamp::test_already_formatted_time PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestTruncateId::test_long_id_truncated PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestTruncateId::test_short_id_unchanged PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestTruncateId::test_exact_length_unchanged PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestTruncateId::test_empty_string PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestTruncateId::test_none_returns_empty PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestTruncateId::test_default_length PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestCreateNumericCell::test_basic_value PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestCreateNumericCell::test_with_format_function PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestCreateNumericCell::test_custom_justify PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestCreateNumericCell::test_float_value PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestCreateNumericCell::test_string_value PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestSortTableData::test_sort_by_string_column_ascending PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestSortTableData::test_sort_by_string_column_descending PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestSortTableData::test_sort_by_numeric_column PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestSortTableData::test_sort_empty_list PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestSortTableData::test_sort_missing_column PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestSortTableData::test_sort_decimal_values PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTableCell::test_format_text PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTableCell::test_format_currency PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTableCell::test_format_percentage PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTableCell::test_format_number PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTableCell::test_format_decimal PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTableCell::test_format_with_max_length PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestFormatTableCell::test_format_none PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetSortIndicator::test_no_sort PASSED [ 85%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetSortIndicator::test_ascending_indicator PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetSortIndicator::test_descending_indicator PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetSortIndicator::test_different_column_no_indicator PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestCopyToClipboard::test_copy_on_macos PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestCopyToClipboard::test_copy_empty_string PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestParseTimestampToEpoch::test_float_passthrough PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestParseTimestampToEpoch::test_int_passthrough PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestParseTimestampToEpoch::test_iso_with_z_suffix PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestParseTimestampToEpoch::test_iso_with_microseconds_and_z PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestParseTimestampToEpoch::test_iso_without_z PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestParseTimestampToEpoch::test_none_returns_none PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestParseTimestampToEpoch::test_empty_string_returns_none PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestParseTimestampToEpoch::test_invalid_string_returns_none PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetAgeSeconds::test_recent_timestamp PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetAgeSeconds::test_old_timestamp PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetAgeSeconds::test_none_returns_none PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetAgeSeconds::test_zero_returns_none PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetAgeSeconds::test_negative_returns_none PASSED [ 86%]
tests/unit/gpt_trader/tui/utilities/test_table_formatting.py::TestGetAgeSeconds::test_future_timestamp_returns_zero PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidget::test_initial_state_compact PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidget::test_initial_state_expanded PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidget::test_on_state_updated_with_account_data PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetPartialState::test_handles_no_account_data PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetPartialState::test_handles_empty_balances PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetPartialState::test_handles_no_position_data PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetPartialState::test_handles_degraded_mode PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetPartialState::test_handles_connection_unhealthy PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetPartialState::test_handles_bot_not_running PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetSignatureCaching::test_skips_update_when_signature_unchanged PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetSignatureCaching::test_updates_when_balance_changes PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetSignatureCaching::test_updates_when_equity_changes PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetSignatureCaching::test_signature_includes_degraded_mode PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_account.py::TestAccountWidgetStateRegistry::test_mount_registers_with_state_registry PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_returns_rule_specific_hint PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_returns_rule_specific_hint_rate_limit PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_returns_rule_specific_hint_reduce_only PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_returns_rule_specific_hint_daily_loss PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_returns_rule_specific_hint_bot_stopped PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_falls_back_to_category_hint_system PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_falls_back_to_category_hint_risk PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_falls_back_to_category_hint_error PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestGetRecoveryHint::test_returns_none_for_unknown_category PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxRefreshAndEmptyStates::test_refresh_with_no_manager_calls_show_empty PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxRefreshAndEmptyStates::test_show_empty_hides_list_shows_empty_state PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxAlertListRender::test_refresh_with_alerts_updates_count_label PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxAlertListRender::test_refresh_with_alerts_shows_list_hides_empty PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxAlertListRender::test_refresh_with_alerts_appends_alert_items PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxAlertListRender::test_refresh_with_empty_alerts_shows_empty_state PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxFilterActions::test_action_filter_trade_sets_category_filter PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxFilterActions::test_action_filter_system_sets_category_filter PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxFilterActions::test_action_filter_error_sets_category_and_severity PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxFilterActions::test_action_filter_all_resets_filters PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxFilterActions::test_set_active_filter_toggles_button_classes PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxClearAction::test_action_clear_alerts_calls_clear_history PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxClearAction::test_action_clear_alerts_calls_notify PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxClearAction::test_action_clear_alerts_with_no_manager_does_not_crash PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertInboxBindings::test_has_expected_bindings PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertItem::test_alert_item_stores_alert PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertItem::test_alert_item_truncate_short_text PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_alert_inbox.py::TestAlertItem::test_alert_item_truncate_long_text PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_initial_state_no_cfm PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_update_balance_with_none PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_update_balance_with_valid_data PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_margin_utilization_color_coding_low PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_margin_utilization_color_coding_high PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_pnl_positive_color_coding PASSED [ 86%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_pnl_negative_color_coding PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_liquidation_buffer_critical PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_cfm_balance.py::TestCFMBalanceWidget::test_show_unavailable PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_positive_change PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_negative_change PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_no_change PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_empty_history_returns_zero PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_zero_oldest_price_returns_zero PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_uses_oldest_price_from_history PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_with_float_history PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_small_price_change PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_large_price_change PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_crypto_realistic_values PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_dashboard.py::TestCalculatePriceChangePercent::test_low_price_asset PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestExecutionIssuesModal::test_format_issue_row_buy_side PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestExecutionIssuesModal::test_format_issue_row_sell_side PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestExecutionIssuesModal::test_format_issue_row_missing_values PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestExecutionIssuesModal::test_format_issue_row_timestamp PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestModalWithEmptyData::test_empty_rejections_shows_dash PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestModalWithEmptyData::test_empty_retries_shows_dash PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestModalWithPopulatedData::test_multiple_rejections PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestModalWithPopulatedData::test_multiple_retries PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_execution_issues_modal.py::TestModalWithPopulatedData::test_summary_calculation PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetFilterChips::test_filter_bindings_present PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetFilterChips::test_action_filter_all_sets_debug_level PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetFilterChips::test_action_filter_error_sets_error_level PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetFilterChips::test_action_filter_warning_sets_warning_level PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetFilterChips::test_action_filter_info_sets_info_level PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetFilterChips::test_action_filter_debug_sets_debug_level PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetCycleFilter::test_cycle_level_filter_cycles_through_levels PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetCycleFilter::test_cycle_level_filter_wraps_around PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetCycleFilter::test_clear_filters_binding_exists PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetCycleFilter::test_clear_filters_resets_state PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetSetLevel::test_set_level_delegates_to_set_level_filter PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_logs.py::TestLogWidgetSetLevel::test_set_level_maps_all_standard_levels PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalConfirmButton::test_confirm_button_disabled_with_empty_input PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalConfirmButton::test_input_flatten_enables_confirm_button PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalConfirmButton::test_input_lowercase_flatten_does_not_enable PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalConfirmButton::test_input_partial_flatten_does_not_enable PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalConfirmButton::test_input_with_extra_chars_does_not_enable PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalConfirmButton::test_input_wrong_text_disables_button PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalDismissBehavior::test_cancel_button_dismisses_with_false PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalDismissBehavior::test_confirm_button_dismisses_with_true PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalDismissBehavior::test_unknown_button_does_not_dismiss PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalIntegration::test_modal_class_exists_and_inherits_from_modal_screen PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalIntegration::test_modal_has_compose_method PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalIntegration::test_modal_has_on_input_changed_method PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_panic.py::TestPanicModalIntegration::test_modal_has_on_button_pressed_method PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_init_default_mode PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_init_compact_mode PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_fps_class_good PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_fps_class_warning PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_fps_class_bad PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_latency_class_good PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_latency_class_warning PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_latency_class_bad PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_memory_class_good PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_memory_class_warning PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_memory_class_bad PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_cpu_class_good PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_cpu_class_warning PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_cpu_class_bad PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_watch_snapshot_none PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_watch_snapshot_updates_cached_labels PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_watch_snapshot_applies_warning_classes PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_watch_snapshot_applies_bad_classes PASSED [ 87%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_refresh_metrics_gets_snapshot PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardWidget::test_compact_mode_skips_expanded_metrics PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_fps_threshold_boundaries[0.5-status-ok] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_fps_threshold_boundaries[0.4999-status-warning] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_fps_threshold_boundaries[0.2-status-warning] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_fps_threshold_boundaries[0.1999-status-critical] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_latency_threshold_boundaries[49.9-status-ok] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_latency_threshold_boundaries[50-status-warning] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_latency_threshold_boundaries[149.9-status-warning] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_latency_threshold_boundaries[150-status-critical] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_memory_threshold_boundaries[59.9-status-ok] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_memory_threshold_boundaries[60-status-warning] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_memory_threshold_boundaries[79.9-status-warning] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_memory_threshold_boundaries[80-status-critical] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_cpu_threshold_boundaries[49.9-status-ok] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_cpu_threshold_boundaries[50-status-warning] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_cpu_threshold_boundaries[79.9-status-warning] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_performance_dashboard.py::TestPerformanceDashboardThresholds::test_cpu_threshold_boundaries[80-status-critical] PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardWidget::test_initial_state PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardWidget::test_on_state_updated_with_position PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardPartialState::test_handles_no_position_data PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardPartialState::test_handles_missing_system_data PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardPartialState::test_handles_degraded_mode PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardPartialState::test_handles_connection_unhealthy PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardPartialState::test_handles_bot_not_running PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardSignatureCaching::test_skips_update_when_signature_unchanged PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardSignatureCaching::test_updates_when_pnl_changes PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardSignatureCaching::test_signature_includes_connection_status PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_position_card.py::TestPositionCardStateRegistry::test_mount_registers_with_state_registry PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestFormatting::test_format_price PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestFormatting::test_format_quantity PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionsWidget::test_update_positions PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrdersWidget::test_update_orders PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrdersWidget::test_update_orders_trade_derived_fill PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrdersWidget::test_sort_cycle PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrdersWidget::test_sort_orders_by_fill_pct PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrdersWidget::test_sort_orders_by_fill_pct_descending PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrdersWidget::test_action_show_order_detail_no_orders PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrdersWidget::test_trades_stored_for_detail_modal PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_update_trades PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_update_trades_truncation PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_update_trades_with_matched_pnl PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_update_trades_unmatched_shows_na PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_trade_matcher_reset_event_handler PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_linkage_badges_with_no_state PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_symbol_filter_filters_trades PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_symbol_filter_cycle PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestTradesWidget::test_clear_filters PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrderDetailModal::test_init_with_order PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrderDetailModal::test_init_with_trades PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrderDetailModal::test_calculate_fill_pct PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrderDetailModal::test_calculate_total_fees PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestOrderDetailModal::test_format_trade_time PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_init_with_position PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_init_with_trades PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_calculate_total_fees PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_calculate_realized_pnl_long_position PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_calculate_realized_pnl_short_position PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_categorize_trades_long PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_categorize_trades_short PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_get_trade_type_long_position PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_get_trade_type_short_position PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_format_trade_time PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_filters_trades_by_symbol PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_get_recent_fills_ordering_and_limit PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestPositionDetailModal::test_format_recent_fill_row_contains_all_fields PASSED [ 88%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestFillQuality::test_build_fill_quality_line_no_trades PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestFillQuality::test_build_fill_quality_line_formats_values PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_positions.py::TestFillQuality::test_build_fill_quality_line_single_trade_zero_range PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_responsive_widgets.py::TestResponsiveWidgets::test_contextual_footer_updates_on_responsive_event PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_responsive_widgets.py::TestResponsiveWidgets::test_bot_status_updates_on_responsive_event PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_responsive_widgets.py::TestResponsiveWidgets::test_slim_status_updates_on_responsive_event PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_update_risk_basic PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_update_risk_with_reduce_only PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_update_risk_with_active_guards PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_daily_loss_progress_bar_update PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_risk_status_low PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_risk_status_medium PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_risk_status_high PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_no_daily_loss_limit_configured PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_profit_display PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_single_guard_display PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk.py::TestRiskWidget::test_reduce_only_reason_truncation PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_no_factors PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_with_moderate_loss PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_with_warning_loss PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_with_critical_loss PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_with_reduce_only PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_with_one_guard PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_with_two_guards PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_with_three_or_more_guards PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_risk_score_cumulative PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_score_breakdown_no_factors PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_score_breakdown_with_factors PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestRiskDetailModal::test_score_breakdown_guards_three_plus PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_get_sorted_guards_by_severity PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_get_sorted_guards_fallback_to_legacy PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_infer_severity_critical PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_infer_severity_high PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_infer_severity_medium PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_infer_severity_default_low PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_format_guard_row_with_recent_trigger PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_format_guard_row_never_triggered PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_format_age_seconds PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_format_age_minutes PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_format_age_hours PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_format_age_days PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_severity_order_property PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestEnhancedGuardVisibility::test_severity_order_case_insensitive PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestFocusPreviewParameter::test_default_focus_preview_is_false PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestFocusPreviewParameter::test_focus_preview_parameter_stored PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_risk_detail_modal.py::TestFocusPreviewParameter::test_focus_preview_explicit_false PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidget::test_update_strategy PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetBlockingReason::test_no_blocking_when_state_is_none PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetBlockingReason::test_no_blocking_when_no_risk_conditions PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetBlockingReason::test_reduce_only_mode_with_reason PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetBlockingReason::test_reduce_only_mode_truncates_long_reason PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetBlockingReason::test_single_guard_active PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetBlockingReason::test_multiple_guards_active PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetBlockingReason::test_reduce_only_takes_priority_over_guards PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetExecutedDecisions::test_no_executed_when_state_is_none PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetExecutedDecisions::test_no_executed_when_no_orders PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestStrategyWidgetExecutedDecisions::test_returns_decision_ids_from_orders PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestDecisionBlockedBy::test_decision_blocked_by_field_exists PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestDecisionBlockedBy::test_decision_blocked_by_defaults_to_empty PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestDecisionBlockedBy::test_decision_blocked_by_used_in_display PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestDecisionBlockedBy::test_fallback_to_current_risk_state PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestEntryExitBadge::test_buy_action_returns_entry_badge PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestEntryExitBadge::test_sell_action_returns_entry_badge PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestEntryExitBadge::test_close_action_returns_exit_badge PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestEntryExitBadge::test_exit_action_returns_exit_badge PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestEntryExitBadge::test_hold_action_returns_empty PASSED [ 89%]
tests/unit/gpt_trader/tui/widgets/test_strategy.py::TestEntryExitBadge::test_case_insensitive PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestSystemHealthWidget::test_update_system PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestSystemHealthWidget::test_disconnected_status PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestSystemHealthWidget::test_validation_failures_display_ok PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestSystemHealthWidget::test_validation_failures_display_warning PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestSystemHealthWidget::test_validation_failures_display_escalated PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestExecutionIssues::test_execution_issues_hidden_when_empty PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestExecutionIssues::test_execution_issues_shows_rejections PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestExecutionIssues::test_execution_issues_shows_retries PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestExecutionIssues::test_execution_issues_truncates_to_top_two PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system.py::TestExecutionIssues::test_execution_issues_hides_empty_category PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_initial_state PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_on_state_updated_extracts_system_data PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_on_state_updated_handles_numeric_cpu PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_on_state_updated_handles_missing_system_data PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_cpu_usage_updates_progress_bar PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_latency_green_threshold PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_latency_yellow_threshold PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_latency_red_threshold PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_connection_status_connected PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_connection_status_disconnected PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_connection_status_connecting PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_rate_limit_updates_progress_bar PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_rate_limit_high_value PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorWidget::test_watch_memory_usage_updates_progress_bar PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorStateRegistry::test_mount_registers_with_state_registry PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorPartialState::test_handles_partial_state_system_only PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorPartialState::test_handles_degraded_mode_with_no_data PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorPartialState::test_handles_connection_unhealthy_state PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorPartialState::test_handles_resilience_data_with_no_last_update PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorSignatureCaching::test_skips_update_when_signature_unchanged PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorSignatureCaching::test_updates_when_single_field_changes PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_system_monitor.py::TestSystemMonitorSignatureCaching::test_signature_includes_running_state PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsWidgetBindings::test_window_bindings_present PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsWidgetBindings::test_window_binding_actions_exist PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsWidgetModes::test_compact_mode_initialization PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsWidgetModes::test_default_mode_is_expanded PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsWidgetActions::test_action_cycle_window_calls_service PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsWidgetActions::test_action_reset_window_calls_service PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsWidgetStateUpdates::test_has_received_update_initially_false PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsWidgetStateUpdates::test_on_state_updated_sets_flag PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsDashboardIntegration::test_account_tile_actions_include_window_keybind PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsDashboardIntegration::test_account_tile_has_window_description PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsDashboardIntegration::test_main_screen_has_stats_widget_bindings PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_trading_stats.py::TestTradingStatsDashboardIntegration::test_main_screen_has_stats_action_methods PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_init_creates_empty_state PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_on_state_validation_failed_updates_counts PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_on_state_validation_failed_stores_errors PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_on_state_validation_passed_clears_counts PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_format_error_message_single_error PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_format_error_message_multiple_errors PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_format_warning_message_single_warning PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_get_validation_summary_with_errors PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_get_validation_summary_warnings_only PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_get_validation_summary_valid PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_get_error_details PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_update_display_with_errors PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_update_display_with_warnings PASSED [ 90%]
tests/unit/gpt_trader/tui/widgets/test_validation_indicator.py::TestValidationIndicatorWidget::test_update_display_valid PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestTradingPosition::test_trading_position_creation PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestTradingPosition::test_trading_position_with_all_fields PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestTradingPosition::test_trading_position_decimal_precision PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestAccountSnapshot::test_account_snapshot_creation PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestAccountSnapshot::test_account_snapshot_with_optional_fields PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestAccountSnapshot::test_account_snapshot_none_account_id PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestTradeFill::test_trade_fill_creation PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestTradeFill::test_trade_fill_with_string_side PASSED [ 90%]
tests/unit/gpt_trader/types/test_trading.py::TestTradeFill::test_trade_fill_with_all_fields PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestPerformanceSummary::test_performance_summary_creation PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestPerformanceSummary::test_performance_summary_with_all_fields PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestPerformanceSummary::test_performance_summary_negative_returns PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestTradingSessionResult::test_trading_session_result_creation PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestTradingSessionResult::test_trading_session_result_with_all_fields PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestOrderTicket::test_order_ticket_creation PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestOrderTicket::test_order_ticket_limit_order PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestOrderTicket::test_order_ticket_stop_order PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestOrderTicket::test_order_ticket_with_client_id PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestOrderTicket::test_order_ticket_all_time_in_force_options PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestModuleExports::test_all_exports PASSED [ 91%]
tests/unit/gpt_trader/types/test_trading.py::TestModuleExports::test_all_types_importable PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_health.py::test_health_check_with_no_metrics PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_health.py::test_health_check_flags_slow_operations PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_health.py::test_health_check_flags_high_resource_usage PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceMetric::test_init_required_fields PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceMetric::test_init_with_tags PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceMetric::test_str_without_tags PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceMetric::test_str_with_tags PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceMetric::test_to_dict PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceStats::test_default_values PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceStats::test_update_single PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceStats::test_update_multiple PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceStats::test_str_format PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_init PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_init_custom_history PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_record_stores_metric PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_record_updates_stats PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_record_calculates_recent_avg PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_get_stats_unknown_name PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_get_recent_metrics PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_get_recent_metrics_unknown PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_clear_specific_name PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_clear_all PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_get_summary PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestPerformanceCollector::test_max_history_enforced PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestGetCollector::test_returns_collector PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_metrics.py::TestGetCollector::test_returns_same_instance PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_monitor.py::test_record_duration_creates_metric PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_monitor.py::test_time_uses_measure_performance PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_monitor.py::test_decorator_times_function PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_monitor.py::test_summary_and_recent_metrics_delegate PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_monitor.py::test_system_snapshot_unavailable PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_monitor.py::test_system_snapshot_combines_data PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_reporter.py::test_generate_report_with_metrics PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_reporter.py::test_generate_report_no_data PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_reporter.py::test_log_report PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_reporter.py::test_save_report PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_resource.py::test_resource_monitor_reports_usage PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_resource.py::test_resource_monitor_handles_unavailable PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_resource.py::test_get_resource_monitor_memoizes_instance PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_resource.py::test_try_import_psutil_uses_legacy PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_resource.py::test_try_import_psutil_handles_import_error PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestMeasurePerformance::test_records_metric PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestMeasurePerformance::test_uses_provided_tags PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestMeasurePerformance::test_default_tags_empty PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestMeasurePerformance::test_uses_global_collector_when_none_provided PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestMeasurePerformanceDecorator::test_calls_function PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestMeasurePerformanceDecorator::test_records_metric PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestMeasurePerformanceDecorator::test_uses_function_name_when_no_operation_name PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestMeasurePerformanceDecorator::test_passes_tags PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestPerformanceTimer::test_init PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestPerformanceTimer::test_init_with_tags PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestPerformanceTimer::test_start PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestPerformanceTimer::test_stop_records_metric PASSED [ 91%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestPerformanceTimer::test_stop_without_start_raises PASSED [ 92%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestPerformanceTimer::test_context_manager_enter PASSED [ 92%]
tests/unit/gpt_trader/utilities/performance/test_timing.py::TestPerformanceTimer::test_context_manager_exit PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncUtilities::test_gather_with_concurrency PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncUtilities::test_wait_for_first PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncUtilities::test_is_async_func PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncUtilities::test_run_async_if_needed PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncPerformance::test_concurrent_execution_performance PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncPerformance::test_gather_with_concurrency_performance PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncPerformance::test_wait_for_first_performance PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncEdgeCasesAdvanced::test_gather_with_concurrency_empty PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncEdgeCasesAdvanced::test_gather_with_concurrency_single PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncEdgeCasesAdvanced::test_gather_with_concurrency_exceptions PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncEdgeCasesAdvanced::test_wait_for_first_empty PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncEdgeCasesAdvanced::test_wait_for_first_all_fail PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncEdgeCasesAdvanced::test_wait_for_first_cancellation PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncEdgeCasesAdvanced::test_is_async_func_edge_cases PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncEdgeCasesAdvanced::test_run_async_if_needed_edge_cases PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncIntegrationScenarios::test_rate_limiting_with_batch_processing PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncIntegrationScenarios::test_caching_with_retry PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncIntegrationScenarios::test_timeout_with_concurrency PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_advanced.py::TestAsyncIntegrationScenarios::test_complex_async_workflow PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncToSyncWrapper::test_async_to_sync_basic PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncToSyncWrapper::test_async_to_sync_with_exception PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncToSyncWrapper::test_async_to_sync_decorator PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncToSyncWrapper::test_async_to_sync_in_running_loop PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestSyncToAsyncWrapper::test_sync_to_async_basic PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestSyncToAsyncWrapper::test_sync_to_async_with_exception PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestSyncToAsyncWrapper::test_sync_to_async_decorator PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncContextManager::test_async_context_manager_basic PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncContextManager::test_async_context_manager_with_timeout PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncTimeout::test_async_timeout_success PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncTimeout::test_async_timeout_failure PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncBatchProcessor::test_batch_processor_basic PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncBatchProcessor::test_batch_processor_with_exceptions PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncRateLimiter::test_rate_limiter_basic PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncRateLimiter::test_rate_limiter_context_manager PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncRateLimiter::test_rate_limit_decorator PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncCache::test_async_cache_basic PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncCache::test_async_cache_ttl PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncCache::test_async_cache_clear PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncCache::test_async_cache_decorator PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncRetry::test_async_retry_success PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncRetry::test_async_retry_failure PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncRetry::test_async_retry_decorator PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncEdgeCases::test_rate_limiter_edge_cases PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncEdgeCases::test_cache_edge_cases PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncEdgeCases::test_batch_processor_empty PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_async_utils_core.py::TestAsyncEdgeCases::test_retry_zero_attempts PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_init_default PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_init_custom PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_success_logging PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_error_logging PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_warning_logging PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_info_logging PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_context_specific_logging PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_disabled_console_logging PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_all_methods_when_console_disabled PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_section PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_section_no_title PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_section_disabled PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_table PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_table_empty_rows PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_table_disabled PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_key_value PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_key_value_with_indent PASSED [ 92%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_key_value_disabled PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_structured_logging_integration PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_output_stream_error_handling PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_section_fallback_on_failure PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_table_fallback_on_failure PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestConsoleLogger::test_print_key_value_fallback_on_failure PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestGlobalConsoleLogger::test_get_console_logger_singleton PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestGlobalConsoleLogger::test_get_console_logger_custom_settings PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_core.py::TestGlobalConsoleLogger::test_get_console_logger_preserves_existing_instance PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestGlobalConsoleFunctions::test_console_success_function PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestGlobalConsoleFunctions::test_console_error_function PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestGlobalConsoleFunctions::test_console_warning_function PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestGlobalConsoleFunctions::test_console_info_function PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestGlobalConsoleFunctions::test_context_specific_functions PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestGlobalConsoleFunctions::test_console_section_function PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestGlobalConsoleFunctions::test_console_table_function PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestGlobalConsoleFunctions::test_console_key_value_function PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestIntegration::test_end_to_end_logging_workflow PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestIntegration::test_all_context_methods PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestIntegration::test_table_formatting_complex_data PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestIntegration::test_error_handling_in_global_functions PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestIntegration::test_function_parameter_passing PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_console_logging_functions.py::TestIntegration::test_multiple_function_calls PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcNow::test_utc_now_returns_timezone_aware PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcNow::test_utc_now_is_recent PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcNow::test_utc_now_consistency PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcNowIso::test_utc_now_iso_returns_string PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcNowIso::test_utc_now_iso_format PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcNowIso::test_utc_now_iso_consistency PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcTimestamp::test_utc_timestamp_returns_float PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcTimestamp::test_utc_timestamp_is_recent PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestUtcTimestamp::test_utc_timestamp_consistency PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestToIsoUtc::test_to_iso_utc_with_utc_datetime PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestToIsoUtc::test_to_iso_utc_with_naive_datetime PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestToIsoUtc::test_to_iso_utc_with_different_timezone PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestToIsoUtc::test_to_iso_utc_with_positive_timezone PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestToIsoUtc::test_to_iso_utc_with_microseconds PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestToIsoUtc::test_to_iso_utc_edge_cases PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestNormalizeToUtc::test_normalize_to_utc_with_utc_datetime PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestNormalizeToUtc::test_normalize_to_utc_with_naive_datetime PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestNormalizeToUtc::test_normalize_to_utc_with_different_timezone PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestNormalizeToUtc::test_normalize_to_utc_with_positive_timezone PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestNormalizeToUtc::test_normalize_to_utc_preserves_microseconds PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestNormalizeToUtc::test_normalize_to_utc_does_not_modify_original PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestIntegrationWorkflow::test_roundtrip_datetime_to_iso_and_back PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestIntegrationWorkflow::test_all_functions_use_utc PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_datetime_helpers.py::TestIntegrationWorkflow::test_timezone_conversion_consistency PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_iterators.py::TestEmptyStream::test_returns_iterator PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_iterators.py::TestEmptyStream::test_yields_nothing PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_iterators.py::TestEmptyStream::test_is_exhausted_immediately PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_iterators.py::TestEmptyStream::test_multiple_calls_independent PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_operation_with_plain_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_operation_with_default_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_trade_event_includes_all_context PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_trade_event_defaults_to_structured_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_trade_event_with_structured_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_position_update_adds_metrics PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_position_update_defaults_to_structured_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_position_update_with_plain_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_position_update_plain_logger_branch PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_position_update_wraps_logging_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_system_health_warns_on_non_healthy PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_system_health_wraps_logging_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_system_health_defaults_to_structured_logger PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_system_health_plain_logger_branch PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_error_with_context PASSED [ 93%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_error_with_context_without_component PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_configuration_change_includes_component PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_configuration_change_without_component PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_configuration_change_with_plain_logger PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_configuration_change_wraps_logging_logger PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_configuration_change_plain_logger_branch PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_market_data_update_supports_optional_fields PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_market_data_update_without_optional_fields PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_market_data_update_with_plain_logger_and_optional_fields PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_market_data_update_plain_logger_branch PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_market_data_update_wraps_logging_logger PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_execution_includes_args_and_result PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_execution_uses_module_logger_when_none PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_execution_with_structured_logger PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_execution_excludes_callable_args PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_log_execution_no_result_logging_when_none PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_structured_logger_methods_apply_component PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns.py::test_get_logger_returns_structured_logger PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_logging_patterns_execution.py::test_log_execution_includes_args_and_result PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_truthy_tokens[1] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_truthy_tokens[on] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_truthy_tokens[t] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_truthy_tokens[true] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_truthy_tokens[y] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_truthy_tokens[yes] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_falsy_tokens[0] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_falsy_tokens[f] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_falsy_tokens[false] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_falsy_tokens[n] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_falsy_tokens[no] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_falsy_tokens[off] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_handles_whitespace PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::test_interpret_tristate_bool_returns_none_for_unknown_values PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_enum_value_returns_unchanged PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_string_value_uppercase_matches PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_string_value_lowercase_matches_case_insensitive PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_string_value_mixed_case_matches PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_invalid_string_returns_none_and_normalized PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_case_sensitive_mode_lowercase_fails PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_case_sensitive_mode_exact_matches PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_alias_mapping_basic PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_alias_takes_precedence_over_enum_match PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_enum_value_bypasses_aliases PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_empty_aliases_dict PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_parsing.py::TestCoerceEnum::test_none_aliases PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_performance_monitor.py::test_record_duration_and_summary PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_performance_monitor.py::test_time_context_records_metric PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_performance_monitor.py::test_profile_decorator_uses_profiler PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_performance_monitor.py::test_system_snapshot_handles_unavailable PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_performance_monitor.py::test_system_snapshot_merges_metrics PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeIdempotence::test_idempotence PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeAlignment::test_result_on_grid PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeBounds::test_buy_floors_price PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeBounds::test_sell_ceils_price PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeEdgeCases::test_zero_increment_returns_original PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeEdgeCases::test_negative_increment_returns_original PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeEdgeCases::test_price_already_on_grid PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeEdgeCases::test_invalid_side_defaults_to_buy PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeEdgeCases::test_spread_consistency PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeRealWorldScenarios::test_real_world_prices[price0-increment0-BUY-expected0] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeRealWorldScenarios::test_real_world_prices[price1-increment1-SELL-expected1] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeRealWorldScenarios::test_real_world_prices[price2-increment2-BUY-expected2] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeRealWorldScenarios::test_real_world_prices[price3-increment3-SELL-expected3] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeRealWorldScenarios::test_real_world_prices[price4-increment4-BUY-expected4] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeRealWorldScenarios::test_real_world_prices[price5-increment5-SELL-expected5] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeRealWorldScenarios::test_real_world_prices[price6-increment6-BUY-expected6] PASSED [ 94%]
tests/unit/gpt_trader/utilities/test_quantization.py::TestQuantizeRealWorldScenarios::test_real_world_prices[price7-increment7-SELL-expected7] PASSED [ 95%]
tests/unit/gpt_trader/validation/test_base_validator.py::test_validator_no_predicate_is_pass_through PASSED [ 95%]
tests/unit/gpt_trader/validation/test_base_validator.py::test_validator_predicate_bool_result PASSED [ 95%]
tests/unit/gpt_trader/validation/test_base_validator.py::test_validator_predicate_tuple_allows_transformation PASSED [ 95%]
tests/unit/gpt_trader/validation/test_base_validator.py::test_validator_wraps_predicate_exceptions PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_returns_expected_structure PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_price_data PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_moving_averages PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_signal_generation PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_trading_logic PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_buy_sell_pairs PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_financial_calculations PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_logging PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_reproducibility PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_ma_crossover_logic PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_position_management PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_cash_flow PASSED [ 95%]
tests/unit/gpt_trader/validation/test_calculation_validator.py::TestManualBacktestExample::test_manual_backtest_example_buy_hold_comparison PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleInit::test_default_allow_none PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleInit::test_allow_none_false PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleInit::test_custom_separators PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_none_when_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_none_when_not_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_dict_input PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_string_input PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_invalid_type_raises PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_empty_key_raises PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_none_value_raises PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_empty_string_value_raises PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_value_converter_applied PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleApply::test_value_rule_applied PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleParseString::test_blank_items_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleParseString::test_blank_items_not_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleParseString::test_missing_separator_raises PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestMappingRuleParseString::test_custom_separators PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleInit::test_default_allow_none PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleInit::test_allow_none_false PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleInit::test_custom_separator PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_none_when_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_none_when_not_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_string_input PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_list_input PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_iterable_input PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_invalid_type_raises PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_blank_items_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_blank_items_not_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_none_item_in_list_when_blank_not_allowed PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_item_converter_applied PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_item_rule_applied PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_custom_separator PASSED [ 95%]
tests/unit/gpt_trader/validation/test_collection_rules.py::TestListRuleApply::test_strips_whitespace PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorBasics::test_single_validator PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorBasics::test_multiple_validators_all_pass PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorBasics::test_first_validator_fails PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorBasics::test_second_validator_fails PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorBasics::test_empty_composite_passes_through PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorChaining::test_validators_run_in_order PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorChaining::test_transformation_chain PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorChaining::test_mixed_transformation_and_validation PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorCallable::test_callable_interface PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorCallable::test_callable_with_default_field_name PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorWithDifferentTypes::test_string_validators PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorWithDifferentTypes::test_list_validators PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorWithDifferentTypes::test_numeric_range_validators PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorEdgeCases::test_validator_error_propagates_field_name PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorEdgeCases::test_none_value_handling PASSED [ 95%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorEdgeCases::test_deeply_nested_composites PASSED [ 96%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorEdgeCases::test_many_validators_in_chain PASSED [ 96%]
tests/unit/gpt_trader/validation/test_composite_validators.py::TestCompositeValidatorEdgeCases::test_early_failure_skips_remaining_validators PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_validates_simple_config PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_validates_with_transforming_validators PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_raises_for_missing_required_key PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_error_contains_field_name PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_raises_for_invalid_value PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_logs_warning_for_extra_keys PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_returns_only_schema_keys PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_empty_schema_with_empty_config PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfig::test_empty_schema_with_extra_config PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigWithValidators::test_with_string_validator PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigWithValidators::test_with_numeric_validator PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigWithValidators::test_with_list_validator PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigWithValidators::test_with_dict_validator PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigEdgeCases::test_validates_none_values PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigEdgeCases::test_validates_boolean_values PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigEdgeCases::test_validates_zero_values PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigEdgeCases::test_validates_empty_string PASSED [ 96%]
tests/unit/gpt_trader/validation/test_config_validators.py::TestValidateConfigEdgeCases::test_multiple_validation_errors_reports_first PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_validates_empty_dataframe PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_validates_dataframe_with_data PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_validates_required_columns_present PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_rejects_missing_columns PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_validates_min_rows PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_rejects_insufficient_rows PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_rejects_non_dataframe PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_rejects_dict PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestDataFrameValidator::test_field_name_in_error PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_validates_valid_ohlc PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_validates_flat_candle PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_missing_columns PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_high_less_than_low PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_high_below_open PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_high_below_close PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_low_above_open PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_low_above_close PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_negative_price PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_negative_volume PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_rejects_empty_dataframe PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_validates_multiple_valid_rows PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestOHLCDataValidator::test_detects_single_invalid_row_among_valid PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestSeriesValidator::test_validates_series PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestSeriesValidator::test_validates_empty_series PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestSeriesValidator::test_validates_named_series PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestSeriesValidator::test_rejects_list PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestSeriesValidator::test_rejects_dataframe PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestSeriesValidator::test_rejects_scalar PASSED [ 96%]
tests/unit/gpt_trader/validation/test_data_validators.py::TestSeriesValidator::test_field_name_in_error PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_with_validator_instance PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_rejects_invalid_input PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_with_callable PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_with_multiple_validators PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_validates_only_specified_params PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_with_kwargs PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_with_default_values PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_transforms_input PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_preserves_function_behavior PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsDecorator::test_decorator_with_mixed_positional_and_keyword PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsEdgeCases::test_validator_for_nonexistent_param_is_ignored PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsEdgeCases::test_callable_validator_receives_field_name PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsEdgeCases::test_validation_error_contains_field_info PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsEdgeCases::test_decorator_with_none_values PASSED [ 96%]
tests/unit/gpt_trader/validation/test_decorators.py::TestValidateInputsEdgeCases::test_decorator_with_complex_types PASSED [ 96%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_validates_positive_integer PASSED [ 96%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_validates_positive_float PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_validates_string_number PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_rejects_zero_by_default PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_allows_zero_when_configured PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_rejects_negative_number PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_rejects_negative_with_allow_zero PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_rejects_non_numeric_string PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_rejects_none PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPositiveNumberValidator::test_field_name_in_error_message PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_validates_decimal_percentage PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_validates_boundary_zero PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_validates_boundary_one PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_rejects_above_one_decimal PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_rejects_negative_decimal PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_validates_whole_percentage PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_validates_whole_percentage_boundaries PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_rejects_above_100_whole PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_rejects_negative_whole PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_validates_string_percentage PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_rejects_non_numeric PASSED [ 97%]
tests/unit/gpt_trader/validation/test_numeric_validators.py::TestPercentageValidator::test_field_name_in_error PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_validates_equity_symbol PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_validates_lowercase_equity PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_validates_crypto_spot_pair PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_validates_crypto_perpetual PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_validates_mixed_case PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_validates_numeric_in_symbol PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_validates_short_symbol PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_validates_long_symbol PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_rejects_empty_string PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_rejects_special_characters PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_rejects_spaces PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_rejects_non_string PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_rejects_too_long_base PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestSymbolValidator::test_field_name_in_error PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_validates_pascal_case PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_validates_single_word PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_validates_snake_case PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_validates_with_numbers PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_validates_with_dashes PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_validates_mixed_separators PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_rejects_starting_with_number PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_rejects_starting_with_underscore PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_rejects_special_characters PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_rejects_spaces PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_rejects_non_string PASSED [ 97%]
tests/unit/gpt_trader/validation/test_pattern_validators.py::TestStrategyNameValidator::test_field_name_in_error PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRule::test_parses_tokens_and_numbers PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRule::test_invalid_boolean_raises PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestMappingRule::test_parses_mapping_from_string PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestMappingRule::test_invalid_entry_raises PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestMappingRule::test_disallows_blank_entries_when_requested PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRule::test_coerces_str_and_numbers PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRule::test_empty_string_returns_default PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestFloatRule::test_uses_default_for_none PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestFloatRule::test_blank_string_errors_when_no_default PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestPercentageRule::test_accepts_fractional_range PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestPercentageRule::test_out_of_range_raises PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRule::test_valid_time_passes PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRule::test_invalid_format_raises PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestRuleChain::test_composes_rules PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestListRule::test_parses_string_list PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestListRule::test_disallows_empty_entries PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestListRule::test_cast_failure_surfaces PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestIntegerRule::test_parses_integers PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestIntegerRule::test_invalid_integer_raises PASSED [ 97%]
tests/unit/gpt_trader/validation/test_rules.py::TestSymbolRule::test_normalizes_and_validates PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestSymbolRule::test_invalid_symbol_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestSymbolRule::test_empty_string_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestSymbolRule::test_non_string_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestSymbolRule::test_lowercase_option PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRuleExtended::test_none_with_no_default_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRuleExtended::test_none_with_default_returns_default PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRuleExtended::test_custom_true_tokens PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRuleExtended::test_custom_false_tokens PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRuleExtended::test_float_1_converts_to_true PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRuleExtended::test_float_0_converts_to_false PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBooleanRuleExtended::test_string_true_false PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRuleExtended::test_none_allowed PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRuleExtended::test_none_not_allowed PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRuleExtended::test_non_string_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRuleExtended::test_empty_string_allowed PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRuleExtended::test_empty_string_not_allowed PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRuleExtended::test_strips_whitespace PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestTimeOfDayRuleExtended::test_boundary_times PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestStripStringRuleExtended::test_none_with_no_default_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestStripStringRuleExtended::test_none_with_default PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestStripStringRuleExtended::test_empty_with_default PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestStripStringRuleExtended::test_whitespace_with_default PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestStripStringRuleExtended::test_empty_without_default_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestStripStringRuleExtended::test_converts_non_string_to_string PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRuleExtended::test_none_with_default_returns_default PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRuleExtended::test_none_allowed PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRuleExtended::test_none_not_allowed_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRuleExtended::test_decimal_passthrough PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRuleExtended::test_float_conversion PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRuleExtended::test_empty_with_allow_none PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRuleExtended::test_empty_no_default_no_allow_none_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestDecimalRuleExtended::test_unsupported_type_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestFloatRuleExtended::test_allow_none PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestFloatRuleExtended::test_none_no_default_no_allow_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestFloatRuleExtended::test_string_conversion PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestFloatRuleExtended::test_blank_with_default PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestFloatRuleExtended::test_blank_with_allow_none PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestIntegerRuleExtended::test_none_allowed PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestIntegerRuleExtended::test_none_not_allowed_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestPercentageRuleExtended::test_none_allowed PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestPercentageRuleExtended::test_none_not_allowed_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestPercentageRuleExtended::test_auto_converts_integer_percentage PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestPercentageRuleExtended::test_boundary_values PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestPercentageRuleExtended::test_negative_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestPercentageRuleExtended::test_non_integer_over_1_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestRuleChainExtended::test_empty_chain_raises PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestRuleChainExtended::test_callable_conversion PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestFunctionRule::test_wraps_function PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestFunctionRule::test_apply_calls_function PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestFunctionRule::test_passes_field_name PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestNormalizeRule::test_returns_base_rule_unchanged PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestNormalizeRule::test_wraps_callable PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestNormalizeRule::test_raises_for_invalid_type PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBaseValidationRule::test_call_invokes_apply PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestBaseValidationRule::test_call_passes_field_name PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestRuleError::test_message_stored PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestRuleError::test_value_stored PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestRuleError::test_value_defaults_to_none PASSED [ 98%]
tests/unit/gpt_trader/validation/test_rules.py::TestRuleError::test_is_value_error_subclass PASSED [ 98%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_validates_date_object PASSED [ 98%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_validates_datetime_object PASSED [ 98%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_validates_iso_date_string PASSED [ 98%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_validates_iso_datetime_string PASSED [ 98%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_validates_within_min_date PASSED [ 98%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_validates_at_min_date_boundary PASSED [ 98%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_rejects_before_min_date PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_validates_within_max_date PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_rejects_after_max_date PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_validates_within_range PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_rejects_invalid_iso_string PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_rejects_partial_date_string PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_rejects_non_date_type PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_rejects_none PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_field_name_in_error PASSED [ 99%]
tests/unit/gpt_trader/validation/test_temporal_validators.py::TestDateValidator::test_datetime_comparison_with_datetime_bounds PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestTypeValidator::test_validates_correct_type_string PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestTypeValidator::test_validates_correct_type_int PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestTypeValidator::test_validates_correct_type_list PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestTypeValidator::test_rejects_wrong_type PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestTypeValidator::test_uses_custom_error_message PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestTypeValidator::test_field_name_in_error PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_validates_within_range_inclusive PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_validates_at_min_boundary_inclusive PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_validates_at_max_boundary_inclusive PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_rejects_below_min_inclusive PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_rejects_above_max_inclusive PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_rejects_at_min_boundary_exclusive PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_rejects_at_max_boundary_exclusive PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_validates_with_only_min PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_validates_with_only_max PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_uses_custom_error_message PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRangeValidator::test_field_name_in_error PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestChoiceValidator::test_validates_valid_choice PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestChoiceValidator::test_validates_numeric_choice PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestChoiceValidator::test_rejects_invalid_choice PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestChoiceValidator::test_case_sensitive PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestChoiceValidator::test_uses_custom_error_message PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestChoiceValidator::test_field_name_in_error PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRegexValidator::test_validates_matching_pattern PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRegexValidator::test_validates_email_pattern PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRegexValidator::test_rejects_non_matching_pattern PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRegexValidator::test_rejects_non_string_input PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRegexValidator::test_uses_custom_error_message PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRegexValidator::test_validates_start_anchor PASSED [ 99%]
tests/unit/gpt_trader/validation/test_type_validators.py::TestRegexValidator::test_field_name_in_error PASSED [ 99%]
tests/unit/logging/test_json_redaction.py::TestJSONRedaction::test_redaction PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultAction::test_should_trigger_immediately PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultAction::test_should_not_trigger_before_after_calls PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultAction::test_should_not_trigger_after_times_exhausted PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultAction::test_should_trigger_forever_with_negative_times PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultAction::test_execute_raises_exception PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultAction::test_execute_returns_value PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultAction::test_execute_with_delay PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultAction::test_predicate_filters_calls PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultPlan::test_add_returns_self_for_chaining PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultPlan::test_apply_increments_call_count PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultPlan::test_apply_returns_matching_action PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultPlan::test_apply_returns_none_for_unmatched PASSED [ 99%]
tests/unit/support/test_chaos.py::TestFaultPlan::test_reset_clears_state PASSED [ 99%]
tests/unit/support/test_chaos.py::TestChaosBroker::test_delegates_to_wrapped_when_no_fault PASSED [ 99%]
tests/unit/support/test_chaos.py::TestChaosBroker::test_injects_fault_instead_of_delegating PASSED [ 99%]
tests/unit/support/test_chaos.py::TestChaosBroker::test_returns_fault_value PASSED [ 99%]
tests/unit/support/test_chaos.py::TestChaosBroker::test_fault_exhausted_delegates PASSED [ 99%]
tests/unit/support/test_chaos.py::TestChaosBroker::test_non_callable_attributes_passthrough PASSED [ 99%]
tests/unit/support/test_chaos.py::TestDeterministicHelpers::test_fault_once_triggers_once PASSED [ 99%]
tests/unit/support/test_chaos.py::TestDeterministicHelpers::test_fault_after_delays_trigger PASSED [ 99%]
tests/unit/support/test_chaos.py::TestDeterministicHelpers::test_fault_always_triggers_forever PASSED [ 99%]
tests/unit/support/test_chaos.py::TestDeterministicHelpers::test_fault_sequence_creates_ordered_actions PASSED [ 99%]
tests/unit/support/test_chaos.py::TestScenarioPresets::test_api_outage_scenario PASSED [ 99%]
tests/unit/support/test_chaos.py::TestScenarioPresets::test_slippage_spike_scenario PASSED [ 99%]
tests/unit/support/test_chaos.py::TestScenarioPresets::test_preview_failures_scenario PASSED [ 99%]
tests/unit/support/test_chaos.py::TestScenarioPresets::test_broker_read_failures_scenario PASSED [100%]

--------------------------- snapshot report summary ----------------------------
30 snapshots passed.
============================= slowest 10 durations =============================
1701011242.82s setup    tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_daily_loss_guard_resets_each_day
1701011242.80s setup    tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_stale_mark_guard_handles_formats
1701011242.78s setup    tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_error_rate_guard_sliding_window
1701011242.76s setup    tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_position_stuck_guard_tracks_and_clears
1701011242.46s setup    tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestGuardStateTransitions::test_guard_status_transitions_breached_to_warning
1701011242.45s setup    tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestGuardStateTransitions::test_position_stuck_guard_state_tracking
1701011239.94s setup    tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_time_window_reset
1701011239.91s setup    tests/unit/gpt_trader/security/security_validator/test_rate_limiting.py::TestRateLimiting::test_rate_limit_time_precision
86460.00s call     tests/unit/gpt_trader/monitoring/guards/test_builtins_behaviour.py::test_daily_loss_guard_resets_each_day
86400.00s call     tests/unit/gpt_trader/monitoring/test_guard_manager_e2e.py::TestGuardStateTransitions::test_guard_status_transitions_breached_to_warning
==== 6597 passed, 10 skipped, 39 deselected, 3 xfailed in 133.78s (0:02:13) ====
[?1000l[?1002l[?1003l[?1004l[?1005l[?1006l[?1015l[?2004l[?25h

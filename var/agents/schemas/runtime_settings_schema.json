{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "RuntimeSettings",
  "type": "object",
  "properties": {
    "raw_env": {
      "type": "string",
      "description": "Raw environment variables snapshot",
      "default": {}
    },
    "runtime_root": {
      "type": "string",
      "description": "Root directory for runtime data",
      "default": "."
    },
    "event_store_root_override": {
      "type": "string",
      "description": "Override path for event store"
    },
    "coinbase_default_quote": {
      "type": "string",
      "description": "Default quote currency for Coinbase",
      "default": "USD"
    },
    "coinbase_default_quote_overridden": {
      "type": "string",
      "description": "Whether quote currency was overridden",
      "default": false
    },
    "coinbase_enable_derivatives": {
      "type": "string",
      "description": "Enable Coinbase derivatives trading",
      "default": false
    },
    "coinbase_enable_derivatives_overridden": {
      "type": "string",
      "description": "Whether derivatives flag was overridden",
      "default": false
    },
    "coinbase_us_futures_enabled": {
      "type": "string",
      "description": "Enable US futures trading",
      "default": false
    },
    "coinbase_intx_perpetuals_enabled": {
      "type": "string",
      "description": "Enable INTX perpetuals trading",
      "default": false
    },
    "coinbase_derivatives_type": {
      "type": "string",
      "description": "Type of derivatives: intx_perps, us_futures",
      "default": "intx_perps"
    },
    "perps_enable_streaming": {
      "type": "string",
      "description": "Enable streaming for perpetuals",
      "default": false
    },
    "perps_stream_level": {
      "type": "string",
      "description": "Streaming verbosity level (1-3)",
      "default": 1
    },
    "perps_paper_trading": {
      "type": "string",
      "description": "Enable paper trading mode for perps",
      "default": false
    },
    "perps_force_mock": {
      "type": "string",
      "description": "Force mock broker for perpetuals",
      "default": false
    },
    "perps_skip_startup_reconcile": {
      "type": "string",
      "description": "Skip position reconciliation at startup",
      "default": false
    },
    "perps_position_fraction": {
      "type": "string",
      "description": "Fraction of balance for perps positions"
    },
    "order_preview_enabled": {
      "type": "string",
      "description": "Enable order preview globally"
    },
    "spot_force_live": {
      "type": "string",
      "description": "Force live trading for spot",
      "default": false
    },
    "broker_hint": {
      "type": "string",
      "description": "Broker selection hint: coinbase, mock"
    },
    "coinbase_sandbox_enabled": {
      "type": "string",
      "description": "Use Coinbase sandbox environment",
      "default": false
    },
    "coinbase_api_mode": {
      "type": "string",
      "description": "API mode: advanced, simple",
      "default": "advanced"
    },
    "risk_config_path": {
      "type": "string",
      "description": "Path to risk configuration file"
    },
    "coinbase_intx_portfolio_uuid": {
      "type": "string",
      "description": "INTX portfolio UUID"
    },
    "environment": {
      "type": "string",
      "description": "Environment name: development, staging, production"
    },
    "trading_enabled": {
      "type": "string",
      "description": "Global trading enabled flag"
    },
    "max_position_size": {
      "type": "string",
      "description": "Global maximum position size override"
    },
    "max_daily_loss": {
      "type": "string",
      "description": "Global maximum daily loss override"
    },
    "circuit_breaker_enabled": {
      "type": "string",
      "description": "Enable circuit breaker protection"
    },
    "monitoring_enabled": {
      "type": "string",
      "description": "Enable monitoring and telemetry"
    }
  },
  "description": "Normalized snapshot of runtime-affecting environment toggles."
}

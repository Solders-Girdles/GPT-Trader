/* ============================================================================ */
/* GENERATED FILE - DO NOT EDIT DIRECTLY                                        */
/* ============================================================================ */
/*                                                                              */
/* This file is auto-generated by scripts/build_tui_css.py                     */
/* Edit the source modules in styles/ subdirectories instead:                   */
/*   - theme/       : Theme variables and colors                                */
/*   - layout/      : Screen and workspace layout                               */
/*   - components/  : Reusable UI components                                    */
/*   - widgets/     : Widget-specific styles                                    */
/*   - screens/     : Screen-specific styles                                    */
/*                                                                              */
/* To regenerate: python scripts/build_tui_css.py                               */
/*                                                                              */
/* ============================================================================ */


/* ---------------------------------------------------------------------------- */
/* THEME: Variables Light                                                     */
/* Source: styles/theme/variables_light.tcss                                   */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* THEME VARIABLES - Light (Claude Code-inspired)                             */
/* ========================================================================== */

/* === Backgrounds (Warm Light) === */
$bg-primary: #FAF8F5;      /* Warm off-white - Main background */
$bg-secondary: #F0EDE9;    /* Slightly darker panels */
$bg-elevated: #FFFFFF;     /* Pure white - Headers/Cards */
$bg-highlight: #E5E2DE;    /* Subtle highlight for hover states */

/* === Accents (Warm Rust) === */
$accent: #C15F3C;          /* Rust-orange - Primary action/Focus */
$accent-hover: #D4744F;    /* Lighter rust - Hover */
$accent-muted: #D4CFCA;    /* Neutral warm grey */
$accent-glow: #C15F3C;     /* Accent glow */
$accent-bright: #D4744F;   /* Brighter rust for pressed/active */
$accent-subtle: rgba(193, 95, 60, 0.1);  /* Subtle rust tint */

/* === Text Colors (Warm Dark) === */
$text-primary: #1A1815;    /* Deep brown - Primary text */
$text-secondary: #3D3833;  /* Medium brown - Secondary text */
$text-muted: #7A7672;      /* Muted grey - Hints/Disabled */
$text-bright: #1A1815;     /* Bright text for headers */

/* === Semantic Colors (Adjusted for Light BG) === */
$success: #4A7D44;         /* Dark green */
$success-muted: rgba(74, 125, 68, 0.12);
$success-dim: #3F6A3A;
$warning: #C89A2E;         /* Amber */
$warning-muted: rgba(200, 154, 46, 0.12);
$warning-dim: #A67E26;
$error: #C14F4A;           /* Coral red */
$error-muted: rgba(193, 79, 74, 0.12);
$error-dim: #A0433F;
$info: #4A7D9A;            /* Blue */
$info-muted: rgba(74, 125, 154, 0.12);

/* === Borders (Warm Neutrals) === */
$border-subtle: #D4CFCA;
$border-accent: #C15F3C;
$border-emphasis: #B8B2AD;

/* === Spacing Scale === */
$spacing-xs: 1;
$spacing-sm: 2;
$spacing-md: 3;
$spacing-lg: 4;

/* === Semantic Spacing Tokens === */
$gutter-tight: 1;
$gutter-standard: 2;
$gutter-comfortable: 3;
$content-padding: 2;
$section-gap: 4;

/* === Panel/Tile Tokens === */
$tile-padding: 1 2;
$tile-padding-compact: 1;
$widget-header-padding: 0 2;
$widget-content-padding: 1 2;

/* === Elevation System === */
$elevation-0: $bg-primary;
$elevation-1: $bg-secondary;
$elevation-2: $bg-elevated;
$elevation-3: $bg-highlight;

/* === Tile Border Tokens === */
$tile-border-default: solid $border-subtle;
$tile-border-accent: solid $border-accent;
$tile-border-highlight: solid $border-emphasis;

/* === Interactive State Overlays === */
$overlay-hover: rgba(193, 95, 60, 0.08);
$overlay-focus: rgba(193, 95, 60, 0.15);
$overlay-disabled: rgba(122, 118, 114, 0.3);
$overlay-active: rgba(193, 95, 60, 0.1);

/* === Panel Tokens === */
$panel-bg-default: $bg-secondary;
$panel-bg-elevated: $bg-elevated;
$panel-border-default: $border-subtle;
$panel-border-emphasis: $border-emphasis;

/* === Interactive State Tokens === */
$interactive-default: $bg-elevated;
$interactive-hover: $bg-highlight;
$interactive-active: $accent;
$interactive-disabled: $bg-secondary;

/* === Border Style Tokens === */
$border-default: solid $border-subtle;
$border-emphasis-style: solid $border-emphasis;
$border-glow: solid $accent-glow;


/* ---------------------------------------------------------------------------- */
/* LAYOUT: Screen                                                             */
/* Source: styles/layout/screen.tcss                                           */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* SCREEN & GLOBAL LAYOUT                                                     */
/* ========================================================================== */

Screen {
    layout: vertical;
    background: $bg-primary;
    color: $text-primary;
}

Label {
    color: $text-primary;
}


/* ---------------------------------------------------------------------------- */
/* LAYOUT: Workspace                                                          */
/* Source: styles/layout/workspace.tcss                                        */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* MAIN WORKSPACE - CLEAN BENTO GRID LAYOUT                                   */
/* Minimal borders, clear hierarchy, intuitive flow                           */
/* ========================================================================== */

#main-workspace {
    layout: vertical;
    height: 1fr;
    background: $bg-primary;
}

/* === Top Header === */
#header-bar {
    height: 3;
    dock: top;
    background: $elevation-2;
    border-bottom: none;
}

/* === Bento Grid System === */

#bento-grid {
    layout: grid;
    height: 1fr;
    grid-size: 4 4;

    /*
       Grid Template:
       Row 1: Hero (2col), Account (2col)
       Row 2: Market (3col), System (1col)
       Row 3+4: Logs (4col)
    */
    grid-columns: 1fr 1fr 1fr 1fr;
    grid-rows: 2fr 2fr 1fr 1fr;

    grid-gutter: 1;        /* Tight gutter - cleaner look */
    padding: 0 1;          /* Minimal edge padding */
    background: $bg-primary;
}

/* --- Tile Base Styling --- */
.bento-tile {
    padding: 1;
    height: 100%;
    layout: vertical;
    background: transparent;
    border: none;
}

/* --- Area Definitions --- */

/* Hero: Active Position (Top Left) - Primary emphasis */
#tile-hero {
    column-span: 2;
    background: $elevation-1;
    border-left: wide $accent;
}

/* Account: (Top Right) */
#tile-account {
    column-span: 2;
    background: transparent;
}

/* Market Pulse: (Middle) */
#tile-market {
    column-span: 3;
    background: transparent;
}

/* System Monitor: (Middle Right) */
#tile-system {
    column-span: 1;
    background: transparent;
}

/* Logs: (Bottom, full width) */
#tile-logs {
    column-span: 4;
    row-span: 2;
    background: transparent;
    border-top: none;
}

/* === Focus States === */
.bento-tile:focus-within {
    border-left: wide $accent;
    background: $elevation-1;
}

.bento-tile.tile-focused {
    border-left: wide $accent;
    background: $elevation-1;
}

/* === Responsive Variants === */

#bento-grid.compact {
    grid-gutter: 0;
    padding: 0;
}

#bento-grid.comfortable {
    grid-gutter: 1;
    padding: 1 2;
}

#bento-grid.wide {
    grid-gutter: 2;
    padding: 1 2;
}

/* === Widget Overrides === */

#dash-logs {
    background: transparent;
    border: none;
}

.logs-panel {
    background: transparent;
    border: none;
}

#dash-position {
    align: center middle;
}

#dash-account {
    padding: 0 1;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Focus                                                          */
/* Source: styles/components/focus.tcss                                        */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* FOCUS INDICATORS (Accessibility)                                           */
/* ========================================================================== */

/* Global focus indicator - subtle accent */
*:focus {
    border-left: wide $accent;
}

/* DataTable focus - highlight selected row */
DataTable:focus {
    border-left: wide $accent;
}

DataTable > .datatable--cursor {
    background: $overlay-focus;  /* Subtle highlight for cursor row */
}

DataTable:focus > .datatable--cursor {
    background: rgba(212, 116, 79, 0.3);  /* Stronger highlight when focused */
    color: $text-primary;
}

/* TabbedContent focus - highlight active tab */
TabbedContent:focus Tab.-active {
    border: none;
    border-left: wide $accent;
    text-style: bold;
}

/* Input/Select focus - subtle left accent */
Input:focus, Select:focus {
    border-left: wide $accent;
}

/* ========================================================================== */
/* TILE FOCUS - 2D Grid Navigation                                            */
/* ========================================================================== */

/* === Focus Ring for Bento Tiles === */

/* Focused tile - clean left accent only */
.bento-tile.tile-focused {
    border: none;
    border-left: wide $accent;
    background: $elevation-2;
}

/* Focused tile header gets accent color */
.bento-tile.tile-focused .widget-header {
    color: $accent;
    border-left: wide $accent;
}

/* Hero tile gets extra emphasis when focused */
#tile-hero.tile-focused {
    border: none;
    border-left: wide $accent;
    background: $elevation-2;
}

/* === Focus Navigation Hints === */

/* Arrow indicators showing navigation direction
 * Note: Textual uses dock-based positioning, not absolute.
 */
.focus-nav-hint {
    color: $accent;
    text-style: bold;
    width: auto;
    height: auto;
}

.focus-nav-up { dock: top; }
.focus-nav-down { dock: bottom; }
.focus-nav-left { dock: left; }
.focus-nav-right { dock: right; }

/* === Actions Hint Row === */

/* Container for tile actions - shown at bottom of focused tiles */
.tile-actions-hint {
    height: 1;
    width: 100%;
    background: $accent-subtle;
    color: $text-secondary;
    padding: 0 1;
    layout: horizontal;
    align: left middle;
    border: none;
    display: none;
}

/* Show actions hint only when tile is focused */
.bento-tile.tile-focused .tile-actions-hint {
    display: block;
}

/* Tile-specific action hint styling - slightly more prominent */
.tile-actions-hint .action-hint {
    padding: 0 2;
    color: $text-secondary;
}

/* === Focus Indicator Badge === */

/* Numbered badge showing current tile position */
.focus-indicator {
    background: $accent;
    color: $bg-primary;
    padding: 0 1;
    text-style: bold;
    display: none;
    min-width: 3;
    text-align: center;
}

.bento-tile.tile-focused .focus-indicator {
    display: block;
}

/* === Focus Position Label === */

/* Shows "1/4" style position indicator */
.focus-position {
    color: $text-muted;
    padding: 0 1;
    text-align: right;
    display: none;
}

.bento-tile.tile-focused .focus-position {
    display: block;
}

/* === Keyboard Shortcut Overlay === */

/* Enter key hint shown on focused tile */
.focus-enter-hint {
    color: $accent;
    text-style: bold;
    padding: 0 1;
    background: $accent-subtle;
    display: none;
}

.bento-tile.tile-focused .focus-enter-hint {
    display: block;
}

/* === Unfocused Tile Styling === */

/* Note: Textual doesn't support :not() pseudo-class.
 * Unfocused tile dimming is handled by the focused tile's
 * elevated background creating visual contrast instead.
 */

/* === Focus Ring Animation (Terminal-safe) === */

/* Pulsing indicator class - toggled by Python */
.focus-pulse {
    border-left: wide $accent;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Headers                                                        */
/* Source: styles/components/headers.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* HEADERS & FOOTERS - Technical/Clean                                        */
/* ========================================================================== */

Header {
    dock: top;
    height: 1;
    background: $bg-secondary;
    color: $text-primary;
}

/* App header - Streamlined */
Header.app-header {
    height: 3;
    background: $bg-elevated;
    border: none;
    border-left: wide $accent;
    color: $text-primary;
    text-style: bold;
    padding: 0 1;
    layout: horizontal;
    align-vertical: middle;
}

/* Compact sub-header */
Header.sub-header {
    dock: top;
    height: 3;
    background: $bg-elevated;
    color: $text-primary;
    border: none;
    border-left: wide $accent;
    text-style: bold;
}

Header.sub-header HeaderIcon {
    width: 5;
    height: 3;
    content-align: center middle;
    color: $accent;
    background: transparent;
    text-style: bold;
}

Header.sub-header HeaderTitle {
    height: 3;
    color: $text-bright;
    text-style: bold;
    content-align: center middle;
    width: 1fr;
}

Header.sub-header HeaderClock {
    dock: right;
    height: 3;
    width: 14;
    min-width: 14;
    background: $bg-secondary;
    color: $accent;
    padding: 0 2;
    text-style: bold;
    content-align: center middle;
}

Header.app-header HeaderIcon {
    width: 14;
    height: 3;
    padding: 0 1;
    content-align: center middle;
    color: $text-primary;
    background: $bg-secondary;
    text-style: bold;
}

Header.app-header HeaderIcon:hover {
    background: $bg-highlight;
    color: $text-bright;
}

Header.app-header HeaderTitle {
    height: 3;
    color: $text-bright;
    text-style: bold;
    content-align: center middle;
    width: 1fr;
}

Header.app-header HeaderClock {
    height: 3;
    min-width: 12;
    background: transparent;
    color: $text-secondary;
    padding: 0 $spacing-md;
    content-align: center middle;
}

Footer {
    dock: bottom;
    height: 1;
    background: $bg-secondary;
    color: $text-primary;
}

/* === Widget Headers === */

/* Standard widget header - minimal and clean */
.widget-header {
    color: $text-primary;
    text-style: bold;
    text-align: left;
    background: transparent;
    padding: 0 1;
    border-left: wide $accent;
    border-bottom: none;
    height: 2;
    content-align: left middle;
    margin-bottom: 0;
}

/* Screen-level header */
.screen-header {
    color: $text-bright;
    text-style: bold;
    text-align: center;
    background: $bg-elevated;
    padding: 0 2;
    border: none;
    border-left: wide $accent;
    height: 3;
    content-align: center middle;
    margin-bottom: 1;
}

/* Accent variant */
.widget-header-accent {
    border-left: wide $accent;
    background: $bg-highlight;
}

.header-icon {
    color: $text-muted;
    margin-right: $spacing-xs;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Command Bar                                                    */
/* Source: styles/components/command_bar.tcss                                  */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* COMMAND BAR - Clean Professional Header                                    */
/* ========================================================================== */

CommandBar {
    dock: top;
    height: 3;
    background: $bg-elevated;
    border: none;
    border-left: wide $accent;
    layout: horizontal;
    padding: 0 2;
}

/* === Identity Section - Subtle branding === */
.identity-section {
    width: auto;
    min-width: 12;
    height: 3;
    color: $text-primary;
    background: transparent;
    text-style: bold;
    content-align: center middle;
    padding: 0 2;
}

/* === Status Section - Center info === */
.status-section {
    width: 1fr;
    height: 100%;
    content-align: center middle;
    color: $text-secondary;
    layout: horizontal;
}

/* Mode badge styling - refined, less saturated */
.mode-badge {
    color: $text-primary;
    background: $bg-highlight;
    padding: 0 2;
    text-style: bold;
    margin: 0 1;
}

/* Mode-specific colors - subtle backgrounds */
.mode-badge.mode-live {
    background: $error-muted;
    color: $error;
}

.mode-badge.mode-paper {
    background: $warning-muted;
    color: $warning;
}

.mode-badge.mode-demo,
.mode-badge.mode-read_only {
    background: $info-muted;
    color: $info;
}

/* Connection status text */
.status-text {
    color: $text-secondary;
    height: 3;
    content-align: center middle;
    margin: 0 1;
}

.status-text.connected {
    color: $success;
}

.status-text.stopped {
    color: $info;
}

.status-text.stale {
    color: $warning;
}

.status-text.disconnected {
    color: $error;
}

/* === System Section - Right side === */
.system-section {
    width: auto;
    height: 100%;
    padding-left: 2;
    layout: horizontal;
    align-vertical: middle;
}

.clock {
    color: $text-muted;
    margin-left: 1;
}

.user-badge {
    color: $text-muted;
    background: transparent;
    padding: 0 1;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Buttons                                                        */
/* Source: styles/components/buttons.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* BUTTONS                                                                    */
/* ========================================================================== */

Button {
    min-width: 10;
    height: 2;
    margin: 0 1;
    border: none;
    border-left: wide $accent-muted;
    padding: 0 2;
    background: $bg-elevated;
    color: $text-primary;
    text-style: bold;
}

Button:hover {
    border-left: wide $accent;
    background: $accent-muted;
    color: $text-primary;
}

Button:focus {
    border-left: wide $accent;
    background: $accent;
    color: $bg-primary;
}

Button.-disabled {
    opacity: 0.5;
    color: $text-muted;
    border: none;
    border-left: wide $border-subtle;
}

/* === Control Buttons (Start/Stop) === */

#start-btn {
    background: $success;
    color: $bg-primary;
    border: none;
    border-left: wide $success;
}

#start-btn:hover {
    background: $success;
    color: $bg-primary;
    border: none;
    border-left: wide $success;
    text-style: bold;
}

#stop-btn {
    background: $error;
    color: $bg-primary;
    border: none;
    border-left: wide $error;
}

#stop-btn:hover {
    background: $error;
    color: $bg-primary;
    border: none;
    border-left: wide $error;
    text-style: bold;
}

/* === Button Group === */

.button-group {
    align-vertical: middle;
    height: 100%;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Tables                                                         */
/* Source: styles/components/tables.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* DATATABLE - Professional/Refined Look                                      */
/* ========================================================================== */

DataTable {
    background: $bg-primary;
    color: $text-primary;
    border: none;
    padding: 0 1;
}

DataTable > .datatable--header {
    background: transparent;
    color: $text-bright;
    text-style: bold;
    padding: 0 1;
    border-bottom: none;
}

/* Column separators - minimal */
DataTable > .datatable--header-cell {
    border-right: none;
    padding-right: 2;
}

DataTable > .datatable--cell {
    border-right: none;
    padding: 0 1;
    overflow: hidden;
}

DataTable > .datatable--cursor {
    background: $accent-subtle;
    color: $text-primary;
    text-style: bold;
    border-left: wide $accent;
    border-right: none;
}

DataTable > .datatable--odd-row {
    background: $bg-primary;
}

DataTable > .datatable--even-row {
    background: rgba(255, 255, 255, 0.02);
}

DataTable:focus > .datatable--cursor {
    background: $accent;
    color: #FFFFFF;
    text-style: bold;
    border-left: wide $accent;
    border-right: none;
}

/* Row hover effect */
DataTable > .datatable--hover {
    background: $bg-highlight;
    border-left: wide $accent-muted;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Tabs                                                           */
/* Source: styles/components/tabs.tcss                                         */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* TABS - Professional Styling                                               */
/* ========================================================================== */

Tabs {
    background: transparent;
    color: $text-primary;
    dock: top;
    height: 2;
    border-bottom: none;
}

Tab {
    padding: 0 2;
    margin-right: 1;
    border: none;
}

Tab.-active {
    background: transparent;
    color: $accent;
    text-style: bold;
    border-bottom: wide $accent;
    border-top: none;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Select                                                         */
/* Source: styles/components/select.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* SELECT DROPDOWN STYLING                                                    */
/* ========================================================================== */

/* Base Select widget styling */
Select {
    width: auto;
    min-width: 18;
    height: 2;
    background: $bg-elevated;
    color: $text-primary;
    border: none;
    border-left: wide $accent-muted;
    padding: 0;
    content-align: left middle;
}

Select:hover {
    border-left: wide $accent;
}

Select:focus {
    border-left: wide $accent;
    background: $bg-elevated;
}

/* Select current value display */
Select > SelectCurrent {
    height: 100%;
    min-height: 2;
    background: $bg-elevated;
    color: $text-primary;
    border: none;
    padding: 0 1;
    content-align: left middle;
    text-style: bold;
}

/* Ensure label/arrow are visible in collapsed state */
Select > SelectCurrent > Static#label {
    width: 1fr;
    min-width: 12;
    height: 100%;
    color: $text-primary;
    background: transparent;
    content-align: left middle;
    text-style: bold;
    opacity: 1;
    display: block;
    padding: 0 1;
}

Select > SelectCurrent.-has-value Static#label {
    color: $text-primary;
}

Select > SelectCurrent > .arrow {
    color: $text-primary;
    padding-left: 1;
    opacity: 1;
}

Select.-disabled > SelectCurrent {
    color: $text-muted;
    border: none;
    background: $bg-elevated;
}

/* Dropdown overlay - ensure proper layering and visibility */
/* NOTE: SelectOverlay is an OptionList (not a container), and Textual defines
   defaults with `Select > SelectOverlay` selectors. Match that specificity so
   our styles reliably override the built-ins. */
Select > SelectOverlay {
    /* Ensure the dropdown renders above all tiles (fixes clipping). */
    overlay: screen;
    layer: overlay;

    /* Styling */
    background: $bg-elevated;
    color: $text-primary;
    border: none;
    border-left: wide $accent;
    padding: 0 1;

    /* Sizing */
    width: auto;
    min-width: 22;
    max-height: 18;

    scrollbar-background: $bg-secondary;
    scrollbar-color: $accent-muted;
}

/* Individual options in dropdown */
Select > SelectOverlay > .option-list--option {
    padding: 0 2;
    background: $bg-elevated;
    color: $text-primary;
}

Select > SelectOverlay > .option-list--option-highlighted {
    background: $accent-muted;
    color: $text-primary;
    text-style: bold;
}

Select > SelectOverlay > .option-list--option-hover {
    background: $overlay-hover;
}

/* Mode selector specific sizing */
#mode-selector Select {
    min-width: 28;
    width: 30;
}

#mode-selector SelectCurrent {
    background: $bg-elevated;
    border: none;
    color: $text-primary;
}

#mode-selector SelectOverlay {
    min-width: 30;
    width: 32;
    max-height: 18;
}

/* Log level selector sizing to prevent truncation */
#log-level-select {
    min-width: 14;
    width: 16;
}

#log-level-select SelectCurrent {
    background: $bg-elevated;
    border: none;
    color: $text-primary;
}

#log-level-select SelectOverlay {
    min-width: 16;
    width: 18;
    max-height: 12;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Utilities                                                      */
/* Source: styles/components/utilities.tcss                                    */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* UTILITY CLASSES                                                            */
/* ========================================================================== */

/* === Typography Utilities === */

.text-success { color: $success; }
.text-error { color: $error; }
.text-warning { color: $warning; }
.text-info { color: $info; }
.text-muted { color: $text-muted; }

.bold { text-style: bold; }

/* Numeric alignment for DataTable cells */
.text-numeric {
    text-align: right;
}

/* === Empty States - Professional Display === */

.empty-state {
    height: auto;           /* Allow multi-line content */
    min-height: 3;          /* Minimum height for visibility */
    border: none;            /* No border */
    background: transparent;
    padding: $spacing-md $spacing-lg; /* Increased padding */
    margin: $spacing-md 0;   /* Vertical margin */
    color: $text-muted;
    text-align: center;
    display: none;           /* Hidden by default */
    content-align: center middle; /* Center content */
}

/* === P&L Color Coding === */

.pnl-positive {
    color: $success;
}

.pnl-negative {
    color: $error;
}

.pnl-neutral {
    color: $text-secondary;
}

/* === Status Labels & Values === */

.status-label {
    color: $text-secondary;
    text-style: bold;
    margin-right: $spacing-xs;
}

.status-value {
    color: $text-primary;
    text-style: bold;
    margin-right: $spacing-md;
    background: $bg-elevated;
    padding: $spacing-xs $spacing-md; /* Increased padding */
    border-left: solid $accent-muted; /* Subtle accent border */
}

.status-running {
    color: $success;
    background: rgba(122, 168, 116, 0.2);
    padding: 0 $spacing-md;
    border: none;
    border-left: wide $success;
}

.status-stopped {
    color: $error;
    background: rgba(212, 115, 110, 0.2);
    padding: 0 $spacing-md;
    border: none;
    border-left: wide $error;
}

/* === Connection Status Indicators === */

.status-connected {
    color: $success;
}

.status-disconnected {
    color: $error;
}

.status-unknown {
    color: $warning;
}

/* === Heartbeat Indicator === */

.heartbeat-pulse {
    margin-left: $spacing-xs;
}

.heartbeat-bright {
    color: $success;
    text-style: bold;
}

.heartbeat-dim {
    color: $text-muted;
}

/* === Tile Banners (inline per-tile status) === */

.tile-banner {
    height: 1;
    width: 100%;
    padding: 0 $spacing-sm;
    margin: 0 0 $spacing-xs 0;
    background: $bg-elevated;
    border-left: wide $accent-muted;
    color: $text-secondary;
    content-align: left middle;
}

.tile-banner.info {
    background: $info-muted;
    border-left: wide $info;
    color: $info;
}

.tile-banner.warning {
    background: $warning-muted;
    border-left: wide $warning;
    color: $warning;
}

.tile-banner.error {
    background: $error-muted;
    border-left: wide $error;
    color: $error;
}

/* === Sort Hint for Detail Screens === */

.sort-hint {
    height: 1;
    color: $text-muted;
    text-style: italic;
    padding: 0 1;
    margin-bottom: 1;
}

/* === Action Hints (Base Style) === */
/* Keyboard shortcut hints shown in tiles, empty states, and quick actions.
   Context-specific overrides in focus.tcss, dashboard.tcss */

.action-hint {
    height: 1;
    padding: 0 1;
    color: $text-muted;
}

.action-key {
    color: $accent;
    text-style: bold;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Animations                                                     */
/* Source: styles/components/animations.tcss                                   */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* ANIMATIONS & TRANSITIONS                                                   */
/* ========================================================================== */

/* Note: Textual has limited transition support
 * Animations are handled via Python update intervals
 */

/* === Loading Spinner === */

/* Note: Unicode Braille spinner is animated via Python interval,
 * not CSS animations, for reliable terminal rendering.
 */

LoadingSpinner {
    width: auto;
    height: auto;
    align-horizontal: center;
    align-vertical: middle;
}

#spinner-display {
    color: $accent;
    text-style: bold;
    text-align: center;
}

.loading-spinner {
    color: $accent;
    text-style: bold;
    text-align: center;
}

.loading-message {
    color: $text-secondary;
    text-align: center;
    margin-top: $spacing-xs;
}

.loading-container {
    padding: $spacing-lg;
    background: rgba(58, 53, 48, 0.2);
    border: none;
    border-left: wide $accent-muted;
    align-horizontal: center;
    align-vertical: middle;
}

/* === Spinner Content Container === */
.spinner-content {
    width: 100%;
    height: auto;
    align: center middle;
}

.loading-subtitle {
    color: $text-muted;
    text-align: center;
    margin-top: 0;
    text-style: italic;
}

/* === Skeleton Loader === */
SkeletonLoader {
    width: 100%;
    height: auto;
    align: center middle;
    padding: 1;
}

.skeleton-line {
    color: $bg-elevated;
    height: 1;
    margin-bottom: 1;
}

/* Note: Textual doesn't support @keyframes or @media queries
 * Advanced animations and media queries must be implemented in Python
 */


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Status                                                         */
/* Source: styles/components/status.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* STATUS INDICATORS - Unified status classes for all widgets                 */
/* ========================================================================== */
/*
 * Standard status levels:
 * - status-ok: Normal operation (green)
 * - status-warning: Needs attention (yellow)
 * - status-critical: Requires action (red)
 *
 * These classes can be applied to any element that shows metric status.
 */

/* === Status Colors === */
/* Each status has color + text-style differentiation for accessibility */
/* OK: normal weight, no decoration */
/* WARNING: italic for visual distinction */
/* CRITICAL: bold + underline for maximum visibility */

.status-ok {
    color: $success;
    /* Normal text-style - no decoration needed for healthy state */
}

.status-warning {
    color: $warning;
    text-style: italic;  /* Visual distinction beyond color */
}

.status-critical {
    color: $error;
    text-style: bold underline;  /* Maximum visibility for critical state */
}

/* === Status with bold text (for emphasis) === */
/* Maintains accessibility differentiation with bold base */
.status-ok-bold {
    color: $success;
    text-style: bold;
}

.status-warning-bold {
    color: $warning;
    text-style: bold italic;  /* Bold + italic for warning emphasis */
}

.status-critical-bold {
    color: $error;
    text-style: bold underline;  /* Bold + underline for critical emphasis */
}

/* === Status backgrounds (for badges/pills) === */
.status-ok-bg {
    background: $success;
    color: #000000;
}

.status-warning-bg {
    background: $warning;
    color: #000000;
}

.status-critical-bg {
    background: $error;
    color: #FFFFFF;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Interaction States                                             */
/* Source: styles/components/interaction_states.tcss                           */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* P3: UNIFIED INTERACTION STATES                                              */
/* Consistent hover/focus/disabled/active styles across all interactive elements */
/* ========================================================================== */

/* === Interaction Timing Tokens === */
/* Note: Textual has limited transition support, but we define conceptual values */
$transition-fast: 100ms;
$transition-normal: 200ms;
$transition-slow: 300ms;

/* === Universal Focus Ring === */
/* Standardized focus indicator for accessibility */
*:focus {
    outline: none;  /* Remove default outline */
    border-left: wide $accent;
}

/* === Button Interaction States === */

Button {
    border: none;
    border-left: wide $accent-muted;
    background: $bg-elevated;
    color: $text-primary;
}

Button:hover {
    background: $bg-highlight;
    border-left: wide $accent;
}

Button:focus {
    border-left: wide $accent;
    background: $accent-subtle;
}

Button.-disabled {
    opacity: 0.4;
    color: $text-muted;
    background: $bg-secondary;
    border: none;
    border-left: wide $border-subtle;
}

/* Primary variant */
Button.-primary {
    background: $accent;
    color: $bg-primary;
    border: none;
    border-left: wide $accent;
}

Button.-primary:hover {
    background: $accent-hover;
    border-left: wide $accent;
}

Button.-primary:focus {
    background: $accent-bright;
    border-left: wide $accent;
}

Button.-primary.-disabled {
    background: $accent-muted;
    color: $text-muted;
    border: none;
    border-left: wide $accent-muted;
}

/* Success variant */
Button.-success, #start-btn, #slim-start-btn {
    background: $success-dim;
    color: $text-primary;
    border: none;
    border-left: wide $success;
}

Button.-success:hover, #start-btn:hover, #slim-start-btn:hover {
    background: $success;
    color: $bg-primary;
    border-left: wide $success;
}

Button.-success:focus, #start-btn:focus, #slim-start-btn:focus {
    background: $success;
    border-left: wide $success;
}

/* Error/Danger variant */
Button.-error, Button.-danger, #stop-btn, #slim-stop-btn {
    background: $error-dim;
    color: $text-primary;
    border: none;
    border-left: wide $error;
}

Button.-error:hover, Button.-danger:hover, #stop-btn:hover, #slim-stop-btn:hover {
    background: $error;
    color: $bg-primary;
    border-left: wide $error;
}

Button.-error:focus, Button.-danger:focus, #stop-btn:focus, #slim-stop-btn:focus {
    background: $error;
    border-left: wide $error;
}

/* === Input Interaction States === */

Input {
    background: $bg-elevated;
    border: none;
    border-left: wide $accent-muted;
    color: $text-primary;
}

Input:hover {
    border-left: wide $accent;
}

Input:focus {
    border-left: wide $accent;
    background: $bg-highlight;
}

Input.-disabled {
    opacity: 0.5;
    background: $bg-secondary;
    color: $text-muted;
}

Input.-invalid {
    border-left: wide $error;
}

/* === Select/Dropdown Interaction States === */

Select {
    background: $bg-elevated;
    border: none;
    border-left: wide $accent-muted;
    color: $text-primary;
}

Select:hover {
    border-left: wide $accent;
}

Select:focus {
    border-left: wide $accent;
}

Select.-disabled {
    opacity: 0.5;
    background: $bg-secondary;
    color: $text-muted;
}

/* === DataTable Interaction States === */

DataTable {
    border: none;
    background: $bg-primary;
}

DataTable:focus {
    border-left: wide $accent;
}

/* Row hover - subtle highlight */
DataTable > .datatable--hover {
    background: rgba(255, 255, 255, 0.03);
}

/* Cursor/selected row */
DataTable > .datatable--cursor {
    background: $accent-subtle;
    border-left: wide $accent-muted;
}

DataTable:focus > .datatable--cursor {
    background: $overlay-focus;
    border-left: wide $accent;
}

/* === Tab Interaction States === */

Tab {
    background: transparent;
    color: $text-secondary;
    border-bottom: solid transparent;
}

Tab:hover {
    background: $bg-elevated;
    color: $text-primary;
}

Tab.-active {
    background: $bg-elevated;
    color: $accent;
    border-bottom: wide $accent;
}

Tab:focus {
    border-left: wide $accent;
}

/* === ListItem Interaction States === */

ListItem {
    background: transparent;
}

ListItem:hover {
    background: rgba(255, 255, 255, 0.03);
}

ListItem.-selected {
    background: $accent-subtle;
}

ListItem:focus {
    border-left: wide $accent;
}

/* === Tile/Card Interaction States === */
/* For bento grid tiles and card-like containers */

.bento-tile {
    border: none;
    background: transparent;
}

.bento-tile:hover {
    border-left: wide $accent-muted;
    background: $elevation-1;
}

.bento-tile:focus-within,
.bento-tile.tile-focused {
    border-left: wide $accent;
    background: $elevation-1;
}

/* === Option/Choice Interaction States === */
/* For mode selection, settings options, etc. */

.option-card {
    border: none;
    border-left: wide $accent-muted;
    background: $bg-elevated;
}

.option-card:hover {
    border-left: wide $accent;
    background: $bg-highlight;
}

.option-card:focus,
.option-card.-selected {
    border-left: wide $accent;
    background: $accent-subtle;
}

/* === Link-like Text Interaction === */

.interactive-text {
    color: $accent;
}

.interactive-text:hover {
    color: $accent-hover;
    text-style: underline;
}

/* === Disabled State Overlay === */
/* Universal disabled appearance */

.disabled,
*.-disabled {
    opacity: 0.4;
    color: $text-muted;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Polish                                                         */
/* Source: styles/components/polish.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* P3: VISUAL POLISH - Reduce Boxiness & Micro-interactions                    */
/* ========================================================================== */

/* === Refined Border Tokens === */
/* Lighter, more subtle borders throughout */
$border-hairline: #2a2a2a;  /* Very subtle divider */
$border-light: #333333;     /* Default subtle border */
$border-medium: #444444;    /* Slightly more visible */

/* === Skeleton Loading Placeholders === */
/* Note: Textual doesn't support linear-gradient, using solid background */

.skeleton {
    background: $bg-elevated;
    color: transparent;
}

.skeleton-text {
    height: 1;
    background: $bg-elevated;
    color: transparent;
    width: 60%;
}

.skeleton-value {
    height: 1;
    background: $bg-elevated;
    color: transparent;
    width: 40%;
}

.skeleton-line {
    height: 1;
    background: $bg-secondary;
    margin-bottom: 1;
}

/* === Loading Indicator === */

.loading-dots {
    color: $accent;
    text-style: bold;
}

.loading-spinner {
    color: $accent;
}

/* === Value Change Highlights === */
/* Applied via Python widget logic */

.value-changed-up {
    color: $success;
    text-style: bold;
    background: $success-muted;
}

.value-changed-down {
    color: $error;
    text-style: bold;
    background: $error-muted;
}

.value-flash {
    /* Brief highlight then fade - handled in Python */
    background: $accent-subtle;
}

/* === Last Updated Chips === */
/* Stable width to prevent jitter */

.timestamp-chip {
    width: auto;
    min-width: 12;  /* Fixed minimum to prevent jitter */
    height: 1;
    padding: 0 1;
    color: $text-muted;
    background: $bg-elevated;
    text-align: right;
}

.timestamp-chip.stale {
    color: $warning;
    background: $warning-muted;
}

.timestamp-chip.fresh {
    color: $success;
}

.last-updated {
    min-width: 8;  /* Stable width */
    color: $text-muted;
    text-align: right;
}

/* === Freshness Indicator === */
/* Used in tile headers to show data age */

.freshness-indicator {
    width: auto;
    min-width: 8;
    height: 1;
    padding: 0 1;
    color: $text-muted;
    text-align: right;
}

.freshness-indicator.fresh {
    color: $text-muted;
}

.freshness-indicator.stale {
    color: $warning;
}

.freshness-indicator.critical {
    color: $error;
    text-style: bold;
}

.timestamp-chip.critical {
    color: $error;
    background: $error-muted;
    text-style: bold;
}

/* === Inline Banners (Toast-like notifications within tiles) === */

.inline-banner {
    height: auto;
    min-height: 1;
    width: 100%;
    padding: 0 1;
    margin: 0;
    background: $bg-elevated;
    border-left: wide $accent-muted;
    color: $text-secondary;
}

.inline-banner.info {
    background: rgba(0, 122, 255, 0.05);
    border-left: wide $info;
    color: $info;
}

.inline-banner.success {
    background: rgba(0, 255, 65, 0.05);
    border-left: wide $success;
    color: $success;
}

.inline-banner.warning {
    background: rgba(255, 215, 0, 0.05);
    border-left: wide $warning;
    color: $warning;
}

.inline-banner.error {
    background: rgba(255, 0, 51, 0.05);
    border-left: wide $error;
    color: $error;
}

/* === Refined Headers === */
/* Less heavy, more subtle hierarchy */

.header-refined {
    color: $text-primary;
    text-style: bold;
    background: transparent;
    padding: 0 1;
    border-left: wide $accent;  /* Accent indicator only */
    border-bottom: none;  /* Remove heavy bottom border */
    height: 2;
    margin-bottom: 1;
}

.header-subtle {
    color: $text-secondary;
    background: transparent;
    padding: 0 1;
    border-bottom: solid $border-hairline;
    height: 1;
    margin-bottom: 1;
}

/* === Badge Styling === */
/* Consistent badge/pill appearance */

.badge {
    padding: 0 1;
    height: 1;
    background: $bg-elevated;
    color: $text-primary;
    text-style: bold;
}

.badge-primary {
    background: $accent;
    color: $bg-primary;
}

.badge-success {
    background: $success-muted;
    color: $success;
    border-left: thick $success;
}

.badge-warning {
    background: $warning-muted;
    color: $warning;
    border-left: thick $warning;
}

.badge-error {
    background: $error-muted;
    color: $error;
    border-left: thick $error;
}

.badge-info {
    background: $info-muted;
    color: $info;
    border-left: thick $info;
}

.badge-muted {
    background: $bg-secondary;
    color: $text-muted;
}

/* === Refined Dividers === */

.divider {
    height: 1;
    background: $border-hairline;
    margin: 1 0;
}

.divider-vertical {
    width: 1;
    background: $border-hairline;
    margin: 0 1;
}

.divider-accent {
    background: $accent-muted;
}

/* === Card/Panel Refinements === */
/* Less boxy appearance */

.card {
    background: $bg-secondary;
    border: none;
    border-left: wide $accent-muted;
    padding: 1;
}

.card-elevated {
    background: $bg-elevated;
    border: none;
    border-left: wide $accent;
}

.card-flat {
    background: transparent;
    border: none;
}

/* === Metric Display === */
/* Clean, aligned metric presentation */

.metric {
    layout: vertical;
    height: auto;
    padding: 0;
}

.metric-label {
    color: $text-muted;
    height: 1;
}

.metric-value {
    color: $text-primary;
    text-style: bold;
    height: 1;
}

.metric-inline {
    layout: horizontal;
    height: 1;
}

.metric-inline .metric-label {
    width: auto;
    margin-right: 1;
}

.metric-inline .metric-value {
    width: auto;
}

/* === Progress Indicator Polish === */

ProgressBar {
    height: 1;
    background: $bg-secondary;
    border: none;
}

ProgressBar > .bar--bar {
    background: $accent;
}

ProgressBar.success > .bar--bar {
    background: $success;
}

ProgressBar.warning > .bar--bar {
    background: $warning;
}

ProgressBar.error > .bar--bar {
    background: $error;
}

/* === Tooltip-style Help Text === */

.help-text {
    color: $text-muted;
    text-style: italic;
    height: 1;
}

/* === Empty State Polish === */

.empty-state {
    padding: 2;
    color: $text-muted;
    text-align: center;
}

.empty-state-icon {
    color: $text-muted;
    margin-bottom: 1;
}

.empty-state-title {
    color: $text-secondary;
    text-style: bold;
    margin-bottom: 0;
}

.empty-state-subtitle {
    color: $text-muted;
}

/* === Refined Table Styling === */
/* Less heavy borders, cleaner look */

DataTable {
    padding: 0;
}

DataTable > .datatable--header {
    background: $bg-elevated;
    border-bottom: solid $border-light;
    padding: 0 1;
}

DataTable > .datatable--header-cell {
    border-right: none;  /* Remove vertical separators in header */
}

DataTable > .datatable--cell {
    border-right: none;  /* Remove vertical separators */
    padding: 0 1;
}

/* === Compact Mode Adjustments === */

.compact .header-refined {
    height: 1;
    padding: 0;
}

.compact .metric {
    padding: 0;
}

.compact .card {
    padding: 0;
}


/* ---------------------------------------------------------------------------- */
/* COMPONENTS: Accessibility                                                  */
/* Source: styles/components/accessibility.tcss                                */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* P3: ACCESSIBILITY - Focus Order & Keyboard Navigation                       */
/* ========================================================================== */

/* === Focus Ring Visibility === */
/* Ensure focus is always visible for keyboard navigation */

*:focus {
    border: solid $accent;
}

/* Enhanced focus for primary interactive elements */
Button:focus,
Input:focus,
Select:focus {
    border: thick $accent;
}

/* DataTable focus - clear cursor visibility */
DataTable:focus {
    border: solid $accent;
}

DataTable:focus > .datatable--cursor {
    background: $overlay-focus;
    border-left: wide $accent;
    color: $text-primary;
}

/* === Tab Order Hints === */
/* Visual indicators for keyboard navigation sequence */

.tab-hint {
    color: $accent;
    text-style: bold;
    margin-right: 1;
}

/* === Skip Links === */
/* For keyboard navigation - use class-based targeting */

.skip-link {
    color: $accent;
    background: $bg-secondary;
    padding: 1;
    border: solid $accent;
}

/* === ARIA State Class Equivalents === */
/* Since Textual doesn't support attribute selectors, use classes */

.state-selected {
    background: $accent-subtle;
    border-left: wide $accent;
}

.state-expanded {
    border-bottom: none;
}

.state-disabled {
    opacity: 0.4;
    color: $text-muted;
}

.state-invalid {
    border: none;
    border-left: wide $error;
}

/* === Contrast Improvements === */
/* Ensure text meets WCAG AA contrast requirements */

/* Primary text on dark backgrounds: >= 4.5:1 */
.text-primary {
    color: #FFFFFF;
}

/* Secondary text: >= 4.5:1 */
.text-secondary {
    color: #B0B0B0;
}

/* Muted text (decorative): >= 3:1 minimum */
.text-muted {
    color: #808080;
}

/* Error text: High contrast */
.text-error {
    color: #FF4444;
}

/* Success text: Adjusted for contrast */
.text-success {
    color: #00CC33;
}

/* Warning text: Adjusted for contrast */
.text-warning {
    color: #FFD700;
}

/* === Motion Reduction === */
/* Note: Textual doesn't support prefers-reduced-motion */

.reduced-motion {
    /* Static styles - no animations */
}

/* === Focus Trap Indicators === */
/* Visual feedback when in modal/dialog */

.focus-trapped {
    border: thick $accent;
}

/* === Screen Reader Only === */
/* Visually hidden but accessible to screen readers */

.sr-only {
    display: none;
}

/* === High Contrast Mode Classes === */
/* Applied when high contrast theme is active */

.high-contrast-focus {
    border: thick $text-primary;
    background: $bg-primary;
}

.high-contrast-text {
    color: #A0A0A0;
}

/* === Keyboard Navigation Indicators === */

.keyboard-focused {
    border: thick $accent;
}

.mouse-focused {
    border: solid $accent-muted;
}

/* === Action Key Accessibility === */
/* Enhanced visibility for keyboard shortcut keys */

.action-key {
    color: $accent;
    background: $bg-elevated;
    padding: 0 1;
    text-style: bold;
}

/* === Form Field Labels === */
/* Ensure labels are clearly associated */

.field-label {
    color: $text-secondary;
    margin-bottom: 0;
}

.field-label-required {
    color: $text-secondary;
    margin-bottom: 0;
}

/* === Error Messages === */
/* Clear, visible error feedback */

.field-error {
    color: $error;
    background: $error-muted;
    padding: 0 1;
    margin-top: 0;
}

/* === Loading State Announcements === */

.loading-announcement {
    color: $accent;
    text-style: bold;
}

/* === Status Announcements === */
/* For live region updates */

.status-live {
    color: $text-primary;
}

.status-polite {
    color: $text-secondary;
}

.status-assertive {
    color: $warning;
    text-style: bold;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Primitives                                                        */
/* Source: styles/widgets/primitives.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* Sparkline Widget */
SparklineWidget {
    width: 1fr;
    height: 1;
    background: transparent;
    color: $accent;
}

/* Progress Bar Widget */
ProgressBarWidget {
    width: 100%;
    height: 1;
    color: $text-muted;
}

/* Status Badge Widget */
StatusBadgeWidget {
    width: auto;
    height: 1;
    padding: 0 1;
    background: $bg-elevated;
    color: $text-primary;
    text-style: bold;
}

.badge-live {
    color: $success;
    border-left: thick $success;
}

.badge-stopped {
    color: $error;
    border-left: thick $error;
}

.badge-syncing {
    color: $warning;
    border-left: thick $warning;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Status Bar                                                        */
/* Source: styles/widgets/status_bar.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* STATUS BAR (BotStatusWidget) - Flattened Layout                            */
/* ========================================================================== */

#bot-status-header {
    height: 4;
    background: $bg-secondary;
    color: $text-primary;
    border-bottom: none;
    border-left: wide $accent;
    padding: 0;
}

/* Main status bar container - all children are direct */
#status-bar-container {
    height: 100%;
    width: 100%;
    align-vertical: middle;
    padding: 0 1;
}

/* All direct children of status bar - let them size naturally */
#status-bar-container > * {
    content-align: center middle;
}

/* Visual separators between sections */
.separator {
    width: 1;
    color: $border-subtle;
    margin: 0 1;
}

/* Hidden class for responsive toggling */
.hidden {
    display: none;
}

/* Mode controls - let them auto-size vertically */
#mode-indicator {
    width: auto;
    margin-right: 1;
}

#mode-selector {
    min-width: 34;
    width: 36;
}

/* Disabled mode selector - clearer visual feedback */
#mode-selector Select.-disabled {
    opacity: 0.6;
    color: $text-muted;
    background: $bg-secondary;
}

/* Loading indicator in mode selector */
ModeSelector .loading-indicator {
    color: $accent;
    text-style: bold;
    margin-left: 1;
}

/* Buttons - need height: 3 to display text with borders */
#start-btn {
    width: auto;
    min-width: 8;
    height: 3;
    margin: 0 1;
    background: $success;
    color: $bg-primary;
}

#start-btn:hover {
    background: $success;
    text-style: bold;
}

#stop-btn {
    width: auto;
    min-width: 8;
    height: 3;
    margin: 0 1;
    background: $error;
    color: $bg-primary;
}

#stop-btn:hover {
    background: $error;
    text-style: bold;
}

#start-btn.-disabled,
#stop-btn.-disabled {
    opacity: 0.5;
    background: $bg-elevated;
    color: $text-muted;
}

/* Status labels and values */
.status-label {
    width: auto;
    color: $text-secondary;
    margin-right: 1;
}

.status-value {
    width: auto;
    min-width: 6;
    color: $text-primary;
    text-style: bold;
    margin-right: 1;
}

/* Specific value widths for alignment */
#equity-value {
    min-width: 10;
}

#pnl-value {
    min-width: 10;
}

#uptime-value {
    min-width: 8;
}

#margin-value {
    min-width: 6;
}

#sys-latency {
    min-width: 5;
}

#sys-cpu {
    min-width: 4;
}

#sys-rate-limit {
    min-width: 4;
}

/* Connection indicator */
#sys-conn-indicator {
    width: 2;
    margin-right: 1;
}

/* Heartbeat indicator */
#heartbeat-indicator {
    width: 2;
    margin: 0 1;
}

/* ========================================================================== */
/* CONTEXTUAL FOOTER - Polished Keybinding Display                            */
/* ========================================================================== */

ContextualFooter {
    dock: bottom;
    height: 1;
    min-height: 1;
    background: $elevation-2;
    border-top: none;
}

#contextual-footer {
    layout: horizontal;
    height: 100%;
    width: 100%;
    align-vertical: middle;
    padding: 0 1;
}

.footer-group {
    layout: horizontal;
    height: 100%;
    width: auto;
    align-vertical: middle;
    margin: 0;
}

.footer-group-left {
    margin-left: 0;
}

.footer-group-right {
    dock: right;
    margin-right: 0;
}

/* Key badge - pill style */
.footer-key {
    height: 1;
    width: auto;
    color: $elevation-0;
    background: $accent;
    text-style: bold;
    padding: 0 1;
    margin-right: 0;
}

/* Key label - compact spacing for more keys */
.footer-label {
    height: 1;
    width: auto;
    color: $text-secondary;
    margin-right: 1;
    padding: 0;
}

/* Group separator - more visible */
.footer-separator {
    height: 1;
    width: 1;
    color: $accent-muted;
    margin: 0 1;
    padding: 0;
}

/* Data source badge - prominent */
.footer-data-source {
    color: $text-bright;
    text-style: bold;
    background: $accent-muted;
    padding: 0 2;
    margin-right: 2;
}

/* ========================================================================== */
/* SLIM STATUS BAR (SlimStatusWidget) - Enhanced Visual Hierarchy             */
/* ========================================================================== */

#slim-status {
    height: 4;         /* 3 content + 1 for border */
    min-height: 4;
    layout: vertical;  /* Explicit layout for proper child sizing */
    background: $bg-elevated;
    color: $text-primary;
    border: none;
    border-left: wide $accent;
    padding: 0;
}

#slim-status-bar {
    height: 100%;  /* Fill parent, don't use fixed height */
    width: 100%;
    align-vertical: middle;
    padding: 0 2;
}

#slim-status-bar > * {
    content-align: center middle;
}

/* === Enhanced Slim Separators === */
.slim-separator {
    width: 1;
    color: $accent;
    margin: 0 2;
}

/* === Status Indicator Group === */
.status-indicator {
    width: 2;
    text-style: bold;
}

.status-indicator.status-running {
    color: $success;
}

.status-indicator.status-stopped {
    color: $error;
}

/* Status text with solid background pill */
.status-text {
    width: auto;
    min-width: 9;
    text-style: bold;
    padding: 0 2;
}

.status-text.status-running {
    color: $bg-primary;
    background: $success;
}

.status-text.status-stopped {
    color: $text-bright;
    background: $error;
}

/* === Slim Typography Hierarchy === */
.slim-label {
    width: auto;
    color: $text-muted;
    margin-right: 1;
    text-style: italic;
}

.slim-value {
    width: auto;
    min-width: 9;
    color: $text-bright;
    text-style: bold;
    background: $bg-elevated;
    border-left: tall $accent-muted;
    padding: 0 2;
}

.slim-value.pnl-positive {
    color: $bg-primary;
    background: $success;
}

.slim-value.pnl-negative {
    color: $text-bright;
    background: $error;
}

.slim-value.pnl-neutral {
    color: $text-primary;
    background: $bg-elevated;
}

/* === Position Count === */
.positions-count {
    width: auto;
    min-width: 7;
    color: $text-secondary;
    background: $bg-secondary;
    padding: 0 1;
}

.positions-count.has-positions {
    color: $accent-glow;
    background: $accent-subtle;
    text-style: bold;
}

/* === Uptime === */
.uptime {
    width: auto;
    min-width: 9;
    color: $text-secondary;
    background: $bg-secondary;
    padding: 0 1;
    text-style: bold;
}

/* === Slim Buttons - Enhanced with accent glow on hover === */
.slim-btn {
    width: auto;
    min-width: 9;
    height: 3;
    padding: 0 2;
    margin: 0 1;
    text-style: bold;
}

#slim-start-btn {
    background: $success;
    color: $bg-primary;
    border: none;
    border-left: wide $success;
}

#slim-start-btn:hover {
    background: $success;
    text-style: bold;
}

#slim-stop-btn {
    background: $error;
    color: $bg-primary;
    border: none;
    border-left: wide $error;
}

#slim-stop-btn:hover {
    background: $error;
    text-style: bold;
}

#slim-start-btn.-disabled,
#slim-stop-btn.-disabled {
    opacity: 0.4;
    background: $bg-secondary;
    color: $text-muted;
    border: none;
    border-left: wide $border-subtle;
}

/* === Slim Mode Selector === */
#slim-mode-select {
    width: auto;
    min-width: 15;
    height: 3;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent-muted;
}

#slim-mode-select:hover {
    border: none;
    border-left: wide $accent;
}

#slim-mode-select Select {
    height: 3;
}

/* === Error Badge === */
.error-badge {
    background: $error;
    color: $bg-primary;
    padding: 0 2;
    text-style: bold;
    margin-left: 2;
}

.error-badge.hidden {
    display: none;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Account                                                           */
/* Source: styles/widgets/account.tcss                                         */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* ACCOUNT WIDGET - Professional & Refined                                    */
/* ========================================================================== */

AccountWidget {
    layout: vertical;
    height: 1fr;
    padding: 0 1; /* Minimal padding - tile provides outer spacing */
    background: transparent;
}

AccountWidget DataTable {
    height: auto;
}

/* Compact mode: hide detailed sections */
AccountWidget.compact .balance-details {
    display: none;
}

AccountWidget.compact .account-metrics-row {
    display: none;
}

/* Compact mode horizontal summary */
.portfolio-summary {
    layout: horizontal;
    align-vertical: middle;
}

.metric-separator {
    color: $text-muted;
    margin: 0 1;
}

/* Account header container - horizontal layout with title and timestamp */
.account-header {
    layout: horizontal;
    width: 100%;
    height: auto;
    align: left middle;
}

/* Account header - uses global .widget-header style from headers.tcss */
/* Widget-specific overrides can be added here if needed */
AccountWidget .widget-header {
    /* Inherits from .widget-header in headers.tcss */
    width: auto;
}

/* Timestamp label in header */
.timestamp-label {
    color: $text-muted;
    margin-left: 1;
    width: 1fr;
    text-align: right;
}

.account-metric {
    width: 1fr;
    min-width: 10;
    height: auto;
    min-height: 2;
    background: transparent;
    border: none;
    padding: 0;
    margin: 0 0 1 0;
}

.account-metric:last-of-type {
    margin-bottom: 0;
}

.account-metric-label {
    color: $text-muted;                /* Muted label */
    margin-bottom: 0;
}

.account-metric-value {
    color: $text-primary;
    text-style: bold;
    text-align: right;
}

.portfolio-summary-row {
    layout: horizontal;
    height: auto;
    min-height: 4;
    width: 100%;
    margin-bottom: 1;
    padding: 0;
}

.portfolio-metric {
    width: 1fr;
    min-width: 10;
    height: auto;
    min-height: 3;
    background: transparent;
    border: none;
    border-left: wide $accent-muted;
    padding: 0 1;
    margin: 0 1 0 0;
}

.portfolio-metric:last-of-type {
    margin-right: 0;
}

.portfolio-metric-label {
    color: $text-muted;
    height: 1;
}

.portfolio-metric-value {
    color: $text-primary;
    text-style: bold;
    height: 1;
}

/* P&L Breakdown Row - Unrealized, Realized, Fees */
.pnl-breakdown-row {
    layout: horizontal;
    height: auto;
    min-height: 2;
    width: 100%;
    margin-bottom: 1;
    padding: 0;
}

.pnl-metric {
    width: 1fr;
    min-width: 8;
    height: auto;
    background: transparent;
    border: none;
    padding: 0 1;
    margin: 0;
}

.pnl-metric-label {
    color: $text-muted;
    height: 1;
}

.pnl-metric-value {
    color: $text-primary;
    height: 1;
}

/* Compact mode P&L breakdown hint */
.pnl-breakdown {
    color: $text-muted;
    margin-left: 1;
}

.account-metrics-row {
    layout: horizontal;
    height: auto;
    min-height: 3;
    width: 100%;
    margin-bottom: 1;
    padding: 0;
}

/* Secondary metrics row - Volume, Fees, Fee Tier */
.account-metrics-row .portfolio-metric {
    background: transparent;
    border: none;
    border-left: wide $accent-muted;
    padding: 0 1;
    margin: 0;
}

.balance-details {
    height: 1fr;
    width: 100%;
    margin-top: 1;
}

/* Balances sub-header - uses global .widget-header style */
.balance-details .widget-header {
    color: $text-secondary;  /* Override: slightly muted for sub-header */
    margin-bottom: 0;        /* Override: tighter spacing in details */
}

/* ========================================================================== */
/* RESPONSIVE VARIANTS                                                         */
/* Hide detailed elements in compact mode via parent grid class                */
/* ========================================================================== */

/* Compact mode: hide secondary metrics and balance details */
#bento-grid.compact .account-metrics-row {
    display: none;
}

#bento-grid.compact .balance-details {
    display: none;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Portfolio                                                         */
/* Source: styles/widgets/portfolio.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* PORTFOLIO WIDGET (Tabbed Layout) - Professional                           */
/* ========================================================================== */

PortfolioWidget {
    layout: vertical;
    height: 1fr;
    padding: 0 $spacing-md; /* Consistent horizontal padding */
}

PortfolioWidget TabbedContent {
    height: 1fr;
    border: none;
    padding-top: $spacing-sm; /* Space between header and tabs */
}

PortfolioWidget TabPane {
    padding: $spacing-sm $spacing-md; /* Increased padding for content */
}

/* ========================================================================== */
/* POSITIONS WIDGET                                                           */
/* ========================================================================== */

PositionsWidget {
    layout: vertical;
    height: 1fr;
}

PositionsWidget DataTable {
    height: 1fr;
}

/* ========================================================================== */
/* ORDERS WIDGET                                                              */
/* ========================================================================== */

OrdersWidget {
    layout: vertical;
    height: 1fr;
}

OrdersWidget DataTable {
    height: 1fr;
}

/* ========================================================================== */
/* TRADES WIDGET                                                              */
/* ========================================================================== */

TradesWidget {
    layout: vertical;
    height: 1fr;
}

TradesWidget DataTable {
    height: 1fr;
}

/* Filter status bar for trades */
TradesWidget .filter-status {
    height: 1;
    padding: 0 1;
    background: $surface;
    color: $text-secondary;
    border-bottom: solid $border;
}

TradesWidget .filter-status.hidden {
    display: none;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Market                                                            */
/* Source: styles/widgets/market.tcss                                          */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* MARKET WIDGET - Professional Display                                       */
/* ========================================================================== */

MarketWatchWidget {
    layout: vertical;
    height: 1fr;
    padding: 0 $spacing-md; /* Consistent horizontal padding */
}

MarketWatchWidget DataTable {
    height: 1fr;
    padding: $spacing-sm $spacing-md; /* Increased padding for readability */
}

/* Market widget uses standard dashboard-item styling from layout/workspace.tcss */
/* and DataTable styling from components/tables.tcss */

#dash-market {
    height: 1fr;           /* Flex-grow to fill available space */
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Logs                                                              */
/* Source: styles/widgets/logs.tcss                                            */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* LOGS WIDGET - Enhanced Styling                                             */
/* ========================================================================== */

/* === Log Container === */

#dash-logs {
    width: 100%;
    height: 1fr;  /* Fill logs-row */
    background: $bg-primary;
}

/* === Log Header - Compact & Clean === */

LogWidget .log-header {
    layout: horizontal;
    height: 2;
    background: transparent;
    border-left: wide $accent;
    border-bottom: none;
    padding: 0 1;
    align: left middle;
}

LogWidget .log-title {
    height: 2;
    width: auto;
    min-width: 5;
    color: $text-primary;
    text-style: bold;
    background: transparent;
    border: none;
    padding: 0 1;
    content-align: left middle;
}

LogWidget .log-level-select {
    height: 2;
    width: 10;
    margin: 0 1;
}

LogWidget .log-filter {
    height: 2;
    width: 14;
    min-width: 8;
    max-width: 18;
}

/* === Level Filter Chips (aligned with AlertHistory pattern) === */

LogWidget .log-filter-chips {
    height: 2;
    width: auto;
    layout: horizontal;
    align: left middle;
    margin: 0 1;
}

LogWidget .level-chip {
    min-width: 8;
    height: 1;
    margin: 0;
    padding: 0 1;
    background: transparent;
    color: $text-muted;
    border: none;
}

LogWidget .level-chip:hover {
    background: $bg-highlight;
    color: $text-primary;
}

LogWidget .level-chip.active {
    background: $accent-muted;
    color: $accent;
    text-style: bold;
}

LogWidget .log-sep {
    color: $border-subtle;
    height: 2;
    width: 1;
    content-align: center middle;
    margin: 0 1;
}

/* === Inline Statistics - Grouped with subtle background === */

LogWidget .stat {
    height: 2;
    min-width: 4;
    padding: 0 1;
    margin: 0;
    content-align: center middle;
    text-style: bold;
    background: transparent;
}

LogWidget .stat-error {
    color: $error;
    padding: 0 1;
}

LogWidget .stat-warning {
    color: $warning;
    padding: 0 1;
}

LogWidget .stat-info {
    color: $success;
    padding: 0 1;
}

/* === RichLog Display - Enhanced === */

LogWidget {
    background: $bg-secondary;
}

/* Embedded look: minimal borders/headers */
LogWidget .log-header {
    background: transparent;
    border-bottom: none;
    color: $text-secondary;
}

LogWidget RichLog {
    background: $bg-secondary;
    color: $text-primary;
}

/* === Full-Width Logs Styling === */

.full-width-logs {
    /* Expanded log display with horizontal space */
    /* Note: max_lines is configured in LogWidget Python code, not CSS */
}

.log-expand-hint {
    color: $text-muted;
    text-style: italic;
    text-align: center;
    padding: 0 $spacing-xs;
    background: $bg-elevated;
}

/* === Pause Indicator - Subtle === */

LogWidget .pause-indicator {
    color: $warning-dim;               /* Refined: desaturated */
    background: $warning-muted;
    text-style: bold;
    padding: 0 1;
    margin-left: 1;
    display: none;
}

LogWidget .pause-indicator.visible {
    display: block;
}

/* === RichLog Layout === */

LogWidget RichLog {
    height: 1fr;
    min-height: 5;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Dashboard                                                         */
/* Source: styles/widgets/dashboard.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* DASHBOARD WIDGETS - Consistent Spacing & Visual Hierarchy                  */
/* ========================================================================== */

/* === Ticker Row === */
TickerRow {
    layout: horizontal;
    height: 1;
    width: 100%;
    margin-bottom: 0;
    padding: 0 2;
}

TickerRow .symbol {
    width: 10;
    text-style: bold;
    color: $text-primary;
}

TickerRow .price {
    width: 12;
    content-align: right middle;
}

TickerRow SparklineWidget {
    width: 1fr;
    margin: 0 2;
}

TickerRow .change {
    width: 8;
    content-align: right middle;
}

/* Ticker row inner container (from MarketPulseWidget) */
.ticker-row-inner {
    height: auto;
    padding: 0 1;
    margin-top: 1;
}

.ticker-symbol {
    width: 8;
    text-style: bold;
    color: $text-primary;
}

.ticker-spark {
    width: 1fr;
}

.ticker-price {
    width: 10;
    text-align: right;
    color: $text-primary;
}

.ticker-change {
    width: 8;
    text-align: right;
}

/* === Market Pulse Widget - Professional Display === */
MarketPulseWidget {
    width: 100%;
    height: 1fr;  /* CRITICAL: Fill parent using fr instead of % */
    border: none;
    padding: 0; /* Tile provides padding; avoid double-padding */
    background: transparent;
    layout: vertical;
}

/* Ticker list container - removed, defined in empty state section */

/* Compact header variant */
.widget-header-compact {
    height: 1;
    padding: 0 1;
    border-left: none;
}

/* === Position Card Widget - Professional Card Design === */
PositionCardWidget {
    width: 100%;
    height: 1fr;  /* CRITICAL: Fill parent using fr instead of % */
    background: transparent; /* Tile provides background */
    border: none; /* Tile provides border */
    padding: 0; /* Tile provides padding; avoid shrinking content area */
    layout: vertical;  /* Allow children to expand */
    align: center middle;
}

.pos-header {
    layout: horizontal;
    height: 1;
    width: 100%;
    margin-bottom: 1;
}

.pos-symbol {
    width: 1fr;
    color: $text-primary;
    text-style: bold;
}

.pos-side {
    width: auto;
    padding: 0 1;
    text-style: bold;
}

.side-long {
    color: $success;
    background: $success-muted;
}

.side-short {
    color: $error;
    background: $error-muted;
}

.pnl-huge {
    width: 100%;
    height: 3;
    content-align: center middle;
    text-style: bold;
    color: $text-muted;
    background: transparent;
    border: none;
    margin: 0;
}

.pnl-positive { color: $success; }
.pnl-negative { color: $error; }

.pos-details {
    layout: grid;
    grid-size: 2;
    grid-gutter: 1;
}

/* Position Card active state layout (from PositionCardWidget) */
.pos-header-row {
    width: 100%;
    align: center middle;
    padding: 1;
}

.pos-badge {
    padding: 0 1;
    text-style: bold;
    background: $bg-elevated;
}

.pos-badge.long {
    background: $success-muted;
    color: $success;
}

.pos-badge.short {
    background: $error-muted;
    color: $error;
}

.pnl-hero {
    text-align: center;
    padding: 1;
    width: 100%;
}

.pos-details-grid {
    layout: grid;
    grid-size: 3;
    grid-columns: 1fr 1fr 1fr;
    grid-gutter: 1;
    width: 100%;
    padding: 0 2;
}

.detail-item {
    align: center middle;
}

.detail-label {
    color: $text-muted;
}

.detail-value {
    text-style: bold;
    color: $text-primary;
}

/* === System Monitor Widget - Professional Display === */
SystemMonitorWidget {
    width: 100%;
    height: 1fr;  /* CRITICAL: Fill parent using fr instead of % */
    padding: 0;  /* Tile provides padding; avoid double-padding */
    layout: vertical;
    background: transparent;
}

.sys-header {
    height: 1;
    text-style: bold;
    color: $text-primary;
    background: transparent;
    padding: 0 1;
    border-left: wide $accent;
    border-bottom: none;
    content-align: left middle;
    margin-bottom: 0;
}

/* System metrics - Professional list layout */
.sys-row {
    height: 2;  /* Increased height for better readability */
    margin-bottom: $spacing-xs; /* Spacing between rows */
    layout: horizontal;
    align: left middle;
    padding: $spacing-xs $spacing-sm; /* Increased padding */
    background: transparent;
    border-left: solid transparent; /* Reserve space for hover accent */
}

.sys-row:hover {
    background: $bg-elevated; /* Subtle background on hover */
    border-left: solid $accent-muted; /* Accent border on hover */
}

.sys-metric-label {
    color: $text-muted;
    width: 12; /* Increased width for better alignment */
    text-align: left;
}

.sys-metric-value {
    color: $text-primary;
    width: 1fr;
    text-align: right;
    text-style: bold;
}

.sys-metric {
    height: 1;  /* Reduced from 2 to fit more metrics */
    color: $text-secondary;
    padding: 0 0;  /* No extra padding - align with progress bars */
    margin-bottom: 0;
    background: transparent;
    border: none;
    text-align: left;
}

.sys-metric.status-ok {
    color: $success;
    background: transparent;
    text-style: none;
}

.sys-metric.status-warning {
    color: $warning;
    background: transparent;
    text-style: none;
}

.sys-metric.status-critical {
    color: $error;
    background: transparent;
    text-style: none;
}

.sys-metric.stopped { color: $info; background: transparent; }

.sys-metric-value.status-ok { color: $success; }

.sys-metric-value.status-warning {
    color: $warning;
    text-style: none;
}

.sys-metric-value.status-critical {
    color: $error;
    text-style: none;
}

/* Row with inline sparkline */
.sys-row-with-spark {
    height: 1;
    width: 100%;
    layout: horizontal;
    align: left middle;
    padding: 0 1;
    margin-bottom: 0;
}

.sys-progress {
    width: 1fr;
    height: 1;
}

.sys-sparkline {
    width: 10;  /* Fixed width for sparkline */
    height: 1;
    margin-left: 1;
}

.sys-latency-label {
    width: 1fr;
    height: 1;
    color: $text-secondary;
}

/* Connection status - clean inline */
.sys-connection {
    height: 2;
    padding: 0 1;
    background: transparent;
    border: none;
    margin-top: 1;
    content-align: left middle;
}

.sys-connection.connected {
    color: $success;
}

.sys-connection.disconnected {
    color: $error;
}

/* === Empty State Container - Professional Centered Display === */
.empty-state-container {
    layout: vertical;
    width: 100%;
    height: 1fr;  /* Fill available space for vertical centering */
    min-height: 5; /* Guardrail: ensure visibility if fr collapses */
    padding: $spacing-lg; /* Increased padding */
    background: transparent;
    border: none;
    align: center middle;  /* Center children horizontally and vertically */
}

/* #ticker-list needs to fill remaining space after header */
#ticker-list {
    height: 1fr;  /* Fill remaining space after widget-header */
    min-height: 6; /* Ensure placeholder visibility */
    width: 100%;
    layout: vertical;
    align: center middle;
    content-align: center middle;
}

/* Ensure empty state container fills and centers within ticker-list */
#ticker-list > .empty-state-container {
    height: 1fr;
    width: 100%;
    align: center middle;
}

/* Position tile body should fill remaining space under banner */
#pos-body {
    height: 1fr;
    min-height: 6; /* Ensure placeholder visibility */
    width: 100%;
    layout: vertical;
    align: center middle;
    content-align: center middle;
}

/* Ensure empty/loading states center within position body */
#pos-body > .empty-state-container {
    height: 1fr;
    width: 100%;
    align: center middle;
}

/* Empty state labels - Professional styling */
.empty-icon {
    color: $text-muted;
    text-align: center;
    width: 100%;
    height: 3; /* Increased height */
    content-align: center middle;
    margin-bottom: $spacing-xs;
}

.empty-title {
    color: $text-primary; /* More prominent */
    text-style: bold;
    text-align: center;
    width: 100%;
    height: 2; /* Increased height */
    content-align: center middle;
    margin-bottom: $spacing-xs;
}

.empty-subtitle {
    color: $text-secondary; /* More visible */
    text-align: center;
    width: 100%;
    height: 2; /* Increased height */
    content-align: center middle;
    padding: 0 $spacing-md; /* Horizontal padding */
}

/* Empty state action hints */
.empty-actions {
    width: auto;
    height: auto;
    align: center middle;
    margin-top: 1;
    padding: 0 1;
}

.empty-actions .action-hint {
    color: $accent;
    padding: 0 1;
    background: $accent-subtle;
}

/* === Quick Actions - Keyboard hints when stopped === */
.quick-actions {
    width: 100%;
    height: auto;
    align: center middle;
    padding: 1;
    margin-top: 1;
}

.quick-actions-title {
    text-style: bold;
    color: $text-muted;
    text-align: center;
    width: 100%;
    margin-bottom: 1;
}

.quick-actions-row {
    width: auto;
    height: auto;
    align: center middle;
}

/* Quick-actions specific styling - more spacing between hints */
.quick-actions .action-hint {
    color: $text-secondary;
    padding: 0 2;
}

.quick-actions .action-hint:first-of-type {
    padding-left: 0;
}

/* === Market Header with Data State Indicator === */
.market-header {
    layout: horizontal;
    width: 100%;
    height: auto;
    padding: 0;
    margin-bottom: 1;
}

.market-header .widget-header {
    width: auto;
}

/* === Position Header with Data State Indicator === */
.position-header {
    layout: horizontal;
    width: 100%;
    height: auto;
    padding: 0;
    margin-bottom: 1;
}

.position-header .widget-header {
    width: auto;
}

.data-state-label {
    color: $text-muted;
    width: 1fr;
    text-align: right;
    padding-right: 1;
}

/* === Ticker Spread Column === */
.ticker-spread {
    width: 8;
    text-align: right;
    color: $text-muted;
}

/* === No Position Dashboard (Strategy + Portfolio Snapshots) === */
.no-position-dashboard {
    width: 100%;
    height: 1fr;
    padding: 1;
    layout: vertical;
    align: center top;
}

.no-pos-title {
    text-style: bold;
    color: $text-primary;
    text-align: center;
    width: 100%;
    margin-bottom: 0;
}

.no-pos-subtitle {
    color: $text-muted;
    text-align: center;
    width: 100%;
    margin-bottom: 1;
}

.snapshot-section {
    width: 100%;
    height: auto;
    margin-bottom: 1;
    padding: 1;
    background: $bg-elevated;
    border-left: wide $accent-muted;
}

.snapshot-header {
    color: $text-muted;
    text-style: bold;
    margin-bottom: 1;
}

.snapshot-row {
    padding-left: 1;
    color: $text-primary;
}

.snapshot-row.muted {
    color: $text-muted;
}

/* === Resilience Metrics Section (SystemMonitorWidget) === */
.resilience-metrics {
    width: 100%;
    height: auto;
    margin-top: 1;
    padding-top: 0;
    padding-left: 1;
    border-left: wide $accent-muted;
}

.resilience-metrics .sys-metric {
    height: 1;
    padding: 0;
}

/* === Execution Metrics Section (SystemMonitorWidget) === */
.execution-metrics {
    width: 100%;
    height: auto;
    margin-top: 1;
    padding-top: 0;
    padding-left: 1;
    border-left: wide $success;
}

.execution-metrics .sys-metric {
    height: 1;
    padding: 0;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Modals                                                            */
/* Source: styles/widgets/modals.tcss                                          */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* MODALS AND DIALOGS                                                         */
/* ========================================================================== */

/* Modal containers use standard panel styling from layout/workspace.tcss */
/* Additional modal-specific overrides can be added here as needed */

/* === Config Modal === */

/* Config modal uses standard panel styles with accent border */

/* === Confirmation Dialogs === */

/* Dialog buttons are styled via components/buttons.tcss */

ModeInfoModal {
    align: center middle;
    background: $overlay-disabled;
}

ModeInfoModal #mode-info-modal {
    height: auto;
    padding: $spacing-md;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
}

ModeInfoModal #mode-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    margin-bottom: $spacing-xs;
}

LiveWarningModal {
    align: center middle;
    background: $overlay-disabled;
}

LiveWarningModal #live-warning-modal {
    height: auto;
    padding: $spacing-md;
    background: $bg-secondary;
    border: thick $error;
}

LiveWarningModal #warning-title {
    text-align: center;
    text-style: bold;
    color: $error;
    margin-bottom: $spacing-xs;
}

LiveWarningModal #risk-warning {
    text-align: center;
    text-style: bold;
    color: $error;
}

LiveWarningModal #warning-buttons {
    layout: horizontal;
    align: center middle;
    margin-top: $spacing-xs;
    height: 3;
}

ConfigModal {
    align: center middle;
    background: $overlay-disabled;
}

ConfigModal #dialog {
    grid-size: 2;
    grid-gutter: 1 2;
    grid-rows: 1fr 3;
    padding: 0 $spacing-xs;
    height: auto;
    border: none;
    border-left: wide $accent;
    background: $bg-secondary;
}

ConfigModal .field-label {
    text-align: right;
    padding-top: $spacing-xs;
    color: $text-secondary;
}

ConfigModal .field-input {
    width: 100%;
}

ConfigModal #config-actions {
    column-span: 2;
    layout: horizontal;
    align: center middle;
    margin-top: $spacing-sm;
}

ConfigModal #btn-save {
    margin-right: $spacing-sm;
}

PanicModal {
    align: center middle;
    background: $overlay-disabled;
}

PanicModal #panic-dialog {
    height: auto;
    background: $bg-secondary;
    border: thick $error;
    padding: $spacing-md;
}

PanicModal #panic-title {
    color: $error;
    text-style: bold;
    text-align: center;
    width: 100%;
    margin-bottom: $spacing-xs;
}

PanicModal #panic-message {
    color: $text-primary;
    text-align: center;
    margin-bottom: $spacing-sm;
}

PanicModal #panic-input {
    margin-bottom: $spacing-sm;
    border: none;
    border-left: wide $error;
}

PanicModal #panic-actions {
    layout: horizontal;
    align: center middle;
    height: 3;
}

PanicModal #btn-panic-confirm {
    background: $error;
    color: $text-primary;
    margin-right: $spacing-sm;
}

PanicModal #btn-panic-cancel {
    background: $bg-elevated;
}

/* === Order Detail Modal === */

OrderDetailModal {
    align: center middle;
    background: $overlay-disabled;
}

OrderDetailModal #order-detail-modal {
    height: auto;
    max-height: 80%;
    padding: $spacing-md;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
}

OrderDetailModal #order-detail-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    margin-bottom: $spacing-xs;
}

OrderDetailModal .section-header {
    color: $text-muted;
    margin-top: $spacing-xs;
    margin-bottom: 0;
}

OrderDetailModal .muted {
    color: $text-muted;
}

OrderDetailModal #linked-trades-table {
    height: auto;
    max-height: 10;
    margin-top: $spacing-xs;
    margin-bottom: $spacing-xs;
}

OrderDetailModal #close-btn {
    margin-top: $spacing-sm;
    width: 100%;
}

/* === Risk Detail Modal === */

RiskDetailModal {
    align: center middle;
    background: $overlay-disabled;
}

RiskDetailModal #risk-detail-modal {
    height: auto;
    max-height: 85%;
    padding: $spacing-md;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
}

RiskDetailModal #risk-detail-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    margin-bottom: $spacing-xs;
}

RiskDetailModal .section-header {
    color: $text-muted;
    margin-top: $spacing-xs;
    margin-bottom: 0;
}

RiskDetailModal .muted {
    color: $text-muted;
}

RiskDetailModal #close-btn {
    margin-top: $spacing-sm;
    width: 100%;
}

/* Risk Preview Section */
RiskDetailModal .preview-current {
    color: $text-secondary;
    margin-bottom: $spacing-xs;
}

RiskDetailModal .preview-chips {
    layout: horizontal;
    height: auto;
    margin-bottom: $spacing-xs;
}

RiskDetailModal .preview-chip {
    padding: 0 $spacing-xs;
    margin-right: $spacing-xs;
    background: $bg-elevated;
    min-width: 10;
    text-align: center;
}

RiskDetailModal .preview-legend {
    color: $text-muted;
    text-style: italic;
    margin-bottom: $spacing-xs;
}

RiskDetailModal .preview-focused {
    border: wide $accent;
    padding: 0 $spacing-xs;
}

RiskDetailModal .preview-guards {
    margin-top: $spacing-xs;
    margin-bottom: $spacing-xs;
    padding-left: $spacing-xs;
}

RiskDetailModal .preview-guard-line {
    color: $text-muted;
    height: auto;
}

/* Guard Threshold Explanations */
RiskDetailModal .guard-explanation {
    color: $text-secondary;
    padding-left: $spacing-xs;
    height: auto;
}

/* Position Impact Rows */
RiskDetailModal .position-impact-row {
    height: auto;
    padding-left: $spacing-xs;
}

RiskDetailModal .position-impact-more {
    height: auto;
    padding-left: $spacing-xs;
}

/* === Execution Issues Modal === */

ExecutionIssuesModal {
    align: center middle;
    background: $overlay-disabled;
}

ExecutionIssuesModal #execution-issues-modal {
    height: auto;
    max-height: 85%;
    padding: $spacing-md;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
}

ExecutionIssuesModal #exec-issues-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    margin-bottom: $spacing-xs;
}

ExecutionIssuesModal .section-header {
    color: $text-muted;
    margin-top: $spacing-xs;
    margin-bottom: 0;
}

ExecutionIssuesModal .muted {
    color: $text-muted;
}

ExecutionIssuesModal .issue-row {
    height: auto;
    padding-left: $spacing-xs;
}

ExecutionIssuesModal .summary-line {
    color: $text-secondary;
    margin-top: $spacing-xs;
}

ExecutionIssuesModal #close-btn {
    margin-top: $spacing-sm;
    width: 100%;
}

/* === Position Detail Modal === */

PositionDetailModal {
    align: center middle;
    background: $overlay-disabled;
}

PositionDetailModal #position-detail-modal {
    height: auto;
    max-height: 85%;
    padding: $spacing-md;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
}

PositionDetailModal #position-detail-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    margin-bottom: $spacing-xs;
}

PositionDetailModal .section-header {
    color: $text-muted;
    margin-top: $spacing-xs;
    margin-bottom: 0;
}

PositionDetailModal .muted {
    color: $text-muted;
}

PositionDetailModal #linked-trades-table {
    height: auto;
    max-height: 10;
    margin-top: $spacing-xs;
    margin-bottom: $spacing-xs;
}

PositionDetailModal #close-btn {
    margin-top: $spacing-sm;
    width: 100%;
}

PositionDetailModal .recent-fills-row {
    padding-left: $spacing-xs;
    height: auto;
}

PositionDetailModal .recent-fills-note {
    color: $text-muted;
    text-style: italic;
    height: auto;
}

PositionDetailModal .fill-quality-row {
    height: auto;
    padding-left: $spacing-xs;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Execution                                                         */
/* Source: styles/widgets/execution.tcss                                       */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* EXECUTION WIDGET (Strategy View)                                           */
/* ========================================================================== */

/* Execution widget uses standard dashboard-item styling */
/* and DataTable styling from components/tables.tcss */

#dash-strategy {
    height: auto;          /* Shrink to content */
    max-height: 30%;       /* Cap at 30% to prevent domination */
    min-height: 5;         /* Minimum 5 lines (header + empty state) */
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Error Indicator                                                   */
/* Source: styles/widgets/error_indicator.tcss                                 */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* ERROR INDICATOR WIDGET                                                     */
/* ========================================================================== */

ErrorIndicatorWidget {
    dock: top;
    layout: vertical;
    height: auto;
    max-height: 15;
    min-height: 1;
    background: $bg-elevated;
    color: $text-primary;
    border: none;
    border-left: wide $error;
    padding: 0 1;
}

ErrorIndicatorWidget.collapsed {
    max-height: 1;
}

ErrorIndicatorWidget.hidden {
    display: none;
}

ErrorIndicatorWidget Horizontal {
    height: auto;
    width: 1fr;
}

ErrorIndicatorWidget Vertical {
    height: auto;
    width: 1fr;
}

ErrorIndicatorWidget Label {
    width: 1fr;
    height: auto;
}

ErrorIndicatorWidget .error-badge {
    background: $error-muted;
    color: $error;
    text-style: bold;
}

ErrorIndicatorWidget .error-detail {
    color: $text-secondary;
    height: auto;
    margin: 0 0 0 2;
}

ErrorIndicatorWidget Button {
    min-width: 7;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Cfm Balance                                                       */
/* Source: styles/widgets/cfm_balance.tcss                                     */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* CFM BALANCE WIDGET                                                         */
/* ========================================================================== */

CFMBalanceWidget {
    layout: vertical;
    height: auto;
    padding: 0 1;
}

CFMBalanceWidget .cfm-header {
    text-style: bold;
    color: $text-secondary;
    margin-bottom: 1;
}

CFMBalanceWidget .cfm-row {
    layout: horizontal;
    height: auto;
    margin-bottom: 0;
}

CFMBalanceWidget .cfm-metric {
    width: 1fr;
    height: auto;
}

CFMBalanceWidget .cfm-label {
    color: $text-muted;
}

CFMBalanceWidget .cfm-value {
    color: $text-primary;
    text-style: bold;
}

/* Status coloring */
CFMBalanceWidget .cfm-warning {
    color: $warning;
}

CFMBalanceWidget .cfm-danger {
    color: $error;
}

CFMBalanceWidget .cfm-ok {
    color: $success;
}

CFMBalanceWidget .cfm-hidden {
    display: none;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: System                                                            */
/* Source: styles/widgets/system.tcss                                          */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* SYSTEM HEALTH WIDGET - Professional Display                                 */
/* ========================================================================== */

SystemHealthWidget {
    background: $bg-secondary;
    border: none;
    height: auto;
    padding: $spacing-sm $spacing-md; /* Increased padding */
}

SystemHealthWidget .value {
    color: $text-primary;
    text-style: bold;
    padding: 0 $spacing-xs; /* Subtle horizontal padding */
}

/* Connection status indicators */
.status-connected {
    color: $success;
}

.status-disconnected {
    color: $error;
}

.status-unknown {
    color: $warning;
}

/* Compact layout mode */
SystemHealthWidget .compact-metrics {
    height: auto;
    align-vertical: middle;
}

SystemHealthWidget .metric-separator {
    color: $text-muted;
    margin: 0 1;
}

/* Full layout mode */
SystemHealthWidget .metric-row {
    layout: horizontal;
    height: auto;
    margin-bottom: 0;
}

SystemHealthWidget .label {
    width: 12; /* Increased width for better alignment */
    color: $text-muted;
}

/* Execution issues section */
SystemHealthWidget .execution-issues {
    margin-top: 1;
    padding-top: 1;
    border-top: solid $border;
}

SystemHealthWidget .execution-issues.hidden {
    display: none;
}

SystemHealthWidget .execution-label {
    color: $warning;
    text-style: bold;
}

SystemHealthWidget #exec-rejects {
    color: $error;
    padding-left: 2;
}

SystemHealthWidget #exec-retries {
    color: $warning;
    padding-left: 2;
}

SystemHealthWidget #exec-rejects.hidden,
SystemHealthWidget #exec-retries.hidden {
    display: none;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Risk                                                              */
/* Source: styles/widgets/risk.tcss                                            */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* RISK WIDGET - Professional Display                                          */
/* ========================================================================== */

RiskWidget {
    layout: vertical;
    height: auto;
    padding: $spacing-sm $spacing-md; /* Increased padding */
}

RiskWidget .risk-section {
    margin-bottom: $spacing-md; /* Increased spacing between sections */
}

RiskWidget ProgressBar {
    margin: 0 1;
}

/* Risk labels and values */
RiskWidget .risk-label {
    color: $text-muted;
    margin-bottom: $spacing-xs; /* Spacing before value */
}

RiskWidget .risk-value {
    color: $text-primary;
    text-style: bold;
    padding: 0 1;
    background: transparent;
    border-left: wide $accent-muted;
}

RiskWidget .risk-value.status-ok {
    color: $success;
    text-style: bold;
}

RiskWidget .risk-value.status-warning {
    color: $warning;
    text-style: bold;
}

RiskWidget .risk-value.status-critical {
    color: $error;
    text-style: bold;
}

/* Risk grid layout */
RiskWidget .risk-grid {
    layout: grid;
    grid-size: 2;
    grid-gutter: $spacing-md; /* Increased gutter for better spacing */
    padding: $spacing-sm 0; /* Vertical padding */
}

/* Risk summary row - compact at-a-glance status */
RiskWidget .risk-summary-row {
    layout: grid;
    grid-size: 6;
    grid-gutter: 1;
    height: 1;
    margin-bottom: $spacing-sm;
    padding: 0 1;
    background: $surface;
}

RiskWidget .risk-summary-row .risk-label {
    margin-bottom: 0;
    text-style: none;
}

RiskWidget .risk-summary-row .risk-value {
    border-left: none;
    padding: 0;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Strategy                                                          */
/* Source: styles/widgets/strategy.tcss                                        */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* STRATEGY WIDGET                                                            */
/* ========================================================================== */

StrategyWidget {
    layout: vertical;
    height: 1fr;
}

StrategyWidget DataTable {
    height: 1fr;
}

/* Empty state styling uses global .empty-state from utilities.tcss */


/* ========================================================================== */
/* STRATEGY DECISION CARD (Position Detail Screen)                            */
/* ========================================================================== */

/* Regime badge - shows market regime for ensemble strategies */
.decision-regime {
    padding: 0 1;
    margin-bottom: 1;
    text-style: bold;
    background: $bg-elevated;
}

.decision-regime.hidden {
    display: none;
}

/* Decision header with action and confidence */
.decision-header {
    height: auto;
    margin-bottom: 1;
}

.decision-action {
    text-style: bold;
    min-width: 8;
}

.decision-confidence {
    margin-left: 2;
}

.decision-reason {
    color: $text-secondary;
    margin-bottom: 1;
}

.decision-time {
    color: $text-muted;
}

.decision-movers {
    padding: 0 1;
    margin-bottom: 1;
    height: auto;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Validation                                                        */
/* Source: styles/widgets/validation.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* VALIDATION INDICATOR WIDGET                                                */
/* ========================================================================== */

ValidationIndicatorWidget {
    height: auto;
    min-height: 1;
    max-height: 3;
    padding: 0 1;
}

ValidationIndicatorWidget.hidden {
    display: none;
}

ValidationIndicatorWidget.has-errors {
    background: $error-muted;
    color: $error;
}

ValidationIndicatorWidget.has-warnings {
    background: $warning-muted;
    color: $warning;
}

ValidationIndicatorWidget.valid {
    background: $success-muted;
    color: $success;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Shell                                                             */
/* Source: styles/widgets/shell.tcss                                           */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* SHELL COMPONENTS - Command Bar                                             */
/* ========================================================================== */

CommandBar {
    layout: horizontal;
    align-vertical: middle;
    padding: 0 1;
}

CommandBar .identity {
    width: 1fr;
    content-align: left middle;
    text-style: bold;
    color: $accent-bright;
}

CommandBar .status-area {
    width: 2fr;
    content-align: center middle;
    layout: horizontal;
    align: center middle;
}

CommandBar .system-area {
    width: 1fr;
    content-align: right middle;
    layout: horizontal;
    align: right middle;
}

/* Mode badges */
CommandBar .mode-badge {
    background: $bg-highlight;
    color: $text-muted;
    padding: 0 1;
    margin: 0 1;
    text-style: bold;
}

CommandBar .mode-badge.live {
    background: $error;
    color: $text-primary;
}

CommandBar .mode-badge.paper {
    background: $warning;
    color: $bg-primary;
}

CommandBar .status-text {
    color: $text-muted;
    margin-right: 1;
}

/* Connection status colors */
CommandBar .status-text.connected {
    color: $success;
}

CommandBar .status-text.stopped {
    color: $text-muted;
}

CommandBar .status-text.stale {
    color: $warning;
}

CommandBar .status-text.disconnected {
    color: $error;
}

/* Ready badge - shows onboarding status for non-demo modes */
CommandBar .ready-badge {
    padding: 0 1;
    margin-left: 1;
    text-style: bold;
}

CommandBar .ready-badge.ready {
    background: $success;
    color: $bg-primary;
}

CommandBar .ready-badge.not-ready {
    background: $bg-highlight;
    color: $warning;
}

CommandBar .ready-badge.hidden {
    display: none;
}

CommandBar .clock {
    color: $accent;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Performance                                                       */
/* Source: styles/widgets/performance.tcss                                     */
/* ---------------------------------------------------------------------------- */

/* Performance Dashboard Widget Styles
 *
 * Styling for the TUI performance monitoring widget.
 * Uses Nord-Vibrant color palette for consistency.
 */

PerformanceDashboardWidget {
    layout: vertical;
    height: auto;
    min-height: 8;
    padding: 1;
    border: none;
    border-left: wide $accent;
    background: $bg-secondary;
}

PerformanceDashboardWidget .perf-header {
    text-style: bold;
    color: $text-primary;
    margin-bottom: 1;
}

PerformanceDashboardWidget .perf-row {
    layout: horizontal;
    height: 1;
}

PerformanceDashboardWidget .perf-label {
    width: 12;
    color: $text-muted;
}

PerformanceDashboardWidget .perf-value {
    width: auto;
    text-style: bold;
    color: $text-primary;
}

PerformanceDashboardWidget .perf-value.status-ok {
    color: $success;
    text-style: bold;
}

PerformanceDashboardWidget .perf-value.status-warning {
    color: $warning;
    text-style: bold;
}

PerformanceDashboardWidget .perf-value.status-critical {
    color: $error;
    text-style: bold;
}

/* Budget target hints */
PerformanceDashboardWidget .perf-target {
    width: auto;
    color: $text-muted;
    margin-left: 1;
}

/* Budget summary row */
PerformanceDashboardWidget .budget-summary {
    margin-bottom: 1;
    padding-bottom: 1;
}

/* Slow operations section */
PerformanceDashboardWidget .slow-ops-header {
    margin-top: 1;
    color: $text-muted;
    text-style: italic;
}

PerformanceDashboardWidget .slow-op {
    color: $warning;
    padding-left: 2;
}

PerformanceDashboardWidget .text-muted {
    color: $text-muted;
}

/* Performance screen modal */
PerformanceScreen {
    align: center middle;
}

PerformanceScreen #perf-modal {
    width: 60;
    height: auto;
    max-height: 30;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
    padding: 1 2;
}

PerformanceScreen .perf-title {
    text-style: bold;
    text-align: center;
    color: $text-primary;
    margin-bottom: 1;
}

PerformanceScreen .perf-footer {
    margin-top: 1;
    text-align: center;
    color: $text-muted;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Breadcrumb                                                        */
/* Source: styles/widgets/breadcrumb.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* BREADCRUMB WIDGET - Navigation Hierarchy Display                           */
/* ========================================================================== */

BreadcrumbWidget,
ScreenBreadcrumb {
    width: 100%;
    height: 1;
    padding: 0 1;
    background: transparent;
}

.breadcrumb-widget {
    width: 100%;
    height: 1;
}

.breadcrumb-container {
    width: 100%;
    height: 1;
    align: left middle;
}

.breadcrumb-content {
    width: auto;
    height: 1;
    color: $text-muted;
}

/* Breadcrumb in header area */
.header-breadcrumb {
    margin-bottom: 1;
    padding-left: 2;
}

/* Compact breadcrumb for tight spaces */
.breadcrumb-compact {
    height: 1;
    padding: 0;
}

.breadcrumb-compact .breadcrumb-content {
    color: $text-muted;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Alert Inbox                                                       */
/* Source: styles/widgets/alert_inbox.tcss                                     */
/* ---------------------------------------------------------------------------- */

/* Alert Inbox Widget Styles */

AlertInbox {
    height: auto;
    max-height: 20;
    border: none;
    border-left: wide $accent-muted;
    background: $bg-primary;
}

/* Header section */
.inbox-header {
    height: 1;
    width: 100%;
    background: $bg-elevated;
    padding: 0 1;
}

.inbox-header .widget-header {
    width: 1fr;
    text-style: bold;
    color: $accent;
}

.alert-count {
    color: $text-muted;
}

/* Filter buttons row */
.inbox-filters {
    height: 1;
    width: 100%;
    padding: 0 1;
    background: $bg-secondary;
}

.filter-btn {
    min-width: 8;
    height: 1;
    margin-right: 1;
    background: transparent;
    color: $text-muted;
    border: none;
}

.filter-btn.active {
    color: $accent;
    text-style: bold;
}

.filter-btn:hover {
    background: $bg-elevated;
}

/* Alert list container */
#alert-list {
    height: auto;
    max-height: 15;
    padding: 0;
}

/* Individual alert item */
.alert-item {
    height: 2;
    width: 100%;
    padding: 0 1;
}

.alert-item:hover {
    background: $bg-elevated;
}

/* Severity indicator dot */
.severity-dot {
    width: 2;
    text-align: center;
}

.severity-dot.severity-information {
    color: $primary;
}

.severity-dot.severity-warning {
    color: $warning;
}

.severity-dot.severity-error {
    color: $error;
}

/* Alert content */
.alert-content {
    width: 1fr;
    height: auto;
}

.alert-title {
    text-style: bold;
    color: $text;
}

.alert-message {
    color: $text-muted;
}

/* Category badges */
.category-badge {
    width: 5;
    text-align: center;
    padding: 0 1;
    color: $text-muted;
}

.category-badge.category-trade {
    color: $success;
}

.category-badge.category-position {
    color: $primary;
}

.category-badge.category-strategy {
    color: $accent;
}

.category-badge.category-risk {
    color: $warning;
}

.category-badge.category-system {
    color: $text-muted;
}

.category-badge.category-error {
    color: $error;
}

/* Empty state */
.empty-inbox {
    height: 3;
    width: 100%;
    align: center middle;
    color: $text-muted;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Onboarding                                                        */
/* Source: styles/widgets/onboarding.tcss                                      */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* ONBOARDING CHECKLIST WIDGET                                                */
/* ========================================================================== */

OnboardingChecklist {
    layout: vertical;
    height: auto;
    padding: 1;
    background: $bg-elevated;
    border: solid $border;
}

OnboardingChecklist .widget-header {
    text-style: bold;
    color: $accent;
    margin-bottom: 1;
}

OnboardingChecklist .checklist-items {
    height: auto;
    margin-bottom: 1;
}

/* Checklist item styling */
OnboardingChecklist .checklist-item {
    padding: 0 1;
    height: 1;
}

OnboardingChecklist .checklist-item.completed {
    color: $text-secondary;
}

OnboardingChecklist .checklist-item.pending {
    color: $text-primary;
}

OnboardingChecklist .checklist-item.next {
    color: $warning;
    background: $bg-highlight;
}

OnboardingChecklist .checklist-item.optional {
    color: $text-muted;
}

OnboardingChecklist .checklist-summary {
    margin-top: 1;
    padding: 0 1;
}


/* ---------------------------------------------------------------------------- */
/* WIDGETS: Trading Stats                                                     */
/* Source: styles/widgets/trading_stats.tcss                                   */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* TRADING STATS WIDGET                                                       */
/* ========================================================================== */

TradingStatsWidget {
    height: auto;
    background: $bg-secondary;
    border-left: wide $accent;
    padding: 0 1;
}

/* === Header === */

TradingStatsWidget .stats-header {
    height: 2;
    align: left middle;
}

TradingStatsWidget .widget-header {
    color: $text-primary;
    text-style: bold;
    width: auto;
    padding-right: 1;
}

TradingStatsWidget .window-label {
    color: $accent;
    text-style: italic;
    width: auto;
    padding-right: 1;
}

TradingStatsWidget .sample-label {
    color: $text-muted;
    width: auto;
}

TradingStatsWidget .sample-label.insufficient {
    color: $warning;
}

/* === Compact View === */

TradingStatsWidget .stats-compact {
    height: 1;
    align: left middle;
}

TradingStatsWidget .stats-compact .stat-value {
    width: auto;
    padding: 0 1;
}

TradingStatsWidget .stats-compact .stat-separator {
    color: $border-subtle;
    width: 1;
}

/* === Expanded View === */

TradingStatsWidget .stats-body {
    height: auto;
    padding: 0;
}

TradingStatsWidget .stats-row {
    height: 2;
    layout: horizontal;
    align: left middle;
}

TradingStatsWidget .stat-metric {
    width: 1fr;
    height: 2;
    padding: 0 1;
}

TradingStatsWidget .stat-label {
    color: $text-muted;
    text-style: italic;
    height: 1;
}

TradingStatsWidget .stat-value {
    color: $text-primary;
    text-style: bold;
    height: 1;
}

/* === Time Window Chips === */

TradingStatsWidget .window-chips {
    height: 2;
    align: left middle;
    padding: 0;
    margin-top: 1;
}

TradingStatsWidget .window-chip {
    min-width: 10;
    height: 1;
    margin: 0;
    padding: 0 1;
    background: transparent;
    color: $text-muted;
    border: none;
}

TradingStatsWidget .window-chip:hover {
    background: $bg-highlight;
    color: $text-primary;
}

TradingStatsWidget .window-chip.active {
    background: $accent-muted;
    color: $accent;
    text-style: bold;
}


/* ---------------------------------------------------------------------------- */
/* SCREENS: Mode Selection                                                    */
/* Source: styles/screens/mode_selection.tcss                                  */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* MODE SELECTION SCREEN                                                      */
/* ========================================================================== */

ModeSelectionScreen {
    align: center middle;
    background: $bg-primary;
}

#mode-selection-container {
    width: 80;
    height: auto;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
    padding: 2;
    align: center middle;
}

#selection-title {
    text-align: center;
    text-style: bold;
    color: $accent;
    width: 100%;
    margin-bottom: 2;
}

#selection-subtitle {
    text-align: center;
    color: $text-secondary;
    width: 100%;
    margin-bottom: 3;
}

/* Quick resume banner */
.resume-banner {
    width: 100%;
    height: auto;
    padding: 1 2;
    margin-bottom: 2;
    background: $accent-muted;
    border: none;
    border-left: wide $accent;
}

.resume-hint {
    text-align: center;
    color: $accent;
    text-style: bold;
    width: 100%;
}

#resume-banner {
    width: 100%;
}

.mode-option {
    width: 100%;
    height: auto;
    background: $bg-elevated;
    border: none;
    padding: 1 2;
    margin: 1 0;
}

.mode-option:hover {
    background: $accent-muted;
}

.mode-option-header {
    text-style: bold;
    color: $text-primary;
    margin-bottom: 1;
}

.mode-option-description {
    color: $text-secondary;
    margin-left: 2;
}

.mode-demo {
    border-left: wide $info;
}

.mode-paper {
    border-left: wide $success;
}

.mode-observe {
    border-left: wide $warning;
}

.mode-live {
    border-left: wide $error;
}

/* First-time setup hint */
.setup-hint-container {
    width: 100%;
    height: auto;
    padding: 1 2;
    margin-top: 2;
    background: $bg-elevated;
    border: none;
    border-left: wide $info;
}

.setup-hint {
    text-align: center;
    color: $info;
    width: 100%;
}

#quit-button {
    width: 100%;
    margin-top: 2;
}


/* ---------------------------------------------------------------------------- */
/* SCREENS: Alert History                                                     */
/* Source: styles/screens/alert_history.tcss                                   */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* ALERT HISTORY SCREEN                                                       */
/* ========================================================================== */

AlertHistoryScreen {
    align: center middle;
}

AlertHistoryScreen > Container {
    width: 90%;
    height: 90%;
    border: none;
    border-left: wide $accent;
    background: $bg-secondary;
}

AlertHistoryScreen .title {
    dock: top;
    text-align: center;
    text-style: bold;
    padding: 1;
    background: $bg-elevated;
    color: $text-primary;
}

/* Filter chips row */
AlertHistoryScreen .filter-chips {
    dock: top;
    height: 3;
    padding: 0 2;
    align: center middle;
    background: $bg-elevated;
}

AlertHistoryScreen .filter-chip {
    min-width: 12;
    height: 1;
    margin: 0 1;
    background: transparent;
    color: $text-muted;
    border: tall $border-subtle;
}

AlertHistoryScreen .filter-chip:hover {
    background: $bg-highlight;
    border: tall $border-subtle;
}

AlertHistoryScreen .filter-chip.active {
    background: $accent-muted;
    color: $accent;
    border: tall $accent;
    text-style: bold;
}

AlertHistoryScreen .stats {
    dock: top;
    padding: 0 2;
    height: 1;
    background: $bg-secondary;
    color: $text-muted;
}

AlertHistoryScreen DataTable {
    height: 1fr;
    margin: 1 2;
}

AlertHistoryScreen .button-bar {
    dock: bottom;
    height: 3;
    align: center middle;
    padding: 0 2;
}

AlertHistoryScreen Button {
    margin: 0 1;
}


/* ---------------------------------------------------------------------------- */
/* SCREENS: Help                                                              */
/* Source: styles/screens/help.tcss                                            */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* HELP SCREEN                                                                */
/* ========================================================================== */

HelpScreen {
    align: center middle;
    background: $overlay-disabled;
}

HelpScreen #help-container {
    width: auto;
    max-width: 80;
    height: auto;
    max-height: 90%;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
    padding: $spacing-md;
}

HelpScreen .help-title {
    color: $accent;
    text-style: bold;
    text-align: center;
    margin-bottom: $spacing-xs;
}

HelpScreen .help-category {
    color: $text-primary;
    text-style: bold;
    margin-top: $spacing-xs;
    margin-bottom: 0;
}

HelpScreen .help-shortcut {
    layout: horizontal;
    height: auto;
    margin-left: $spacing-sm;
}

HelpScreen .help-key {
    background: $bg-elevated;
    color: $accent;
    text-style: bold;
    padding: 0 $spacing-xs;
    min-width: 8;
}

HelpScreen .help-description {
    color: $text-secondary;
    margin-left: $spacing-sm;
}

HelpScreen .help-footer {
    color: $text-muted;
    text-style: italic;
    text-align: center;
    margin-top: $spacing-xs;
}


/* ---------------------------------------------------------------------------- */
/* SCREENS: Credential Validation                                             */
/* Source: styles/screens/credential_validation.tcss                           */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* CREDENTIAL VALIDATION SCREEN                                               */
/* ========================================================================== */

CredentialValidationScreen {
    align: center middle;
    background: $overlay-disabled;
}

CredentialValidationScreen #validation-container {
    width: 70;
    max-width: 90%;
    height: auto;
    max-height: 85%;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
    padding: 1 2;
}

CredentialValidationScreen .validation-title {
    text-align: center;
    text-style: bold;
    padding: $spacing-xs;
    margin-bottom: $spacing-xs;
}

CredentialValidationScreen .validation-title-passed {
    color: $success;
    background: $success-muted;
}

CredentialValidationScreen .validation-title-failed {
    color: $error;
    background: $error-muted;
}

CredentialValidationScreen .validation-title-warning {
    color: $warning;
    background: $warning-muted;
}

CredentialValidationScreen #findings-scroll {
    height: auto;
    max-height: 20;
    margin-bottom: $spacing-xs;
}

/* Category section headers */
CredentialValidationScreen .category-header {
    text-style: bold;
    padding: $spacing-xs 0;
    margin-top: $spacing-xs;
}

CredentialValidationScreen .category-success {
    color: $success;
}

CredentialValidationScreen .category-warning {
    color: $warning;
}

CredentialValidationScreen .category-error {
    color: $error;
}

CredentialValidationScreen .finding-row {
    height: auto;
    padding: 0 $spacing-xs;
    margin-bottom: 0;
}

CredentialValidationScreen .finding-row.finding-success {
    color: $success;
}

CredentialValidationScreen .finding-row.finding-info {
    color: $info;
}

CredentialValidationScreen .finding-row.finding-warning {
    color: $warning;
}

CredentialValidationScreen .finding-row.finding-error {
    color: $error;
}

CredentialValidationScreen .finding-details {
    color: $text-muted;
    margin-left: 4;
    text-style: italic;
}

CredentialValidationScreen .finding-suggestion {
    color: $info;
    margin-left: 4;
}

CredentialValidationScreen .summary-line {
    text-align: center;
    padding: $spacing-xs;
    margin-top: $spacing-xs;
}

CredentialValidationScreen .summary-success {
    color: $success;
}

CredentialValidationScreen .summary-warning {
    color: $warning;
}

CredentialValidationScreen .summary-error {
    color: $error;
}

CredentialValidationScreen #button-container {
    height: auto;
    align: center middle;
    margin-top: $spacing-xs;
}

CredentialValidationScreen #button-container Button {
    margin: 0 $spacing-xs;
    min-width: 16;
}

CredentialValidationScreen #proceed-btn {
    background: $success-dim;
}

CredentialValidationScreen #proceed-btn:hover {
    background: $success;
}

CredentialValidationScreen #cancel-btn {
    background: $error-dim;
}

CredentialValidationScreen #cancel-btn:hover {
    background: $error;
}

CredentialValidationScreen #setup-btn {
    background: $accent-bright;
}

CredentialValidationScreen #setup-btn:hover {
    background: $accent-hover;
}

CredentialValidationScreen #retry-btn {
    background: $warning-dim;
}

CredentialValidationScreen #retry-btn:hover {
    background: $warning;
}


/* ---------------------------------------------------------------------------- */
/* SCREENS: Api Setup Wizard                                                  */
/* Source: styles/screens/api_setup_wizard.tcss                                */
/* ---------------------------------------------------------------------------- */

/* ========================================================================== */
/* API SETUP WIZARD SCREEN                                                    */
/* ========================================================================== */

APISetupWizardScreen {
    align: center middle;
    background: $overlay-disabled;
}

APISetupWizardScreen #wizard-container {
    width: 75;
    max-width: 90%;
    height: auto;
    max-height: 85%;
    background: $bg-secondary;
    border: none;
    border-left: wide $accent;
    padding: 1 2;
}

/* Step progress dots (    ) */
APISetupWizardScreen .wizard-dots {
    text-align: center;
    color: $accent;
    padding: $spacing-xs 0;
    text-style: bold;
}

APISetupWizardScreen .wizard-header {
    height: auto;
    padding: $spacing-xs;
    margin-bottom: $spacing-xs;
}

APISetupWizardScreen .wizard-step-indicator {
    color: $text-muted;
    text-align: right;
}

APISetupWizardScreen .wizard-title {
    color: $accent;
    text-style: bold;
    text-align: center;
}

APISetupWizardScreen #wizard-content {
    height: auto;
    max-height: 20;
    padding: $spacing-xs;
    margin-bottom: $spacing-xs;
}

APISetupWizardScreen .wizard-text {
    color: $text-primary;
    margin-bottom: 0;
}

APISetupWizardScreen .wizard-url {
    color: $info;
    text-style: bold;
}

APISetupWizardScreen .wizard-important {
    color: $warning;
    text-style: bold;
}

APISetupWizardScreen .wizard-code {
    color: $success;
    background: $bg-primary;
}

APISetupWizardScreen #wizard-buttons {
    height: auto;
    align: center middle;
    margin-top: $spacing-xs;
}

APISetupWizardScreen #wizard-buttons Button {
    margin: 0 $spacing-xs;
    min-width: 12;
}

APISetupWizardScreen #back-btn {
    background: $bg-elevated;
}

APISetupWizardScreen #back-btn:hover {
    background: $bg-highlight;
}

APISetupWizardScreen #next-btn {
    background: $success-dim;
}

APISetupWizardScreen #next-btn:hover {
    background: $success;
}

APISetupWizardScreen #cancel-btn {
    background: $error-dim;
}

APISetupWizardScreen #cancel-btn:hover {
    background: $error;
}
